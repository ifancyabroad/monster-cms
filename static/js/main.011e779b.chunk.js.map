{"version":3,"sources":["common/utils/enums/index.ts","common/utils/constants/index.ts","common/utils/helpers/skills.ts","common/utils/helpers/monsters.ts","common/utils/helpers/weapons.ts","common/utils/helpers/armours.ts","common/utils/helpers/index.ts","common/components/EffectCard/StatusEffect.tsx","common/components/EffectCard/DamageEffect.tsx","common/components/EffectCard/HealEffect.tsx","common/components/EffectCard/AuxiliaryEffect.tsx","common/components/EffectCard/WeaponDamageEffect.tsx","common/components/EffectCard/index.tsx","common/hooks/index.ts","features/modals/modalsSlice.ts","common/context/AddEquipmentContext.ts","common/context/EffectContext.ts","common/context/AddSkillsContext.ts","common/context/AuthContext.tsx","features/modals/AddEquipmentModal.tsx","features/modals/AddSkillsModal.tsx","features/armours/ArmourPropertiesTable.tsx","firebaseSetup.ts","features/armours/armoursSlice.ts","features/armours/Armour.tsx","features/armours/Armours.tsx","features/modals/ArmourModal.tsx","features/modals/ConfirmationModal.tsx","features/modals/ErrorModal.tsx","features/modals/LoginModal.tsx","features/monsters/monstersSlice.ts","features/skills/skillsSlice.ts","features/skills/SkillPropertiesTable.tsx","features/skills/SkillIcon.tsx","features/skills/Skill.tsx","features/skills/SkillCard.tsx","features/skills/Skills.tsx","features/weapons/WeaponPropertiesTable.tsx","features/weapons/weaponsSlice.ts","features/weapons/Weapon.tsx","features/weapons/Weapons.tsx","features/equipment/equipmentSlice.ts","features/equipment/EquipmentSlotIcon.tsx","features/equipment/EquipmentCard.tsx","features/monsters/Monster.tsx","features/monsters/Monsters.tsx","features/modals/monsterModalComponents/EquipmentItem.tsx","features/modals/monsterModalComponents/SkillItem.tsx","features/modals/MonsterModal.tsx","features/modals/effectModalComponents/AuxiliaryEffect.tsx","features/modals/effectModalComponents/DamageEffect.tsx","features/modals/effectModalComponents/HealEffect.tsx","features/modals/effectModalComponents/StatusEffect.tsx","features/modals/effectModalComponents/WeaponDamageEffect.tsx","features/modals/EffectModal.tsx","features/modals/EffectCard/StatusEffect.tsx","features/modals/EffectCard/DamageEffect.tsx","features/modals/EffectCard/HealEffect.tsx","features/modals/EffectCard/AuxiliaryEffect.tsx","features/modals/EffectCard/WeaponDamageEffect.tsx","features/modals/EffectCard/index.tsx","features/modals/SkillModal.tsx","features/modals/WeaponModal.tsx","features/sidedrawer/sidedrawerSlice.ts","features/sidedrawer/SideDrawerContent.tsx","features/sidedrawer/SideDrawer.tsx","common/components/Header/index.tsx","common/components/HOCLayout/index.tsx","common/components/StatGroup/index.tsx","common/components/StatsTable/index.tsx","common/components/Tables/ArmourTable/TableDefaultActions.tsx","common/components/Tables/ArmourTable/TableAddActions.tsx","common/components/Tables/ArmourTable/TableRow.tsx","common/components/Tables/ArmourTable/TableFilters.tsx","common/components/Tables/ArmourTable/index.tsx","common/components/Tables/MonstersTable/TableDefaultActions.tsx","common/components/Tables/MonstersTable/TableRow.tsx","common/components/Tables/MonstersTable/TableFilters.tsx","common/components/Tables/MonstersTable/index.tsx","common/components/Tables/SkillsTable/TableDefaultActions.tsx","common/components/Tables/SkillsTable/TableAddActions.tsx","common/components/Tables/SkillsTable/TableRow.tsx","common/components/Tables/SkillsTable/TableFilters.tsx","common/components/Tables/SkillsTable/index.tsx","common/components/Tables/WeaponsTable/TableDefaultActions.tsx","common/components/Tables/WeaponsTable/TableAddActions.tsx","common/components/Tables/WeaponsTable/TableRow.tsx","common/components/Tables/WeaponsTable/TableFilters.tsx","common/components/Tables/WeaponsTable/index.tsx","features/classes/Classes.tsx","features/dashboard/DashboardCard.tsx","assets/images/monsters.jpg","assets/images/skills.png","assets/images/weapons.webp","assets/images/armour.jpg","features/dashboard/Dashboard.tsx","features/settings/Settings.tsx","app/App.tsx","reportWebVitals.ts","app/store.ts","theme.ts","common/provider/AuthProvider.tsx","common/components/DatabaseListener/index.tsx","index.tsx"],"names":["EffectType","Target","AuxiliaryEffect","CharacterClass","Stat","DamageType","SkillType","WeaponType","WeaponSize","EquipmentType","EquipmentSlot","DRAWER_WIDTH","MAX_GOLD_VALUE","MAX_DAMAGE","MAX_MULTIPLIER","STATS","Strength","Dexterity","Constitution","Intelligence","Wisdom","Charisma","RESISTANCES","Slashing","Crushing","Piercing","Cold","Fire","Lighting","Radiant","Necrotic","Poison","Acid","PHYSICAL_RESISTANCES","ELEMENTAL_RESISTANCES","AUXILLARY_RESISTANCES","STATS_NAME_MAP","RESISTANCES_NAME_MAP","SKILL_EFFECTS","WeaponDamage","Damage","Heal","Status","Auxiliary","WEAPON_EFFECTS","EFFECTS_NAME_MAP","AUXILIARY_EFFECTS","Stun","Bleed","AUXILIARY_EFFECTS_NAME_MAP","CLASSES","Common","Warrior","Mage","Rogue","Cleric","CLASS_NAME_MAP","SKILL_TYPES","WeaponAttack","Attack","Buff","Debuff","Other","SKILL_TYPE_NAME_MAP","WEAPON_TYPES","Axe","Bow","Club","Crossbow","Dagger","Hammer","Mace","Spear","Staff","Sword","WEAPON_TYPE_NAME_MAP","WEAPON_SIZES","OneHanded","TwoHanded","WEAPON_SIZE_NAME_MAP","ARMOUR_TYPES","Amulet","Armour","Belt","Boots","Gloves","Helmet","Ring","Shield","EQUIPMENT_TYPE_NAME_MAP","Weapon","EQUIPMENT_SLOT_TYPE_MAP","Head","Neck","Body","Waist","Hands","Feet","Finger1","Finger2","Hand1","Hand2","EQUIPMENT_SLOTS","EQUIPMENT_SLOT_NAME_MAP","getSkillType","skill","effects","target","effectTypes","map","effect","type","Enemy","includes","Self","descendingComparator","a","b","orderBy","first","second","getSkillsComparator","order","applySkillsFilters","filters","nameFilter","name","toLowerCase","classFilter","class","typeFilter","priceFilter","price","levelFilter","level","stats","getMonstersComparator","applyMonstersFilters","monster","challengeFilter","challenge","getWeaponsComparator","applyWeaponsFilters","weapon","weaponType","damageTypeFilter","damageType","getArmoursComparator","applyArmoursFilters","armour","getStatsArray","stat","key","value","getPartialStatsArray","Object","keys","getResistancesArray","getPartialResistancesArray","getElementalResistancesArray","getAuxillaryResistancesArray","StatusEffect","modifiers","accuracy","duration","resistances","Box","component","sx","margin","Typography","fontWeight","resistance","DamageEffect","modifier","multiplier","min","max","HealEffect","WeaponDamageEffect","ExpandMore","styled","props","expand","other","IconButton","theme","transform","transition","transitions","create","shortest","EffectCard","useState","expanded","setExpanded","Card","variant","CardHeader","title","action","onClick","Collapse","in","timeout","unmountOnExit","CardContent","getEffectDetails","useAppDispatch","useDispatch","useAppSelector","useSelector","modalsSlice","createSlice","initialState","loginModalOpen","confirmationModalOpen","errorModal","open","monsterModal","skillModal","weaponModal","armourModal","effectModal","addSkillsModalOpen","addEquipmentModalOpen","reducers","openLoginModal","state","closeLoginModal","openConfirmationModal","closeConfirmationModal","openErrorModal","payload","message","closeErrorModal","undefined","openMonsterModal","closeMonsterModal","openSkillModal","closeSkillModal","openWeaponModal","closeWeaponModal","openArmourModal","closeArmourModal","openEffectModal","index","closeEffectModal","openAddSkillsModal","closeAddSkillsModal","openAddEquipmentModal","closeAddEquipmentModal","actions","addEquipmentReducer","slot","Error","AddEquipmentContext","createContext","useAddEquipmentContext","addEquipmentContext","useContext","initialEffectState","weaponDamageEffectForm","damageEffectForm","healEffectForm","statusEffectForm","auxiliaryEffectForm","effectReducer","EffectContext","useEffectContext","effectContext","addSkillsReducer","concat","filter","AddSkillsContext","AuthContext","React","TabPanel","children","role","hidden","id","p","AddEquipmentModal","equipment","onSetEquipment","dispatch","modals","useReducer","localDispatch","activeTab","setActiveTab","providerState","useEffect","handleClose","Dialog","onClose","fullWidth","maxWidth","DialogTitle","DialogContent","width","borderBottom","borderColor","Tabs","onChange","event","newValue","Tab","label","Provider","DialogActions","Button","color","AddSkillsModal","skills","onSetSkills","ArmourPropertiesTable","TableContainer","Paper","Table","TableBody","TableCell","scope","align","defense","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","databaseURL","auth","stImages","storage","ref","dbMonsters","database","dbSkills","dbWeapons","dbArmours","fetchArmours","createAsyncThunk","fetchArmourImagePath","child","icon","getDownloadURL","console","error","saveArmour","newArmourRef","push","image","put","set","updateArmour","oldImage","delete","update","deleteArmour","remove","armoursSelector","armours","selectArmourById","createSelector","find","selectArmourImagePathById","armourImagePaths","armourImage","imagePath","armoursSlice","status","extraReducers","builder","addCase","pending","fulfilled","rejected","newArmourImage","meta","arg","Icon","useParams","user","armourImagePath","isLoading","handleDelete","handleConfirmDelete","unwrap","display","justifyContent","alignItems","flexWrap","marginBottom","Edit","fontSize","Delete","gap","src","alt","gutterBottom","paragraph","description","Divider","Grid","container","spacing","item","xs","md","lg","suffix","content","handleConfirm","disabled","Armours","DEFAULT_STAT_VALUES","DEFAULT_RESISTANCE_VALUES","defaultValues","defaultFormValues","ArmourModal","formValues","setFormValues","armourValues","useMemo","getBaseValues","setStats","setResistances","subtitle","handleChange","e","valueAsNumber","finalValue","handleSave","preventDefault","log","onSubmit","DialogContentText","my","FormControl","accept","style","multiple","currentTarget","files","htmlFor","marginLeft","TextField","autoFocus","required","inputProps","minLength","maxLength","multiline","minRows","select","MenuItem","newStats","forEach","newResistances","ConfirmationModal","ErrorModal","LoginModal","setIsLoading","emailRef","useRef","passwordRef","signIn","signInWithEmailAndPassword","current","inputRef","fetchMonsters","fetchMonsterImagePath","portrait","saveMonster","newMonsterRef","updateMonster","deleteMonster","monstersSelector","monsters","selectMonsterById","selectMonsterImagePathById","monsterImagePaths","monsterImage","monstersSlice","newMonsterImage","fetchSkills","fetchSkillImagePath","saveSkill","newSkillRef","updateSkill","deleteSkill","skillsSelector","selectSkillById","selectSkillImagePathById","skillImagePaths","skillImage","skillsSlice","newSkillImage","SkillPropertiesTable","border","maxUses","SkillIcon","skillImagePath","Skill","handleDeleteSkill","handleConfirmDeleteSkill","SkillCard","secondaryText","avatar","subheader","Link","to","Skills","WeaponPropertiesTable","size","fetchWeapons","fetchWeaponImagePath","saveWeapon","newWeaponRef","updateWeapon","deleteWeapon","weaponsSelector","weapons","selectWeaponById","selectWeaponImagePathById","weaponImagePaths","weaponImage","weaponsSlice","newWeaponImage","weaponImagePath","Weapons","equipmentSelector","selectEquipmentById","EquipmentSlotIcon","EquipmentCard","equipmentLink","Monster","monsterImagePath","handleDeleteMonster","handleConfirmDeleteMonster","maxHeight","gridGap","padding","textAlign","flex","orientation","flexItem","sm","Monsters","EquipmentItem","onRemove","ListItem","secondaryAction","edge","ListItemAvatar","Avatar","ListItemText","primary","secondary","SkillItem","onRemoveSkill","defaultMonsterValues","strength","dexterity","constitution","intelligence","wisdom","charisma","MonsterModal","monsterValues","getBaseMonsterValues","hasSkills","length","hasEquipment","values","Boolean","handleSaveMonster","handleRemoveSkill","sk","List","bgcolor","handleRemoveEquipment","step","EffectModal","onAddEffect","onUpdateEffect","effectType","setEffectType","confirm","mb","CardActions","defaultSkillValues","SkillModal","skillValues","getBaseSkillValues","hasEffects","handleRemoveEffect","newEffects","splice","handleSaveSkill","cl","i","defaultWeaponValues","WeaponModal","weaponValues","getBaseWeaponValues","weaponEffects","handleSaveWeapon","sidedrawerSlice","openSidedrawer","closeSidedrawer","SideDrawerItem","link","onAddItem","ListItemButton","ListItemSecondaryAction","Add","SideDrawerContent","monstersList","skillsList","weaponsList","armoursList","isMonsters","useRouteMatch","isSkills","isWeapons","isArmours","mixins","toolbar","paddingLeft","SideDrawer","mobileOpen","sidedrawer","flexShrink","Drawer","PaperProps","ModalProps","keepMounted","Header","signOut","AppBar","position","Toolbar","backgroundColor","marginRight","Menu","flexGrow","HOCLayout","Container","StatGroup","StatsTable","prefix","TableHead","colSpan","TableDefaultActions","onDelete","TableAddActions","slots","availableSlot","currentSlot","TableRow","setConfirmationModalOpen","hover","tabIndex","TableFilters","onChangeFilters","onChangeSlider","InputProps","endAdornment","InputAdornment","Slider","valueLabelDisplay","headCells","EnhancedTableHead","onRequestSort","headCell","sortDirection","TableSortLabel","active","direction","property","visuallyHidden","defaultFilters","ArmoursTable","setOrder","setOrderBy","page","setPage","rowsPerPage","setRowsPerPage","setFilters","emptyRows","Math","minWidth","slice","sort","row","height","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","MonstersTable","addSkillsContext","useAddSkillsContext","SkillsTable","WeaponsTable","Classes","DashboardCard","onAdd","CardMedia","Dashboard","monstersImage","skillsImage","weaponsImage","Settings","App","basename","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","modalsReducer","sidedrawerReducer","monstersReducer","skillsReducer","weaponsReducer","armoursReducer","createTheme","palette","background","default","paper","main","warning","info","success","mode","AuthProvider","setUser","onAuthStateChanged","firebaseUser","DatabaseListener","orderByChild","on","snapshot","childSnapshot","val","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"mIAAYA,EAQAC,EAMAC,IAMAC,EAQAC,EASAC,EAaAC,EASAC,EAaAC,EAKAC,EAYAC,E,sHAzFAV,K,4BAAAA,E,gBAAAA,E,YAAAA,E,gBAAAA,E,uBAAAA,M,cAQAC,K,YAAAA,E,YAAAA,E,eAAAA,M,MAMAC,Q,qBAAAA,E,YAAAA,E,uBAMAC,K,gBAAAA,E,kBAAAA,E,cAAAA,E,YAAAA,E,iBAAAA,M,cAQAC,K,oBAAAA,E,sBAAAA,E,4BAAAA,E,4BAAAA,E,gBAAAA,E,qBAAAA,M,cASAC,K,oBAAAA,E,oBAAAA,E,oBAAAA,E,YAAAA,E,YAAAA,E,oBAAAA,E,kBAAAA,E,oBAAAA,E,gBAAAA,E,aAAAA,M,cAaAC,K,4BAAAA,E,gBAAAA,E,YAAAA,E,YAAAA,E,gBAAAA,E,eAAAA,M,cASAC,K,UAAAA,E,UAAAA,E,YAAAA,E,oBAAAA,E,gBAAAA,E,gBAAAA,E,YAAAA,E,cAAAA,E,cAAAA,E,eAAAA,M,cAaAC,K,sBAAAA,E,uBAAAA,M,cAKAC,K,gBAAAA,E,gBAAAA,E,YAAAA,E,cAAAA,E,gBAAAA,E,gBAAAA,E,YAAAA,E,gBAAAA,E,iBAAAA,M,cAYAC,K,YAAAA,E,YAAAA,E,YAAAA,E,cAAAA,E,kBAAAA,E,kBAAAA,E,cAAAA,E,YAAAA,E,cAAAA,E,eAAAA,M,sCC5ECC,EAAe,IAIfC,EAAiB,IAGjBC,EAAa,IACbC,EAAiB,GAGjBC,EAAQ,CACpBX,EAAKY,SACLZ,EAAKa,UACLb,EAAKc,aACLd,EAAKe,aACLf,EAAKgB,OACLhB,EAAKiB,UAGOC,EAAc,CAC1BjB,EAAWkB,SACXlB,EAAWmB,SACXnB,EAAWoB,SACXpB,EAAWqB,KACXrB,EAAWsB,KACXtB,EAAWuB,SACXvB,EAAWwB,QACXxB,EAAWyB,SACXzB,EAAW0B,OACX1B,EAAW2B,MAGCC,EAAuB,CACnC5B,EAAWkB,SACXlB,EAAWmB,SACXnB,EAAWoB,UAGCS,EAAwB,CACpC7B,EAAWqB,KACXrB,EAAWsB,KACXtB,EAAWuB,UAGCO,EAAwB,CACpC9B,EAAWwB,QACXxB,EAAWyB,SACXzB,EAAW0B,OACX1B,EAAW2B,MAGCI,GAAoC,mBAC/ChC,EAAKiB,SAAW,YAD+B,cAE/CjB,EAAKc,aAAe,gBAF2B,cAG/Cd,EAAKa,UAAY,aAH8B,cAI/Cb,EAAKe,aAAe,gBAJ2B,cAK/Cf,EAAKY,SAAW,YAL+B,cAM/CZ,EAAKgB,OAAS,UANiC,GASpCiB,GAAgD,mBAC3DhC,EAAWkB,SAAW,YADqC,cAE3DlB,EAAWmB,SAAW,YAFqC,cAG3DnB,EAAWoB,SAAW,YAHqC,cAI3DpB,EAAWqB,KAAO,QAJyC,cAK3DrB,EAAWsB,KAAO,QALyC,cAM3DtB,EAAWuB,SAAW,YANqC,cAO3DvB,EAAWwB,QAAU,WAPsC,cAQ3DxB,EAAWyB,SAAW,YARqC,cAS3DzB,EAAW0B,OAAS,UATuC,cAU3D1B,EAAW2B,KAAO,QAVyC,GAahDM,EAAgB,CAC5BtC,EAAWuC,aACXvC,EAAWwC,OACXxC,EAAWyC,KACXzC,EAAW0C,OACX1C,EAAW2C,WAGCC,EAAiB,CAC7B5C,EAAWwC,OACXxC,EAAW0C,OACX1C,EAAW2C,WAGCE,GAA4C,mBACvD7C,EAAWuC,aAAe,iBAD6B,cAEvDvC,EAAWwC,OAAS,UAFmC,cAGvDxC,EAAWyC,KAAO,QAHqC,cAIvDzC,EAAW0C,OAAS,UAJmC,cAKvD1C,EAAW2C,UAAY,aALgC,GAQ5CG,GAAoB,CAChC5C,EAAgB6B,OAChB7B,EAAgB6C,KAChB7C,EAAgB8C,OAGJC,IAA2D,mBACtE/C,EAAgB6B,OAAS,UAD6C,cAEtE7B,EAAgB6C,KAAO,QAF+C,cAGtE7C,EAAgB8C,MAAQ,SAH8C,GAM3DE,GAAU,CACtB/C,EAAegD,OACfhD,EAAeiD,QACfjD,EAAekD,KACflD,EAAemD,MACfnD,EAAeoD,QAGHC,IAA8C,mBACzDrD,EAAegD,OAAS,UADiC,cAEzDhD,EAAeiD,QAAU,WAFgC,cAGzDjD,EAAekD,KAAO,QAHmC,cAIzDlD,EAAemD,MAAQ,SAJkC,cAKzDnD,EAAeoD,OAAS,UALiC,GAQ9CE,GAAc,CAC1BnD,EAAUoD,aACVpD,EAAUqD,OACVrD,EAAUmC,KACVnC,EAAUsD,KACVtD,EAAUuD,OACVvD,EAAUwD,OAGEC,IAA8C,mBACzDzD,EAAUoD,aAAe,iBADgC,cAEzDpD,EAAUqD,OAAS,UAFsC,cAGzDrD,EAAUmC,KAAO,QAHwC,cAIzDnC,EAAUsD,KAAO,QAJwC,cAKzDtD,EAAUuD,OAAS,UALsC,cAMzDvD,EAAUwD,MAAQ,SANuC,GAS9CE,GAAe,CAC3BzD,EAAW0D,IACX1D,EAAW2D,IACX3D,EAAW4D,KACX5D,EAAW6D,SACX7D,EAAW8D,OACX9D,EAAW+D,OACX/D,EAAWgE,KACXhE,EAAWiE,MACXjE,EAAWkE,MACXlE,EAAWmE,OAGCC,IAAgD,mBAC3DpE,EAAW0D,IAAM,OAD0C,cAE3D1D,EAAW2D,IAAM,OAF0C,cAG3D3D,EAAW4D,KAAO,QAHyC,cAI3D5D,EAAW6D,SAAW,YAJqC,cAK3D7D,EAAW8D,OAAS,UALuC,cAM3D9D,EAAW+D,OAAS,UANuC,cAO3D/D,EAAWgE,KAAO,QAPyC,cAQ3DhE,EAAWiE,MAAQ,SARwC,cAS3DjE,EAAWkE,MAAQ,SATwC,cAU3DlE,EAAWmE,MAAQ,SAVwC,GAahDE,GAAe,CAC3BpE,EAAWqE,UACXrE,EAAWsE,WAGCC,IAAgD,mBAC3DvE,EAAWqE,UAAY,cADoC,cAE3DrE,EAAWsE,UAAY,cAFoC,GAKhDE,GAAe,CAC3BvE,EAAcwE,OACdxE,EAAcyE,OACdzE,EAAc0E,KACd1E,EAAc2E,MACd3E,EAAc4E,OACd5E,EAAc6E,OACd7E,EAAc8E,KACd9E,EAAc+E,QAGFC,IAAsD,mBACjEhF,EAAcwE,OAAS,UAD0C,cAEjExE,EAAcyE,OAAS,UAF0C,cAGjEzE,EAAc0E,KAAO,QAH4C,cAIjE1E,EAAc2E,MAAQ,SAJ2C,cAKjE3E,EAAc4E,OAAS,UAL0C,cAMjE5E,EAAc6E,OAAS,UAN0C,cAOjE7E,EAAc8E,KAAO,QAP4C,cAQjE9E,EAAc+E,OAAS,UAR0C,cASjE/E,EAAciF,OAAS,UAT0C,GAYtDC,IAA+D,mBAC1ElF,EAAc6E,OAAS,CAAC5E,EAAckF,OADoC,cAE1EnF,EAAcwE,OAAS,CAACvE,EAAcmF,OAFoC,cAG1EpF,EAAcyE,OAAS,CAACxE,EAAcoF,OAHoC,cAI1ErF,EAAc0E,KAAO,CAACzE,EAAcqF,QAJsC,cAK1EtF,EAAc4E,OAAS,CAAC3E,EAAcsF,QALoC,cAM1EvF,EAAc2E,MAAQ,CAAC1E,EAAcuF,OANqC,cAO1ExF,EAAc8E,KAAO,CAAC7E,EAAcwF,QAASxF,EAAcyF,UAPe,cAQ1E1F,EAAciF,OAAS,CAAChF,EAAc0F,MAAO1F,EAAc2F,QARe,cAS1E5F,EAAc+E,OAAS,CAAC9E,EAAc2F,QAToC,GAY/DC,GAAkB,CAC9B5F,EAAckF,KACdlF,EAAcmF,KACdnF,EAAcoF,KACdpF,EAAcqF,MACdrF,EAAcsF,MACdtF,EAAcuF,KACdvF,EAAcwF,QACdxF,EAAcyF,QACdzF,EAAc0F,MACd1F,EAAc2F,OAGFE,IAAsD,mBACjE7F,EAAckF,KAAO,QAD4C,cAEjElF,EAAcmF,KAAO,QAF4C,cAGjEnF,EAAcoF,KAAO,QAH4C,cAIjEpF,EAAcqF,MAAQ,SAJ2C,cAKjErF,EAAcsF,MAAQ,SAL2C,cAMjEtF,EAAcuF,KAAO,QAN4C,cAOjEvF,EAAcwF,QAAU,UAPyC,cAQjExF,EAAcyF,QAAU,UARyC,cASjEzF,EAAc0F,MAAQ,aAT2C,cAUjE1F,EAAc2F,MAAQ,YAV2C,GC5OtDG,GAAe,SAACC,GAC5B,IAAQC,EAAoBD,EAApBC,QAASC,EAAWF,EAAXE,OACXC,EAAcF,EAAQG,KAAI,SAACC,GAAD,OAAYA,EAAOC,QAEnD,GAAIJ,IAAW1G,EAAO+G,MAAO,CAC5B,GAAIJ,EAAYK,SAASjH,EAAWuC,cACnC,OAAOjC,EAAUoD,aAGlB,GAAIkD,EAAYK,SAASjH,EAAWwC,QACnC,OAAOlC,EAAUqD,OAGlB,GACCiD,EAAYK,SAASjH,EAAW0C,SAChCkE,EAAYK,SAASjH,EAAW2C,WAEhC,OAAOrC,EAAUuD,OAInB,GAAI8C,IAAW1G,EAAOiH,KAAM,CAC3B,GAAIN,EAAYK,SAASjH,EAAWyC,MACnC,OAAOnC,EAAUmC,KAGlB,GACCmE,EAAYK,SAASjH,EAAW0C,SAChCkE,EAAYK,SAASjH,EAAW2C,WAEhC,OAAOrC,EAAUsD,KAInB,OAAOtD,EAAUwD,OAGZqD,GAAuB,SAC5BC,EACAC,EACAC,GAEA,IAAMC,EAAoB,SAAZD,EAAqBd,GAAaY,GAAKA,EAAEE,GACjDE,EAAqB,SAAZF,EAAqBd,GAAaa,GAAKA,EAAEC,GACxD,OAAIE,EAASD,GACJ,EAELC,EAASD,EACL,EAED,GAGKE,GAAsB,SAClCC,EACAJ,GAEA,MAAiB,SAAVI,EACJ,SAACN,EAAGC,GAAJ,OAAUF,GAAqBC,EAAGC,EAAGC,IACrC,SAACF,EAAGC,GAAJ,OAAWF,GAAqBC,EAAGC,EAAGC,KAG7BK,GAAqB,SACjCC,GAEA,OAAO,SAACnB,GACP,IAAMoB,EAAapB,EAAMqB,KACvBC,cACAd,SAASW,EAAQE,KAAKC,eAClBC,EACa,QAAlBJ,EAAQK,OAAmBxB,EAAMwB,QAAUL,EAAQK,MAC9CC,EACY,QAAjBN,EAAQb,MAAkBP,GAAaC,KAAWmB,EAAQb,KACrDoB,EAAcP,EAAQQ,OAAS3B,EAAM2B,MACrCC,EAAcT,EAAQU,OAAS7B,EAAM6B,MAC3C,OACCT,GACAG,GACAE,GACAC,GACAE,IC3EGlB,GAAuB,SAC5BC,EACAC,EACAC,GAEA,IAAMC,EACLD,KAAWF,EAAEmB,MACVnB,EAAEmB,MAAMjB,GACRF,EAAEE,IAA8B,EAC9BE,EACLF,KAAWD,EAAEkB,MACVlB,EAAEkB,MAAMjB,GACRD,EAAEC,IAA8B,EAEpC,OAAIE,EAASD,GACJ,EAELC,EAASD,EACL,EAED,GAGKiB,GAAwB,SACpCd,EACAJ,GAEA,MAAiB,SAAVI,EACJ,SAACN,EAAGC,GAAJ,OAAUF,GAAqBC,EAAGC,EAAGC,IACrC,SAACF,EAAGC,GAAJ,OAAWF,GAAqBC,EAAGC,EAAGC,KAG7BmB,GAAuB,SACnCb,GAEA,OAAO,SAACc,GACP,IAAMb,EAAaa,EAAQZ,KACzBC,cACAd,SAASW,EAAQE,KAAKC,eAClBY,EAAkBf,EAAQgB,WAAaF,EAAQE,UACrD,OAAOf,GAAcc,IC9CjBxB,GAAuB,SAC5BC,EACAC,EACAC,GAEA,IAAMC,EAAQH,EAAEE,IAAY,EACtBE,EAASH,EAAEC,IAAY,EAC7B,OAAIE,EAASD,GACJ,EAELC,EAASD,EACL,EAED,GAGKsB,GAAuB,SACnCnB,EACAJ,GAEA,MAAiB,SAAVI,EACJ,SAACN,EAAGC,GAAJ,OAAUF,GAAqBC,EAAGC,EAAGC,IACrC,SAACF,EAAGC,GAAJ,OAAWF,GAAqBC,EAAGC,EAAGC,KAG7BwB,GAAsB,SAClClB,GAEA,OAAO,SAACmB,GACP,IAAMlB,EAAakB,EAAOjB,KACxBC,cACAd,SAASW,EAAQE,KAAKC,eAClBG,EACY,QAAjBN,EAAQb,MAAkBgC,EAAOC,aAAepB,EAAQb,KACnDkC,EACkB,QAAvBrB,EAAQsB,YACRH,EAAOG,aAAetB,EAAQsB,WACzBf,EAAcP,EAAQQ,OAASW,EAAOX,MACtCC,EAAcT,EAAQU,OAASS,EAAOT,MAC5C,OACCT,GACAK,GACAe,GACAd,GACAE,IC5CGlB,GAAuB,SAC5BC,EACAC,EACAC,GAEA,IAAMC,EAAQH,EAAEE,IAAY,EACtBE,EAASH,EAAEC,IAAY,EAC7B,OAAIE,EAASD,GACJ,EAELC,EAASD,EACL,EAED,GAGK4B,GAAuB,SACnCzB,EACAJ,GAEA,MAAiB,SAAVI,EACJ,SAACN,EAAGC,GAAJ,OAAUF,GAAqBC,EAAGC,EAAGC,IACrC,SAACF,EAAGC,GAAJ,OAAWF,GAAqBC,EAAGC,EAAGC,KAG7B8B,GAAsB,SAClCxB,GAEA,OAAO,SAACyB,GACP,IAAMxB,EAAawB,EAAOvB,KACxBC,cACAd,SAASW,EAAQE,KAAKC,eAClBG,EACY,QAAjBN,EAAQb,MAAkBsC,EAAOtC,OAASa,EAAQb,KAC7CoB,EAAcP,EAAQQ,OAASiB,EAAOjB,MACtCC,EAAcT,EAAQU,OAASe,EAAOf,MAC5C,OAAOT,GAAcK,GAAcC,GAAeE,ICzBvCiB,GAAgB,SAACf,GAAD,OAC5BxH,EAAM8F,KAAI,SAAC0C,GAAD,MAAW,CACpBC,IAAKD,EACLzB,KAAM1F,EAAemH,GACrBE,MAAOlB,EAAMgB,QAGFG,GAAuB,SAACnB,GAAD,OACnCoB,OAAOC,KAAKrB,GAAO1B,KAAI,SAAC0C,GAAD,MAAW,CACjCC,IAAKD,EACLzB,KAAM1F,EAAemH,GACrBE,MAAOlB,EAAMgB,QAGFM,GAAsB,SAACtB,GAAD,OAClCjH,EAAYuF,KAAI,SAAC0C,GAAD,MAAW,CAC1BC,IAAKD,EACLzB,KAAMzF,EAAqBkH,GAC3BE,MAAOlB,EAAMgB,QAGFO,GAA6B,SAACvB,GAAD,OACzCoB,OAAOC,KAAKrB,GAAO1B,KAAI,SAAC0C,GAAD,MAAW,CACjCC,IAAKD,EACLzB,KAAMzF,EAAqBkH,GAC3BE,MAAOlB,EAAMgB,QAUFQ,GAA+B,SAACxB,GAAD,OAC3CrG,EAAsB2E,KAAI,SAAC0C,GAAD,MAAW,CACpCC,IAAKD,EACLzB,KAAMzF,EAAqBkH,GAC3BE,MAAOlB,EAAMgB,QAGFS,GAA+B,SAACzB,GAAD,OAC3CpG,EAAsB0E,KAAI,SAAC0C,GAAD,MAAW,CACpCC,IAAKD,EACLzB,KAAMzF,EAAqBkH,GAC3BE,MAAOlB,EAAMgB,Q,4BClDFU,GAAwC,SAAC,GAI/C,IAHNC,EAGK,EAHLA,UACAC,EAEK,EAFLA,SACAC,EACK,EADLA,SAEQ7B,EAAuB2B,EAAvB3B,MAAO8B,EAAgBH,EAAhBG,YAEf,OACC,gBAACC,GAAA,EAAD,CAAKC,UAAU,KAAKC,GAAI,CAAEC,OAAQ,GAAlC,UACC,gBAACC,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,gBAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,sBACW,OAEVR,EAJF,OAMA,gBAACO,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,gBAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,sBACW,OAEVP,EAJF,YAMC7B,GACA,gBAACmC,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,eAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,4BAGA,eAACL,GAAA,EAAD,CAAKC,UAAU,KAAf,SACEZ,OAAOC,KAAKrB,GAAO1B,KAAI,SAAC0C,GAAD,OACvB,gBAACmB,GAAA,EAAD,CAAuBH,UAAU,KAAjC,UACC,gBAACD,GAAA,EAAD,CACCC,UAAU,OACVC,GAAI,CAAEG,WAAY,UAFnB,UAIEvI,EAAemH,GAJjB,IAIiC,OAEhChB,EAAMgB,KAPSA,WAapBc,GACA,gBAACK,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,eAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,kCAGA,eAACL,GAAA,EAAD,CAAKC,UAAU,KAAf,SACEZ,OAAOC,KAAKS,GAAaxD,KAAI,SAAC+D,GAAD,OAC7B,gBAACF,GAAA,EAAD,CAA6BH,UAAU,KAAvC,UACC,gBAACD,GAAA,EAAD,CACCC,UAAU,OACVC,GAAI,CAAEG,WAAY,UAFnB,UAKEtI,EACCuI,GANH,IASG,OAEFP,EAAYO,GAZd,MAAiBA,eCrDXC,GAAwC,SAAC,GAM/C,IALN3B,EAKK,EALLA,WACA4B,EAIK,EAJLA,SACAC,EAGK,EAHLA,WACAC,EAEK,EAFLA,IACAC,EACK,EADLA,IAEA,OACC,gBAACX,GAAA,EAAD,CAAKC,UAAU,KAAKC,GAAI,CAAEC,OAAQ,GAAlC,UACC,gBAACC,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,gBAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,yBACc,OAEbtI,EAAqB6G,MAEvB,gBAACwB,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,gBAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,sBACW,OAEVvI,EAAe0I,MAEjB,gBAACJ,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,gBAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,wBACa,OAFd,IAIGI,KAEH,gBAACL,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,gBAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,oBACS,OAERK,EAJF,IAIQC,SC/BEC,GAAoC,SAAC,GAK3C,IAJNJ,EAIK,EAJLA,SACAC,EAGK,EAHLA,WACAC,EAEK,EAFLA,IACAC,EACK,EADLA,IAEA,OACC,gBAACX,GAAA,EAAD,CAAKC,UAAU,KAAKC,GAAI,CAAEC,OAAQ,GAAlC,UACC,gBAACC,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,gBAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,sBACW,OAEVvI,EAAe0I,MAEjB,gBAACJ,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,gBAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,wBACa,OAFd,IAIGI,KAEH,gBAACL,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,gBAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,oBACS,OAERK,EAJF,IAIQC,SCxBE/K,GAA8C,SAAC,GAIrD,IAHN4G,EAGK,EAHLA,OACAqD,EAEK,EAFLA,SACAC,EACK,EADLA,SAEA,OACC,gBAACE,GAAA,EAAD,CAAKC,UAAU,KAAKC,GAAI,CAAEC,OAAQ,GAAlC,UACC,gBAACC,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,gBAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,sBACW,OAEVR,EAJF,OAMA,gBAACO,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,gBAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,sBACW,OAEVP,EAJF,YAMA,gBAACM,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,gBAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,oBACS,OAER1H,GAA2B6D,U,qBCxBnBqE,GAAoD,SAAC,GAE3D,IADNJ,EACK,EADLA,WAEA,OACC,eAACT,GAAA,EAAD,CAAKC,UAAU,KAAKC,GAAI,CAAEC,OAAQ,GAAlC,SACC,gBAACC,GAAA,EAAD,CAAYH,UAAU,KAAtB,UACC,gBAACD,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,wBACa,OAFd,IAIGI,Q,cCWAK,GAAaC,aAAO,SAACC,GACGA,EAArBC,OAAR,IAAmBC,EAAnB,YAA6BF,EAA7B,IACA,OAAO,eAACG,EAAA,EAAD,eAAgBD,MAFLH,EAGhB,gBAAGK,EAAH,EAAGA,MAAH,MAAwB,CAC1BC,UADE,EAAUJ,OAC0B,iBAAjB,eACrBK,WAAYF,EAAMG,YAAYC,OAAO,YAAa,CACjD1B,SAAUsB,EAAMG,YAAYzB,SAAS2B,eAI1BC,GAAqC,SAAClF,GAClD,MAAgCmF,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAuBA,OACC,gBAACC,EAAA,EAAD,CAAMC,QAAQ,WAAd,UACC,eAACC,EAAA,EAAD,CACCC,MAAO1J,EAAiBiE,EAAOC,MAC/ByF,OACC,eAAC,GAAD,CACCjB,OAAQW,EACRO,QA5BqB,WACzBN,GAAaD,IA4BT,gBAAeA,EACf,aAAW,YAJZ,SAMC,eAAC,KAAD,QAIH,eAACQ,EAAA,EAAD,CAAUC,GAAIT,EAAUU,QAAQ,OAAOC,eAAa,EAApD,SACC,eAACC,EAAA,EAAD,UAjCsB,WACxB,OAAQhG,EAAOC,MACd,KAAK/G,EAAWuC,aACf,OAAO,eAAC,GAAD,eAAwBuE,IAChC,KAAK9G,EAAWwC,OACf,OAAO,eAAC,GAAD,eAAkBsE,IAC1B,KAAK9G,EAAWyC,KACf,OAAO,eAAC,GAAD,eAAgBqE,IACxB,KAAK9G,EAAW0C,OACf,OAAO,eAAC,GAAD,eAAkBoE,IAC1B,KAAK9G,EAAW2C,UACf,OAAO,eAAC,GAAD,eAAqBmE,IAC7B,QACC,OAAO,MAoBOiG,W,8ECrELC,GAAiB,kBAAMC,gBACvBC,GAAkDC,K,qECwDlDC,GAAcC,aAAY,CACtCvF,KAAM,SACNwF,aA3BiC,CACjCC,gBAAgB,EAChBC,uBAAuB,EACvBC,WAAY,CACXC,MAAM,GAEPC,aAAc,CACbD,MAAM,GAEPE,WAAY,CACXF,MAAM,GAEPG,YAAa,CACZH,MAAM,GAEPI,YAAa,CACZJ,MAAM,GAEPK,YAAa,CACZL,MAAM,GAEPM,oBAAoB,EACpBC,uBAAuB,GAMvBC,SAAU,CACTC,eAAgB,SAACC,GAChBA,EAAMb,gBAAiB,GAExBc,gBAAiB,SAACD,GACjBA,EAAMb,gBAAiB,GAExBe,sBAAuB,SAACF,GACvBA,EAAMZ,uBAAwB,GAE/Be,uBAAwB,SAACH,GACxBA,EAAMZ,uBAAwB,GAE/BgB,eAAgB,SACfJ,EACA5B,GAEA4B,EAAMX,WAAWC,MAAO,EACxBU,EAAMX,WAAWlB,MAAQC,EAAOiC,QAAQlC,MACxC6B,EAAMX,WAAWiB,QAAUlC,EAAOiC,QAAQC,SAE3CC,gBAAiB,SAACP,GACjBA,EAAMX,WAAWC,MAAO,EACxBU,EAAMX,WAAWlB,WAAQqC,EACzBR,EAAMX,WAAWiB,aAAUE,GAE5BC,iBAAkB,SACjBT,EACA5B,GAEA4B,EAAMT,aAAaD,MAAO,EAC1BU,EAAMT,aAAajF,QAAU8D,EAAOiC,SAErCK,kBAAmB,SAACV,GACnBA,EAAMT,aAAaD,MAAO,EAC1BU,EAAMT,aAAajF,aAAUkG,GAE9BG,eAAgB,SAACX,EAAO5B,GACvB4B,EAAMR,WAAWF,MAAO,EACxBU,EAAMR,WAAWnH,MAAQ+F,EAAOiC,SAEjCO,gBAAiB,SAACZ,GACjBA,EAAMR,WAAWF,MAAO,EACxBU,EAAMR,WAAWnH,WAAQmI,GAE1BK,gBAAiB,SAChBb,EACA5B,GAEA4B,EAAMP,YAAYH,MAAO,EACzBU,EAAMP,YAAY9E,OAASyD,EAAOiC,SAEnCS,iBAAkB,SAACd,GAClBA,EAAMP,YAAYH,MAAO,EACzBU,EAAMP,YAAY9E,YAAS6F,GAE5BO,gBAAiB,SAChBf,EACA5B,GAEA4B,EAAMN,YAAYJ,MAAO,EACzBU,EAAMN,YAAYzE,OAASmD,EAAOiC,SAEnCW,iBAAkB,SAAChB,GAClBA,EAAMN,YAAYJ,MAAO,EACzBU,EAAMN,YAAYzE,YAASuF,GAE5BS,gBAAiB,SAChBjB,EACA5B,GAEA4B,EAAML,YAAYL,MAAO,EACzBU,EAAML,YAAYjH,OAAS0F,EAAOiC,QAAQ3H,OAC1CsH,EAAML,YAAYuB,MAAQ9C,EAAOiC,QAAQa,OAE1CC,iBAAkB,SAACnB,GAClBA,EAAML,YAAYL,MAAO,EACzBU,EAAML,YAAYjH,YAAS8H,EAC3BR,EAAML,YAAYuB,WAAQV,GAE3BY,mBAAoB,SAACpB,GACpBA,EAAMJ,oBAAqB,GAE5ByB,oBAAqB,SAACrB,GACrBA,EAAMJ,oBAAqB,GAE5B0B,sBAAuB,SAACtB,GACvBA,EAAMH,uBAAwB,GAE/B0B,uBAAwB,SAACvB,GACxBA,EAAMH,uBAAwB,MAM1B,GAqBHb,GAAYwC,QApBfzB,GADM,GACNA,eACAE,GAFM,GAENA,gBACAC,GAHM,GAGNA,sBACAC,GAJM,GAINA,uBACAC,GALM,GAKNA,eACAG,GANM,GAMNA,gBACAE,GAPM,GAONA,iBACAC,GARM,GAQNA,kBACAC,GATM,GASNA,eACAC,GAVM,GAUNA,gBACAC,GAXM,GAWNA,gBACAC,GAZM,GAYNA,iBACAC,GAbM,GAaNA,gBACAC,GAdM,GAcNA,iBACAC,GAfM,GAeNA,gBACAE,GAhBM,GAgBNA,iBACAC,GAjBM,GAiBNA,mBACAC,GAlBM,GAkBNA,oBACAC,GAnBM,GAmBNA,sBACAC,GApBM,GAoBNA,uBAGcvC,MAAf,QCtKayC,GAAsB,SAClCzB,EACA5B,GAEA,OAAQA,EAAOzF,MACd,IAAK,MACJ,OAAO,2BACHqH,GADJ,kBAEE5B,EAAOiC,QAAQqB,KAAOtD,EAAOiC,QAAQhF,QAExC,IAAK,SACJ,OAAO,2BACH2E,GADJ,kBAEE5B,EAAOiC,QAAQqB,UAAOlB,IAEzB,IAAK,QACJ,OAAOpC,EAAOiC,QACf,QACC,MAAMsB,MAAM,oBASFC,GAAsBC,wBAAoC,MAE1DC,GAAyB,WACrC,IAAMC,EAAsBC,qBAAWJ,IACvC,IAAKG,EACJ,MAAM,IAAIJ,MACT,8EAGF,OAAOI,GCcKE,GAAmC,CAC/CC,uBAxC4D,CAC5DvJ,KAAM/G,EAAWuC,aACjBwI,WAAY,GAuCZwF,iBApCgD,CAChDxJ,KAAM/G,EAAWwC,OACjB0G,WAAY7I,EAAWkB,SACvBuJ,SAAU1K,EAAKY,SACf+J,WAAY,EACZC,IAAK,EACLC,IAAK,GA+BLuF,eA5B4C,CAC5CzJ,KAAM/G,EAAWyC,KACjBqI,SAAU1K,EAAKgB,OACf2J,WAAY,EACZC,IAAK,EACLC,IAAK,GAwBLwF,iBArBgD,CAChD1J,KAAM/G,EAAW0C,OACjBwH,UAAW,CACV3B,MAAO,GACP8B,YAAa,IAEdF,SAAU,IACVC,SAAU,GAeVsG,oBAZsD,CACtD3J,KAAM/G,EAAW2C,UACjBmE,OAAQ5G,EAAgB6C,KACxBoH,SAAU,GACVC,SAAU,IAWEuG,GAAgB,SAC5BvC,EACA5B,GAEA,GAAoB,WAAhBA,EAAOzF,KAAmB,CAC7B,IAAQ0H,EAAYjC,EAAZiC,QACR,OAAQA,EAAQ1H,MACf,KAAK/G,EAAWuC,aACf,OAAO,2BACH6L,GADJ,IAECkC,uBAAwB7B,IAE1B,KAAKzO,EAAWwC,OACf,OAAO,2BACH4L,GADJ,IAECmC,iBAAkB9B,IAEpB,KAAKzO,EAAWyC,KACf,OAAO,2BACH2L,GADJ,IAECoC,eAAgB/B,IAElB,KAAKzO,EAAW0C,OACf,OAAO,2BACH0L,GADJ,IAECqC,iBAAkBhC,IAEpB,KAAKzO,EAAW2C,UACf,OAAO,2BACHyL,GADJ,IAECsC,oBAAqBjC,KAKzB,GAAoB,UAAhBjC,EAAOzF,KACV,OAAOsJ,GAGR,MAAMN,MAAM,mBAQAa,GAAgBX,wBAAoC,MAEpDY,GAAmB,WAC/B,IAAMC,EAAgBV,qBAAWQ,IACjC,IAAKE,EACJ,MAAM,IAAIf,MACT,kEAGF,OAAOe,GCvHKC,GAAmB,SAC/B3C,EACA5B,GAEA,OAAQA,EAAOzF,MACd,IAAK,MACJ,OAAOqH,EAAM4C,OAAOxE,EAAOiC,SAC5B,IAAK,SACJ,OAAOL,EAAM6C,QAAO,SAACxK,GAAD,OAAWA,IAAU+F,EAAOiC,WACjD,IAAK,QACJ,OAAOjC,EAAOiC,QACf,QACC,MAAMsB,MAAM,oBASFmB,GAAmBjB,wBAAoC,MC9BvDkB,GAAcC,IAAMnB,cAAoC,M,gCCoB/DoB,GAAoC,SAAC/F,GAC1C,IAAQgG,EAAqChG,EAArCgG,SAAU7H,EAA2B6B,EAA3B7B,MAAO6F,EAAoBhE,EAApBgE,MAAU9D,EAAnC,YAA6CF,EAA7C,IAEA,OACC,8CACCiG,KAAK,WACLC,OAAQ/H,IAAU6F,EAClBmC,GAAE,mBAAcnC,GAChB,0CAAkCA,IAC9B9D,GALL,aAOE/B,IAAU6F,GAAS,eAAChF,GAAA,EAAD,CAAKE,GAAI,CAAEkH,EAAG,GAAd,SAAoBJ,QAU9BK,GAAsC,SAAC,GAG7C,IAFNC,EAEK,EAFLA,UACAC,EACK,EADLA,eAEMC,EAAW9E,KACXU,EAAOR,IAAe,SAACkB,GAAD,OAAWA,EAAM2D,OAAO9D,yBACpD,EAA+B+D,qBAAWnC,GAAqB+B,GAA/D,mBAAOxD,EAAP,KAAc6D,EAAd,KACA,EAAkChG,mBAAS,GAA3C,mBAAOiG,EAAP,KAAkBC,EAAlB,KAEMC,EAAgB,CACrBhE,QACA0D,SAAUG,GAGXI,qBAAU,WACL3E,GACHuE,EAAc,CAAElL,KAAM,QAAS0H,QAASmD,MAEvC,CAAClE,EAAMkE,IAEV,IAAMU,EAAc,WACnBR,EAASnC,OAYV,OACC,gBAAC4C,GAAA,EAAD,CACC7E,KAAMA,EACN8E,QAASF,EACT,kBAAgB,oBAChBG,WAAS,EACTC,SAAS,KALV,UAOC,eAACC,GAAA,EAAD,CAAalB,GAAG,oBAAhB,2BACA,eAACmB,GAAA,EAAD,UACC,gBAACtI,GAAA,EAAD,CAAKE,GAAI,CAAEqI,MAAO,QAAlB,UACC,eAACvI,GAAA,EAAD,CAAKE,GAAI,CAAEsI,aAAc,EAAGC,YAAa,WAAzC,SACC,gBAACC,GAAA,EAAD,CACCvJ,MAAOyI,EACPe,SAlBkB,SAACC,EAA6BC,GACrDhB,EAAagB,IAkBR,aAAW,uBAHZ,UAKC,eAACC,GAAA,EAAD,CACCC,MAAM,UACN5B,GAAG,kBACH,gBAAc,eAEf,eAAC2B,GAAA,EAAD,CACCC,MAAM,SACN5B,GAAG,kBACH,gBAAc,oBAIjB,eAAC,GAAD,CAAUhI,MAAOyI,EAAW5C,MAAO,EAAnC,SACC,eAACU,GAAoBsD,SAArB,CAA8B7J,MAAO2I,EAArC,SACC,eAAC,GAAD,CAAcrL,KAAK,mBAGrB,eAAC,GAAD,CAAU0C,MAAOyI,EAAW5C,MAAO,EAAnC,SACC,eAACU,GAAoBsD,SAArB,CAA8B7J,MAAO2I,EAArC,SACC,eAAC,GAAD,CAAcrL,KAAK,wBAKvB,gBAACwM,GAAA,EAAD,WACC,eAACC,GAAA,EAAD,CAAQ/G,QAAS6F,EAAamB,MAAM,UAApC,oBAGA,eAACD,GAAA,EAAD,CAAQ/G,QAtDW,WACrBoF,EAAezD,GACf0D,EAASnC,OAoDyB8D,MAAM,UAAtC,4BCxGSC,GAAmC,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,YACpD9B,EAAW9E,KACXU,EAAOR,IAAe,SAACkB,GAAD,OAAWA,EAAM2D,OAAO/D,sBACpD,EAA+BgE,qBAAWjB,GAAkB4C,GAA5D,mBAAOvF,EAAP,KAAc6D,EAAd,KAEMG,EAAgB,CACrBhE,QACA0D,SAAUG,GAGXI,qBAAU,WACL3E,GACHuE,EAAc,CAAElL,KAAM,QAAS0H,QAASkF,MAEvC,CAACjG,EAAMiG,IAEV,IAAMrB,EAAc,WACnBR,EAASrC,OAQV,OACC,gBAAC8C,GAAA,EAAD,CACC7E,KAAMA,EACN8E,QAASF,EACT,kBAAgB,oBAChBG,WAAS,EACTC,SAAS,KALV,UAOC,eAACC,GAAA,EAAD,CAAalB,GAAG,oBAAhB,wBACA,eAACmB,GAAA,EAAD,UACC,eAAC1B,GAAiBoC,SAAlB,CAA2B7J,MAAO2I,EAAlC,SACC,eAAC,GAAD,CAAarL,KAAK,kBAGpB,gBAACwM,GAAA,EAAD,WACC,eAACC,GAAA,EAAD,CAAQ/G,QAAS6F,EAAamB,MAAM,UAApC,oBAGA,eAACD,GAAA,EAAD,CAAQ/G,QAvBW,WACrBmH,EAAYxF,GACZ0D,EAASrC,OAqByBgE,MAAM,UAAtC,4B,qJClDSI,GAA2C,SAACxK,GACxD,OACC,eAACyK,GAAA,EAAD,CAAgBvJ,UAAWwJ,KAA3B,SACC,eAACC,GAAA,EAAD,CAAO,aAAW,0BAAlB,SACC,gBAACC,GAAA,EAAD,WACC,gBAAC,KAAD,WACC,eAACC,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,kBAOA,eAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,SACE3O,GAAwB4D,EAAOtC,WAGlC,gBAAC,KAAD,WACC,eAACmN,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,qBAOA,eAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B/K,EAAOgL,aAElC,gBAAC,KAAD,WACC,eAACH,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,mBAOA,eAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B/K,EAAOf,WAElC,gBAAC,KAAD,WACC,eAAC4L,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,mBAOA,gBAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,UAA0B/K,EAAOjB,MAAjC,kB,wCCvCNkM,KAASC,cAZc,CACtBC,OAAQ,0CACRC,WAAY,iCACZC,UAAW,iBACXC,cAAe,kCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,eACfC,YACC,2EAKK,I,qBAAMC,GAAOV,KAASU,OAChBC,GAAWX,KAASY,UAAUC,IAAI,UAClCC,GAAad,KAASe,WAAWF,IAAI,YACrCG,GAAWhB,KAASe,WAAWF,IAAI,UACnCI,GAAYjB,KAASe,WAAWF,IAAI,WACpCK,GAAYlB,KAASe,WAAWF,IAAI,WCFpCM,GAAeC,aAC3B,uBAD2C,yCAE3C,WAAOjH,GAAP,UAAArH,EAAA,+EAA8BqH,GAA9B,2CAF2C,uDAK/BkH,GAAuBD,aACnC,+BADmD,yCAEnD,WAAOjH,GAAP,UAAArH,EAAA,+EAEe6N,GACXW,MAAMnH,EAAQgD,IACdmE,MAAMnH,EAAQoH,MACdC,iBALJ,8EAOEC,QAAQC,MAAR,MAPF,8DAFmD,uDAevCC,GAAaP,aACzB,qBADyC,yCAEzC,WAAOjH,GAAP,gBAAArH,EAAA,kEAEQ8O,EAAeV,GAAUW,QAC3B1H,EAAQ2H,MAHd,gCAISnB,GACJW,MAAMM,EAAa1M,KACnBoM,MAAMnH,EAAQ2H,MAAMtO,MACpBuO,IAAI5H,EAAQ2H,OAPjB,uBASeF,EAAaI,IAAI7H,EAAQpF,QATxC,gFAWE0M,QAAQC,MAAR,MAXF,+DAFyC,uDAmB7BO,GAAeb,aAC3B,uBAD2C,yCAE3C,WAAOjH,GAAP,UAAArH,EAAA,mEAEMqH,EAAQ2H,QAAS3H,EAAQ+H,SAF/B,gCAGSvB,GACJW,MAAMnH,EAAQgD,IACdmE,MAAMnH,EAAQ+H,UACdC,SANL,WAQMhI,EAAQ2H,MARd,gCASSnB,GACJW,MAAMnH,EAAQgD,IACdmE,MAAMnH,EAAQ2H,MAAMtO,MACpBuO,IAAI5H,EAAQ2H,OAZjB,uBAceZ,GAAUI,MAAMnH,EAAQgD,IAAIiF,OAAOjI,EAAQpF,QAd1D,gFAgBE0M,QAAQC,MAAR,MAhBF,+DAF2C,uDAwB/BW,GAAejB,aAC3B,uBAD2C,yCAE3C,WAAOjH,GAAP,UAAArH,EAAA,mEAEMqH,EAAQoH,KAFd,gCAGSZ,GAASW,MAAMnH,EAAQgD,IAAImE,MAAMnH,EAAQoH,MAAMY,SAHxD,uBAKejB,GAAUI,MAAMnH,EAAQgD,IAAImF,SAL3C,8EAOEb,QAAQC,MAAR,MAPF,8DAF2C,uDAe/Ba,GAAkB,SAACzI,GAAD,OAAsBA,EAAM0I,SAE9CC,GAAmBC,aAC/BH,IACA,gBAAGC,EAAH,EAAGA,QAAH,OACC,SAACrF,GAAD,OACCqF,EAAQG,MAAK,SAAC5N,GAAD,OAAYA,EAAOoI,KAAOA,SAG7ByF,GAA4BF,aACxCH,IACA,gBAAGM,EAAH,EAAGA,iBAAH,OACC,SAAC1F,GAAD,uBACC0F,EAAiBF,MAAK,SAACG,GAAD,OAAiBA,EAAY3F,KAAOA,YAD3D,aACC,EACG4F,cAyESC,GAtEajK,aAAY,CACvCvF,KAAM,UACNwF,aAvGmC,CACnCwJ,QAAS,GACTK,iBAAkB,GAClBI,OAAQ,QAqGRrJ,SAAU,GACVsJ,cAAe,SAACC,GACfA,EAAQC,QAAQjC,GAAakC,SAAS,SAACvJ,GACtCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQjC,GAAamC,WAAW,SAACxJ,EAAO5B,GAC/C4B,EAAMmJ,OAAS,YACfnJ,EAAM0I,QAAUtK,EAAOiC,WAExBgJ,EAAQC,QAAQjC,GAAaoC,UAAU,SAACzJ,EAAO5B,GAC9C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQ/B,GAAqBgC,SAAS,SAACvJ,GAC9CA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQ/B,GAAqBiC,WAAW,SAACxJ,EAAO5B,GACvD,IAAMsL,EAAiB,CACtBrG,GAAIjF,EAAOuL,KAAKC,IAAIvG,GACpB4F,UAAW7K,EAAOiC,SAGnBL,EAAMmJ,OAAS,YACfnJ,EAAM+I,iBAAmB/I,EAAM+I,iBAC7BlG,QAAO,SAACmG,GAAD,OAAiBA,EAAY3F,KAAOqG,EAAerG,MAC1DT,OAAO8G,MAEVL,EAAQC,QAAQ/B,GAAqBkC,UAAU,SAACzJ,EAAO5B,GACtD4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQzB,GAAW0B,SAAS,SAACvJ,GACpCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQzB,GAAW2B,WAAW,SAACxJ,GACtCA,EAAMmJ,OAAS,eAEhBE,EAAQC,QAAQzB,GAAW4B,UAAU,SAACzJ,EAAO5B,GAC5C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQf,GAAagB,SAAS,SAACvJ,GACtCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQf,GAAaiB,WAAW,SAACxJ,GACxCA,EAAMmJ,OAAS,eAEhBE,EAAQC,QAAQf,GAAakB,UAAU,SAACzJ,EAAO5B,GAC9C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQnB,GAAaoB,SAAS,SAACvJ,GACtCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQnB,GAAaqB,WAAW,SAACxJ,GACxCA,EAAMmJ,OAAS,eAEhBE,EAAQC,QAAQnB,GAAasB,UAAU,SAACzJ,EAAO5B,GAC9C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,cAQ9B,QC7JMuJ,GAAO5M,YAAO,MAAPA,CAAc,CAC1BwH,MAAO,SAOK3N,GAAmB,WAAO,IAAD,IAC/B4M,EAAW9E,KACXyE,EAAOyG,eAAPzG,GACA0G,EAAO/H,qBAAWe,IAClB9H,EAAS8D,aAAY4J,GAAZ5J,CAA8BsE,GACvC2G,EAAkBjL,aAAY+J,GAAZ/J,CAAuCsE,GACzDjE,EAAwBN,IAC7B,SAACkB,GAAD,OAAWA,EAAM2D,OAAOvE,yBAEnB6K,EAAYnL,IACjB,SAACkB,GAAD,MAAmC,YAAxBA,EAAMuF,OAAO4D,UASzB,GANAlF,qBAAU,YACT,OAAIhJ,QAAJ,IAAIA,OAAJ,EAAIA,EAAQwM,OACX/D,EAAS6D,GAAqBtM,MAE7B,CAACyI,EAAUzI,KAETA,EACJ,OAAO,KAGR,IAIMiP,EAAY,yCAAG,uBAAAlR,EAAA,sDACpB0K,EAASxD,MADW,2CAAH,qDAQZiK,EAAmB,yCAAG,uBAAAnR,EAAA,+EAEpB0K,EAAS6E,GAAatN,IAASmP,SAFX,OAG1B1G,EAASvD,MAHiB,uGAAH,qDASzB,OACC,iCACC,gBAACjE,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,gBAChBC,WAAY,SACZC,SAAU,OACVC,aAAc,GANhB,UASC,eAACnO,GAAA,EAAD,CAAY2B,QAAQ,KAApB,SAA0BhD,EAAOvB,OAChCqQ,GACA,gBAAC7N,GAAA,EAAD,CAAKE,GAAI,CAAEiO,QAAS,QAApB,UACC,eAAChN,EAAA,EAAD,CACC,aAAW,MACXgI,MAAM,YACNhH,QAtCe,WACpBqF,EAAS3C,GAAgB9F,KAkCrB,SAKC,eAACyP,GAAA,EAAD,CAAMC,SAAS,YAEhB,eAACtN,EAAA,EAAD,CACC,aAAW,MACXgI,MAAM,UACNhH,QAAS6L,EAHV,SAKC,eAACU,GAAA,EAAD,CAAQD,SAAS,kBAMrB,gBAACzO,GAAA,EAAD,CACCE,GAAI,CACHqO,aAAc,GAFhB,UAKC,gBAACvO,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTE,WAAY,aACZM,IAAK,EACLJ,aAAc,GALhB,UAQET,GACA,eAACH,GAAD,CAAMiB,IAAKd,EAAiBe,IAAK9P,EAAOvB,OAEzC,gBAACwC,GAAA,EAAD,WACC,eAACI,GAAA,EAAD,CACC2B,QAAQ,QACRoH,MAAM,gBACNlJ,UAAU,KACV6O,cAAY,EAJb,yBAQA,eAAC1O,GAAA,EAAD,CAAY2B,QAAQ,KAAKgN,WAAS,EAAlC,SACEhQ,EAAOiQ,aAAe,oCAI1B,eAACC,GAAA,EAAD,OAGD,gBAACjP,GAAA,EAAD,CACCE,GAAI,CACHqO,aAAc,GAFhB,UAKC,eAACnO,GAAA,EAAD,CACC2B,QAAQ,QACRoH,MAAM,gBACNlJ,UAAU,KACV6O,cAAY,EAJb,wBASA,gBAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGb,aAAc,EAA1C,UACC,eAACW,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,eAAC,GAAD,eAA2BxQ,OAE3B,UAAAA,EAAOa,iBAAP,eAAkBG,cAClB,eAACmP,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAA9B,SACC,eAAC,GAAD,CACCvN,MAAM,cACNwN,OAAO,IACPxR,MAAOuB,GACNT,EAAOa,UAAUG,kBAKpB,UAAAhB,EAAOa,iBAAP,eAAkB3B,QAClB,eAACiR,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAA9B,SACC,eAAC,GAAD,CACCvN,MAAM,QACNhE,MAAOmB,GACNL,EAAOa,UAAU3B,iBAQvB,eAAC,GAAD,CACCmF,KAAMF,EACNjB,MAAM,gBACNyN,QAAO,8CAAyC3Q,EAAOvB,KAAhD,uBACPwK,YA5HkC,WACpCR,EAASvD,OA4HP0L,cAAe1B,EACf2B,SAAU7B,QC5LD8B,GAAoB,WAChC,IAAMhC,EAAO/H,qBAAWe,IAClBW,EAAW9E,KAMjB,OACC,iCACC,gBAAC1C,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,gBAChBC,WAAY,SACZC,SAAU,OACVK,IAAK,EACLJ,aAAc,GAPhB,UAUC,eAACnO,GAAA,EAAD,CAAY2B,QAAQ,KAApB,qBAEC8L,GACA,eAAC3E,GAAA,EAAD,CAAQnH,QAAQ,YAAYI,QAnBF,WAC7BqF,EAAS3C,OAkBN,2BAKF,eAAC,GAAD,Q,UCIGiL,IAAmB,qBACvBha,EAAKY,SAAW,GADO,eAEvBZ,EAAKa,UAAY,GAFM,eAGvBb,EAAKc,aAAe,GAHG,eAIvBd,EAAKe,aAAe,GAJG,eAKvBf,EAAKgB,OAAS,GALS,eAMvBhB,EAAKiB,SAAW,GANO,IASnBgZ,IAAyB,qBAC7Bha,EAAWkB,SAAW,GADO,eAE7BlB,EAAWmB,SAAW,GAFO,eAG7BnB,EAAWoB,SAAW,GAHO,eAI7BpB,EAAWqB,KAAO,GAJW,eAK7BrB,EAAWsB,KAAO,GALW,eAM7BtB,EAAWuB,SAAW,GANO,eAO7BvB,EAAWwB,QAAU,GAPQ,eAQ7BxB,EAAWyB,SAAW,GARO,eAS7BzB,EAAW0B,OAAS,GATS,eAU7B1B,EAAW2B,KAAO,GAVW,IAazBsY,GAA6B,CAClCvT,KAAMtG,EAAcyE,OACpB4C,KAAM,GACNwR,YAAa,GACbzD,KAAM,GACNzN,MAAO,IACPE,MAAO,EACP+L,QAAS,EACTnK,UAAW,CACV3B,MAAO,GACP8B,YAAa,KAITkQ,GAAiC,CACtClR,OAAQiR,GACRlE,MAAO,MAQKoE,GAAwB,WAAO,IAAD,IACpC1I,EAAW9E,KACXU,EAAOR,IAAe,SAACkB,GAAD,OAAWA,EAAM2D,OAAOjE,YAAYJ,QAC1DrE,EAAS6D,IAAe,SAACkB,GAAD,OAAWA,EAAM2D,OAAOjE,YAAYzE,UAC5DgP,EAAYnL,IACjB,SAACkB,GAAD,MAAoC,YAAzBA,EAAM0I,QAAQS,UAE1B,EAAoCtL,mBAASsO,IAA7C,mBAAOE,EAAP,KAAmBC,EAAnB,KACMC,EAAeC,mBACpB,kBAAMvR,GAdc,SAACA,GAEtB,OAD8BA,EAAtBoI,GAAR,YAA8BpI,EAA9B,IAaiBwR,CAAcxR,KAC9B,CAACA,IAEF,EAA0B4C,mBAAQ,2BAC9BmO,IAD8B,UAE9BK,EAAWpR,OAAOa,iBAFY,aAE9B,EAA6B3B,QAFjC,mBAAOA,EAAP,KAAcuS,EAAd,KAIA,EAAsC7O,mBAAQ,2BAC1CoO,IAD0C,UAE1CI,EAAWpR,OAAOa,iBAFwB,aAE1C,EAA6BG,cAFjC,mBAAOA,EAAP,KAAoB0Q,EAApB,KAKMxO,EAAQlD,EAAS,gBAAkB,aACnC2R,EAAW3R,EAAM,0BACRA,QADQ,IACRA,OADQ,EACRA,EAAQvB,MACpB,oCAEHuK,qBAAU,WACTqI,EAAc,CACbrR,OAAQsR,GAAgBL,GACxBlE,MAAO,SAEN,CAACuE,IAEJ,IAAMrI,EAAc,WACnBR,EAAS1C,OAGJ6L,EAAe,SAACC,GACrB,MAA6CA,EAAEvU,OAAvCmB,EAAR,EAAQA,KAAMf,EAAd,EAAcA,KAAM0C,EAApB,EAAoBA,MAAO0R,EAA3B,EAA2BA,cACrBC,EAAsB,WAATrU,EAAoBoU,EAAgB1R,EACvDiR,EAAc,2BACVD,GADS,IAEZpR,OAAO,2BACHoR,EAAWpR,QADT,kBAEJvB,EAAiBsT,QAkFfC,EAAU,yCAAG,WAAOH,GAAP,gBAAA9T,EAAA,kEAEjB8T,EAAEI,kBAEEjS,EAJa,uBAKVoF,EALU,2BAMZgM,GANY,IAOfhJ,GAAIpI,EAAOoI,GACX+E,SAAUnN,EAAOwM,OARF,SAUV/D,EAASyE,GAAa9H,IAAU+J,SAVtB,+CAYV1G,EAASmE,GAAWwE,IAAajC,SAZvB,QAcjB1G,EAAS1C,MACTsL,EAAcH,IAfG,kDAkBjBxE,QAAQwF,IAAR,MAlBiB,0DAAH,sDAsBhB,OACC,gBAAChJ,GAAA,EAAD,CACC7E,KAAMA,EACN8E,QAASF,EACTI,SAAS,KACTD,WAAS,EACT,kBAAgB,oBALjB,UAOC,eAACE,GAAA,EAAD,CAAalB,GAAG,oBAAhB,SAAqClF,IACrC,wBAAMiP,SAAUH,EAAhB,UACC,gBAACzI,GAAA,EAAD,WACC,eAAC6I,GAAA,EAAD,UAAoBT,IACpB,eAAC1Q,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,gBAACC,GAAA,EAAD,WACC,wBACCC,OAAO,UACPC,MAAO,CAAEpD,QAAS,QAClBhH,GAAG,wBACHqK,UAAQ,EACR/U,KAAK,OACLkM,SAvHmB,SAACiI,GAA4C,IAAD,EAC/D9E,GAAQ,UAAA8E,EAAEa,cAAcC,aAAhB,eAAuBrC,KAAK,KAAM,KAC1C9D,GAAY,OAALO,QAAK,IAALA,OAAA,EAAAA,EAAOtO,OAAQ,GAC5B4S,EAAc,2BACVD,GADS,IAEZrE,QACA/M,OAAO,2BACHoR,EAAWpR,QADT,IAELwM,eAiHG,yBAAOoG,QAAQ,wBAAf,UACC,eAACzI,GAAA,EAAD,CAAQnH,QAAQ,YAAY9B,UAAU,OAAtC,0BAGCkQ,EAAWrE,OACX,eAAC1L,GAAA,EAAD,CACCF,GAAI,CACH0R,WAAY,EACZzD,QAAS,UAHX,SAMEgC,EAAWrE,MAAMtO,eAMvB,eAACwC,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,eAACS,GAAA,EAAD,CACCC,WAAS,EACTtU,KAAK,OACLuL,MAAM,OACN5J,MAAOgR,EAAWpR,OAAOvB,KACzBmL,SAAUgI,EACVxI,WAAS,EACT4J,UAAQ,EACRC,WAAY,CACXC,UAAW,EACXC,UAAW,QAId,eAAClS,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,eAACS,GAAA,EAAD,CACCC,WAAS,EACTtU,KAAK,cACLuL,MAAM,cACN5J,MAAOgR,EAAWpR,OAAOiQ,YACzBrG,SAAUgI,EACVxI,WAAS,EACTgK,WAAS,EACTC,QAAS,EACTJ,WAAY,CACXE,UAAW,SAId,gBAAClS,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,yBAOA,eAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACTkK,QAAM,EACNlS,OAAO,QACP4I,MAAM,OACNvL,KAAK,OACL2B,MAAOgR,EAAWpR,OAAOtC,KACzBkM,SAAUgI,EAPX,SASEjW,GAAa6B,KAAI,SAACE,GAAD,OACjB,eAAC6V,GAAA,EAAD,CAAqBnT,MAAO1C,EAA5B,SACEtB,GAAwBsB,IADXA,eAQpB,gBAACuD,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,+BAOA,gBAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,UACLuL,MAAK,qBzBlUa,IyBkUb,KACLtM,KAAK,SACL0C,MAAOgR,EAAWpR,OAAOgL,QACzBpB,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IzBzUiB,SyB6UpB,eAACuO,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,QACLuL,MAAK,mBzBxVgB,EyBwVhB,KACLtM,KAAK,SACL0C,MAAOgR,EAAWpR,OAAOf,MACzB2K,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IzB/VoB,OyBmWvB,eAACuO,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,QACLuL,MAAK,mBAAczS,EAAd,KACLmG,KAAK,SACL0C,MAAOgR,EAAWpR,OAAOjB,MACzB6K,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAKrK,aAMV,eAAC,GAAD,CACC2L,MAAM,eACNhE,MAAOe,GAAcf,GACrByC,IAAK,EACLC,IAAK,GACLgQ,aAvPqB,SAACC,GAA4C,IAAD,EACrE,EAAgCA,EAAEa,cAA1BjU,EAAR,EAAQA,KAAMqT,EAAd,EAAcA,cAEdL,EAAS,2BACLvS,GADI,kBAENT,EAAiBqT,KAGnB,IAAM0B,EAAQ,qCACVpC,EAAWpR,OAAOa,iBADR,aACV,EAA6B3B,OADnB,kBAEZT,EAAiBqT,IAGnBxR,OAAOC,KAAKiT,GAAUC,SAAQ,SAACtT,GACzBqT,EAASrT,WACNqT,EAASrT,MAIlBkR,EAAc,2BACVD,GADS,IAEZpR,OAAO,2BACHoR,EAAWpR,QADT,IAELa,UAAU,2BACNuQ,EAAWpR,OAAOa,WADb,IAER3B,MAAOsU,YAgOP,eAAC,GAAD,CACCtQ,MAAM,kBACNhE,MAAOsB,GAAoBQ,GAC3BW,IAAK,EACLC,IAAK,IACLgQ,aA/N2B,SAC/BC,GACK,IAAD,EACJ,EAAgCA,EAAEa,cAA1BjU,EAAR,EAAQA,KAAMqT,EAAd,EAAcA,cAEdJ,EAAe,2BACX1Q,GADU,kBAEZvC,EAAiBqT,KAGnB,IAAM4B,EAAc,qCAChBtC,EAAWpR,OAAOa,iBADF,aAChB,EAA6BG,aADb,kBAElBvC,EAAiBqT,IAGnBxR,OAAOC,KAAKmT,GAAgBD,SAAQ,SAACtT,GAC/BuT,EAAevT,WACZuT,EAAevT,MAIxBkR,EAAc,2BACVD,GADS,IAEZpR,OAAO,2BACHoR,EAAWpR,QADT,IAELa,UAAU,2BACNuQ,EAAWpR,OAAOa,WADb,IAERG,YAAa0S,eAuMd,gBAACxJ,GAAA,EAAD,WACC,eAACC,GAAA,EAAD,CAAQ/G,QAAS6F,EAAamB,MAAM,UAApC,oBAGA,eAACD,GAAA,EAAD,CAAQzM,KAAK,SAAS0M,MAAM,UAAUyG,SAAU7B,EAAhD,4BCtYQ2E,GAAsC,SAAC,GAAD,IAClDtP,EADkD,EAClDA,KACAnB,EAFkD,EAElDA,MACAyN,EAHkD,EAGlDA,QACA1H,EAJkD,EAIlDA,YACA2H,EALkD,EAKlDA,cACAC,EANkD,EAMlDA,SANkD,OAQlD,gBAAC3H,GAAA,EAAD,CACC7E,KAAMA,EACN8E,QAASF,EACT,kBAAgB,oBAHjB,UAKC,eAACK,GAAA,EAAD,CAAalB,GAAG,oBAAhB,SAAqClF,IACrC,eAACqG,GAAA,EAAD,UACC,eAAC6I,GAAA,EAAD,UAAoBzB,MAErB,gBAACzG,GAAA,EAAD,WACC,eAACC,GAAA,EAAD,CAAQ/G,QAAS6F,EAAamB,MAAM,UAApC,oBAGA,eAACD,GAAA,EAAD,CAAQ/G,QAASwN,EAAexG,MAAM,UAAUyG,SAAUA,EAA1D,4BC5BU+C,GAAuB,WACnC,IAAMnL,EAAW9E,KACjB,EAAiCE,IAChC,SAACkB,GAAD,OAAWA,EAAM2D,OAAOtE,cADjBC,EAAR,EAAQA,KAAMnB,EAAd,EAAcA,MAAOmC,EAArB,EAAqBA,QAIf4D,EAAc,WACnBR,EAASnD,OAGV,OACC,gBAAC4D,GAAA,EAAD,CACC7E,KAAMA,EACN8E,QAASF,EACT,kBAAgB,oBAHjB,UAKC,eAACK,GAAA,EAAD,CAAalB,GAAG,oBAAhB,SAAqClF,GAAS,UAC9C,eAACqG,GAAA,EAAD,UACC,eAAC6I,GAAA,EAAD,UACE/M,GAAW,4BAGd,eAAC6E,GAAA,EAAD,UACC,eAACC,GAAA,EAAD,CAAQ/G,QAAS6F,EAAamB,MAAM,UAApC,2BCpBSyJ,GAAuB,WACnC,IAAMpL,EAAW9E,KACXU,EAAOR,IAAe,SAACkB,GAAD,OAAWA,EAAM2D,OAAOxE,kBACpD,EAAkCtB,oBAAS,GAA3C,mBAAOoM,EAAP,KAAkB8E,EAAlB,KACMC,EAAWC,iBAAyB,MACpCC,EAAcD,iBAAyB,MAEvC/K,EAAc,WACnBR,EAASzD,OAGJkP,EAAM,yCAAG,uBAAAnW,EAAA,sEAEb+V,GAAa,GAFA,SAGPnI,GAAKwI,2BACVJ,EAASK,QAAShU,MAClB6T,EAAYG,QAAShU,OALT,OAOb0T,GAAa,GACbrL,EAASzD,MARI,gDAUb8O,GAAa,GACbpH,QAAQC,MAAR,MAXa,yDAAH,qDAeZ,OACC,gBAACzD,GAAA,EAAD,CACC7E,KAAMA,EACN8E,QAASF,EACT,kBAAgB,oBAHjB,UAKC,eAACK,GAAA,EAAD,CAAalB,GAAG,oBAAhB,mBACA,gBAACmB,GAAA,EAAD,WACC,eAAC6I,GAAA,EAAD,6DAGA,eAACU,GAAA,EAAD,CACCuB,SAAUN,EACVhB,WAAS,EACT3R,OAAO,QACPgH,GAAG,OACH4B,MAAM,gBACNtM,KAAK,QACL0L,WAAS,IAEV,eAAC0J,GAAA,EAAD,CACCuB,SAAUJ,EACV7S,OAAO,QACPgH,GAAG,iBACH4B,MAAM,WACNtM,KAAK,WACL0L,WAAS,EACT4J,UAAQ,OAGV,gBAAC9I,GAAA,EAAD,WACC,eAACC,GAAA,EAAD,CAAQ/G,QAAS6F,EAAamB,MAAM,UAApC,oBAGA,eAACD,GAAA,EAAD,CAAQ/G,QAAS8Q,EAAQ9J,MAAM,UAAUyG,SAAU7B,EAAnD,0B,UC/CSsF,GAAgBjI,aAC5B,yBAD4C,yCAE5C,WAAOjH,GAAP,UAAArH,EAAA,+EAA+BqH,GAA/B,2CAF4C,uDAKhCmP,GAAwBlI,aACpC,iCADoD,yCAEpD,WAAOjH,GAAP,UAAArH,EAAA,+EAEe6N,GACXW,MAAMnH,EAAQgD,IACdmE,MAAMnH,EAAQoP,UACd/H,iBALJ,8EAOEC,QAAQC,MAAR,MAPF,8DAFoD,uDAexC8H,GAAcpI,aAC1B,uBAD0C,yCAE1C,WAAOjH,GAAP,gBAAArH,EAAA,kEAEQ2W,EAAgB3I,GAAWe,QAC7B1H,EAAQ2H,MAHd,gCAISnB,GACJW,MAAMmI,EAAcvU,KACpBoM,MAAMnH,EAAQ2H,MAAMtO,MACpBuO,IAAI5H,EAAQ2H,OAPjB,uBASe2H,EAAczH,IAAI7H,EAAQ/F,SATzC,gFAWEqN,QAAQC,MAAR,MAXF,+DAF0C,uDAmB9BgI,GAAgBtI,aAC5B,yBAD4C,yCAE5C,WAAOjH,GAAP,UAAArH,EAAA,mEAEMqH,EAAQ2H,QAAS3H,EAAQ+H,SAF/B,gCAGSvB,GACJW,MAAMnH,EAAQgD,IACdmE,MAAMnH,EAAQ+H,UACdC,SANL,WAQMhI,EAAQ2H,MARd,gCASSnB,GACJW,MAAMnH,EAAQgD,IACdmE,MAAMnH,EAAQ2H,MAAMtO,MACpBuO,IAAI5H,EAAQ2H,OAZjB,uBAcehB,GAAWQ,MAAMnH,EAAQgD,IAAIiF,OAAOjI,EAAQ/F,SAd3D,gFAgBEqN,QAAQC,MAAR,MAhBF,+DAF4C,uDAwBhCiI,GAAgBvI,aAC5B,yBAD4C,yCAE5C,WAAOjH,GAAP,UAAArH,EAAA,mEAEMqH,EAAQoP,SAFd,gCAGS5I,GACJW,MAAMnH,EAAQgD,IACdmE,MAAMnH,EAAQoP,UACdpH,SANL,uBAQerB,GAAWQ,MAAMnH,EAAQgD,IAAImF,SAR5C,8EAUEb,QAAQC,MAAR,MAVF,8DAF4C,uDAkBhCkI,GAAmB,SAAC9P,GAAD,OAAsBA,EAAM+P,UAE/CC,GAAoBpH,aAChCkH,IACA,gBAAGC,EAAH,EAAGA,SAAH,OACC,SAAC1M,GAAD,OACC0M,EAASlH,MAAK,SAACvO,GAAD,OAAaA,EAAQ+I,KAAOA,SAGhC4M,GAA6BrH,aACzCkH,IACA,gBAAGI,EAAH,EAAGA,kBAAH,OACC,SAAC7M,GAAD,uBACC6M,EAAkBrH,MAAK,SAACsH,GAAD,OAAkBA,EAAa9M,KAAOA,YAD9D,aACC,EACG4F,cA2ESmH,GAxEcnR,aAAY,CACxCvF,KAAM,WACNwF,aA1GoC,CACpC6Q,SAAU,GACVG,kBAAmB,GACnB/G,OAAQ,QAwGRrJ,SAAU,GACVsJ,cAAe,SAACC,GACfA,EAAQC,QAAQiG,GAAchG,SAAS,SAACvJ,GACvCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQiG,GAAc/F,WAAW,SAACxJ,EAAO5B,GAChD4B,EAAMmJ,OAAS,YACfnJ,EAAM+P,SAAW3R,EAAOiC,WAEzBgJ,EAAQC,QAAQiG,GAAc9F,UAAU,SAACzJ,EAAO5B,GAC/C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQkG,GAAsBjG,SAAS,SAACvJ,GAC/CA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQkG,GAAsBhG,WAAW,SAACxJ,EAAO5B,GACxD,IAAMiS,EAAkB,CACvBhN,GAAIjF,EAAOuL,KAAKC,IAAIvG,GACpB4F,UAAW7K,EAAOiC,SAGnBL,EAAMmJ,OAAS,YACfnJ,EAAMkQ,kBAAoBlQ,EAAMkQ,kBAC9BrN,QACA,SAACsN,GAAD,OAAkBA,EAAa9M,KAAOgN,EAAgBhN,MAEtDT,OAAOyN,MAEVhH,EAAQC,QAAQkG,GAAsB/F,UAAU,SAACzJ,EAAO5B,GACvD4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQoG,GAAYnG,SAAS,SAACvJ,GACrCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQoG,GAAYlG,WAAW,SAACxJ,GACvCA,EAAMmJ,OAAS,eAEhBE,EAAQC,QAAQoG,GAAYjG,UAAU,SAACzJ,EAAO5B,GAC7C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQuG,GAActG,SAAS,SAACvJ,GACvCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQuG,GAAcrG,WAAW,SAACxJ,GACzCA,EAAMmJ,OAAS,eAEhBE,EAAQC,QAAQuG,GAAcpG,UAAU,SAACzJ,EAAO5B,GAC/C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQsG,GAAcrG,SAAS,SAACvJ,GACvCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQsG,GAAcpG,WAAW,SAACxJ,GACzCA,EAAMmJ,OAAS,eAEhBE,EAAQC,QAAQsG,GAAcnG,UAAU,SAACzJ,EAAO5B,GAC/C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,cAQ9B,QC/KagQ,GAAchJ,aAC1B,qBAD0C,yCAE1C,WAAOjH,GAAP,UAAArH,EAAA,+EAA6BqH,GAA7B,2CAF0C,uDAK9BkQ,GAAsBjJ,aAClC,6BADkD,yCAElD,WAAOjH,GAAP,UAAArH,EAAA,+EAEe6N,GACXW,MAAMnH,EAAQgD,IACdmE,MAAMnH,EAAQoH,MACdC,iBALJ,8EAOEC,QAAQC,MAAR,MAPF,8DAFkD,uDAetC4I,GAAYlJ,aACxB,mBADwC,yCAExC,WAAOjH,GAAP,gBAAArH,EAAA,kEAEQyX,EAAcvJ,GAASa,QACzB1H,EAAQ2H,MAHd,gCAISnB,GACJW,MAAMiJ,EAAYrV,KAClBoM,MAAMnH,EAAQ2H,MAAMtO,MACpBuO,IAAI5H,EAAQ2H,OAPjB,uBASeyI,EAAYvI,IAAI7H,EAAQhI,OATvC,gFAWEsP,QAAQC,MAAR,MAXF,+DAFwC,uDAmB5B8I,GAAcpJ,aAC1B,qBAD0C,yCAE1C,WAAOjH,GAAP,UAAArH,EAAA,mEAEMqH,EAAQ2H,QAAS3H,EAAQ+H,SAF/B,gCAGSvB,GACJW,MAAMnH,EAAQgD,IACdmE,MAAMnH,EAAQ+H,UACdC,SANL,WAQMhI,EAAQ2H,MARd,gCASSnB,GACJW,MAAMnH,EAAQgD,IACdmE,MAAMnH,EAAQ2H,MAAMtO,MACpBuO,IAAI5H,EAAQ2H,OAZjB,uBAced,GAASM,MAAMnH,EAAQgD,IAAIiF,OAAOjI,EAAQhI,OAdzD,gFAgBEsP,QAAQC,MAAR,MAhBF,+DAF0C,uDAwB9B+I,GAAcrJ,aAC1B,qBAD0C,yCAE1C,WAAOjH,GAAP,UAAArH,EAAA,mEAEMqH,EAAQoH,KAFd,gCAGSZ,GAASW,MAAMnH,EAAQgD,IAAImE,MAAMnH,EAAQoH,MAAMY,SAHxD,uBAKenB,GAASM,MAAMnH,EAAQgD,IAAImF,SAL1C,8EAOEb,QAAQC,MAAR,MAPF,8DAF0C,uDAe9BgJ,GAAiB,SAAC5Q,GAAD,OAAsBA,EAAMuF,QAE7CsL,GAAkBjI,aAC9BgI,IACA,gBAAGrL,EAAH,EAAGA,OAAH,OACC,SAAClC,GAAD,OACCkC,EAAOsD,MAAK,SAACxQ,GAAD,OAAWA,EAAMgL,KAAOA,SAG1ByN,GAA2BlI,aACvCgI,IACA,gBAAGG,EAAH,EAAGA,gBAAH,OACC,SAAC1N,GAAD,uBACC0N,EAAgBlI,MAAK,SAACmI,GAAD,OAAgBA,EAAW3N,KAAOA,YADxD,aACC,EACG4F,cAyESgI,GAtEYhS,aAAY,CACtCvF,KAAM,SACNwF,aAvGkC,CAClCqG,OAAQ,GACRwL,gBAAiB,GACjB5H,OAAQ,QAqGRrJ,SAAU,GACVsJ,cAAe,SAACC,GACfA,EAAQC,QAAQgH,GAAY/G,SAAS,SAACvJ,GACrCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQgH,GAAY9G,WAAW,SAACxJ,EAAO5B,GAC9C4B,EAAMmJ,OAAS,YACfnJ,EAAMuF,OAASnH,EAAOiC,WAEvBgJ,EAAQC,QAAQgH,GAAY7G,UAAU,SAACzJ,EAAO5B,GAC7C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQiH,GAAoBhH,SAAS,SAACvJ,GAC7CA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQiH,GAAoB/G,WAAW,SAACxJ,EAAO5B,GACtD,IAAM8S,EAAgB,CACrB7N,GAAIjF,EAAOuL,KAAKC,IAAIvG,GACpB4F,UAAW7K,EAAOiC,SAGnBL,EAAMmJ,OAAS,YACfnJ,EAAM+Q,gBAAkB/Q,EAAM+Q,gBAC5BlO,QAAO,SAACmO,GAAD,OAAgBA,EAAW3N,KAAO6N,EAAc7N,MACvDT,OAAOsO,MAEV7H,EAAQC,QAAQiH,GAAoB9G,UAAU,SAACzJ,EAAO5B,GACrD4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQkH,GAAUjH,SAAS,SAACvJ,GACnCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQkH,GAAUhH,WAAW,SAACxJ,GACrCA,EAAMmJ,OAAS,eAEhBE,EAAQC,QAAQkH,GAAU/G,UAAU,SAACzJ,EAAO5B,GAC3C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQqH,GAAYpH,SAAS,SAACvJ,GACrCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQqH,GAAYnH,WAAW,SAACxJ,GACvCA,EAAMmJ,OAAS,eAEhBE,EAAQC,QAAQqH,GAAYlH,UAAU,SAACzJ,EAAO5B,GAC7C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQoH,GAAYnH,SAAS,SAACvJ,GACrCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQoH,GAAYlH,WAAW,SAACxJ,GACvCA,EAAMmJ,OAAS,eAEhBE,EAAQC,QAAQoH,GAAYjH,UAAU,SAACzJ,EAAO5B,GAC7C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,cAQ9B,QChLa6Q,GAAyC,SAAC9Y,GACtD,OACC,eAACqN,GAAA,EAAD,CAAgBvJ,UAAWwJ,KAA3B,SACC,eAACC,GAAA,EAAD,CAAO,aAAW,yBAAlB,SACC,gBAACC,GAAA,EAAD,WACC,gBAAC,KAAD,WACC,eAACC,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,mBAOA,eAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,SACE5Q,GAAeiD,EAAMwB,YAGxB,gBAAC,KAAD,WACC,eAACiM,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,oBAOA,eAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B3N,EAAME,YAEjC,gBAAC,KAAD,WACC,eAACuN,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,mBAOA,eAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B3N,EAAM6B,WAEjC,gBAAC,KAAD,WACC,eAAC4L,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,mBAOA,gBAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,UAA0B3N,EAAM2B,MAAhC,UAED,gBAAC,KAAD,WACC,eAAC8L,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,SAAU6U,OAAQ,GAHrC,sBAOA,eAACtL,GAAA,EAAD,CAAWE,MAAM,QAAQ5J,GAAI,CAAEgV,OAAQ,GAAvC,SACE/Y,EAAMgZ,qBCxDDC,GAA8B,SAAC,GAA2B,IAAzBjZ,EAAwB,EAAxBA,MAAwB,IAAjBoM,aAAiB,MAAT,GAAS,EAC/Df,EAAW9E,KACX2S,EAAiBxS,aAAY+R,GAAZ/R,CAAsC1G,EAAMgL,IAQnE,OANAY,qBAAU,WACL5L,EAAMoP,MACT/D,EAAS6M,GAAoBlY,MAE5B,CAACqL,EAAUrL,IAEVkZ,EACI,sBAAKzG,IAAKyG,EAAgBxG,IAAK1S,EAAMqB,KAAM+K,MAAOA,IAIzD,sBAAKqG,IAAG,sCAAiCrG,GAASsG,IAAK1S,EAAMqB,QCAlD8X,GAAkB,WAC9B,IAAM9N,EAAW9E,KACXyE,EAAOyG,eAAPzG,GACA0G,EAAO/H,qBAAWe,IAClB1K,EAAQ0G,aAAY8R,GAAZ9R,CAA6BsE,GACrCjE,EAAwBN,IAC7B,SAACkB,GAAD,OAAWA,EAAM2D,OAAOvE,yBAEnB6K,EAAYnL,IACjB,SAACkB,GAAD,MAAmC,YAAxBA,EAAMuF,OAAO4D,UASzB,GANAlF,qBAAU,YACT,OAAI5L,QAAJ,IAAIA,OAAJ,EAAIA,EAAOoP,OACV/D,EAAS6M,GAAoBlY,MAE5B,CAACqL,EAAUrL,KAETA,EACJ,OAAO,KAGR,IAIMoZ,EAAiB,yCAAG,uBAAAzY,EAAA,sDACzB0K,EAASxD,MADgB,2CAAH,qDAQjBwR,EAAwB,yCAAG,uBAAA1Y,EAAA,+EAEzB0K,EAASiN,GAAYtY,IAAQ+R,SAFJ,OAG/B1G,EAASvD,MAHsB,uGAAH,qDAS9B,OACC,iCACC,gBAACjE,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,gBAChBC,WAAY,SACZC,SAAU,OACVC,aAAc,GANhB,UASC,eAACnO,GAAA,EAAD,CAAY2B,QAAQ,KAApB,SAA0B5F,EAAMqB,OAC/BqQ,GACA,gBAAC7N,GAAA,EAAD,CAAKE,GAAI,CAAEiO,QAAS,QAApB,UACC,eAAChN,EAAA,EAAD,CACC,aAAW,MACXgI,MAAM,YACNhH,QAtCoB,WACzBqF,EAAS/C,GAAetI,KAkCpB,SAKC,eAACqS,GAAA,EAAD,CAAMC,SAAS,YAEhB,eAACtN,EAAA,EAAD,CACC,aAAW,MACXgI,MAAM,UACNhH,QAASoT,EAHV,SAKC,eAAC7G,GAAA,EAAD,CAAQD,SAAS,kBAMrB,gBAACzO,GAAA,EAAD,CACCE,GAAI,CACHqO,aAAc,GAFhB,UAKC,gBAACvO,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTE,WAAY,aACZM,IAAK,EACLJ,aAAc,GALhB,UAQC,eAAC,GAAD,CAAWpS,MAAOA,EAAOoM,MAAO,KAEhC,gBAACvI,GAAA,EAAD,WACC,eAACI,GAAA,EAAD,CACC2B,QAAQ,QACRoH,MAAM,gBACNlJ,UAAU,KACV6O,cAAY,EAJb,yBAQA,eAAC1O,GAAA,EAAD,CAAY2B,QAAQ,KAAKgN,WAAS,EAAlC,SACE5S,EAAM6S,aAAe,oCAIzB,eAACC,GAAA,EAAD,OAGD,gBAACjP,GAAA,EAAD,CACCE,GAAI,CACHqO,aAAc,GAFhB,UAKC,eAACnO,GAAA,EAAD,CACC2B,QAAQ,QACRoH,MAAM,gBACNlJ,UAAU,KACV6O,cAAY,EAJb,wBASA,eAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGb,aAAc,EAA1C,SACC,eAACW,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAA9B,SACC,eAAC,GAAD,eAA0BrT,QAI5B,eAAC8S,GAAA,EAAD,OAGD,gBAACjP,GAAA,EAAD,WACC,eAACI,GAAA,EAAD,CACC2B,QAAQ,QACRoH,MAAM,gBACNlJ,UAAU,KACV6O,cAAY,EAJb,qBASA,eAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACEjT,EAAMC,QAAQG,KAAI,SAACC,EAAQwI,GAAT,OAClB,eAACkK,GAAA,EAAD,CAECG,MAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,EALL,SAOC,eAAC,GAAD,eAAgBhT,KAPjB,UACSA,EAAOC,KADhB,YACwBuI,YAY3B,eAAC,GAAD,CACC5B,KAAMF,EACNjB,MAAM,gBACNyN,QAAO,8CAAyCvT,EAAMqB,KAA/C,uBACPwK,YAjIkC,WACpCR,EAASvD,OAiIP0L,cAAe6F,EACf5F,SAAU7B,Q,6BC/KD0H,GAA8B,SAAC,GAAY,IAAVtO,EAAS,EAATA,GACvChL,EAAQ0G,aAAY8R,GAAZ9R,CAA6BsE,GAE3C,IAAKhL,EACJ,OAAO,KAGR,IAAMuZ,EAAa,gBAAYvZ,EAAM6B,MAAlB,YAClBvE,GAAoByC,GAAaC,KAGlC,OACC,eAAC2F,EAAA,EAAD,CAAMC,QAAQ,WAAd,SACC,eAACC,EAAA,EAAD,CACC2T,OAAQ,eAAC,GAAD,CAAWxZ,MAAOA,IAC1B8F,MAAO9F,EAAMqB,KACboY,UAAWF,EACXxT,OACC,eAACf,EAAA,EAAD,CACC,aAAW,OACXgI,MAAM,UACNlJ,UAAW4V,KACXC,GAAE,kBAAa3Z,EAAMgL,IAJtB,SAMC,eAAC,KAAD,WC7BO4O,GAAmB,WAC/B,IAAMlI,EAAO/H,qBAAWe,IAClBW,EAAW9E,KAMjB,OACC,iCACC,gBAAC1C,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,gBAChBC,WAAY,SACZC,SAAU,OACVK,IAAK,EACLJ,aAAc,GAPhB,UAUC,eAACnO,GAAA,EAAD,CAAY2B,QAAQ,KAApB,oBAEC8L,GACA,eAAC3E,GAAA,EAAD,CAAQnH,QAAQ,YAAYI,QAnBH,WAC5BqF,EAAS/C,OAkBN,0BAKF,eAAC,GAAD,Q,SCpBUuR,GAA2C,SAACvX,GACxD,OACC,eAAC+K,GAAA,EAAD,CAAgBvJ,UAAWwJ,KAA3B,SACC,eAACC,GAAA,EAAD,CAAO,aAAW,0BAAlB,SACC,gBAACC,GAAA,EAAD,WACC,gBAAC,KAAD,WACC,eAACC,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,kBAOA,eAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,SACEzP,GAAqBoE,EAAOC,iBAG/B,gBAAC,KAAD,WACC,eAACkL,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,kBAOA,eAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,SACErP,GAAqBgE,EAAOwX,WAG/B,gBAAC,KAAD,WACC,eAACrM,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,yBAOA,eAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,SACE/R,EAAqB0G,EAAOG,iBAG/B,gBAAC,KAAD,WACC,eAACgL,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,oBAOA,gBAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,UACErL,EAAOiC,IADT,IACejC,EAAOkC,UAGvB,gBAAC,KAAD,WACC,eAACiJ,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,mBAOA,eAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0BrL,EAAOT,WAElC,gBAAC,KAAD,WACC,eAAC4L,GAAA,EAAD,CACC3J,UAAU,KACV4J,MAAM,MACN3J,GAAI,CAAEG,WAAY,UAHnB,mBAOA,gBAACuJ,GAAA,EAAD,CAAWE,MAAM,QAAjB,UAA0BrL,EAAOX,MAAjC,kBChEOoY,GAAe9K,aAC3B,uBAD2C,yCAE3C,WAAOjH,GAAP,UAAArH,EAAA,+EAA8BqH,GAA9B,2CAF2C,uDAK/BgS,GAAuB/K,aACnC,+BADmD,yCAEnD,WAAOjH,GAAP,UAAArH,EAAA,+EAEe6N,GACXW,MAAMnH,EAAQgD,IACdmE,MAAMnH,EAAQoH,MACdC,iBALJ,8EAOEC,QAAQC,MAAR,MAPF,8DAFmD,uDAevC0K,GAAahL,aACzB,qBADyC,yCAEzC,WAAOjH,GAAP,gBAAArH,EAAA,kEAEQuZ,EAAepL,GAAUY,QAC3B1H,EAAQ2H,MAHd,gCAISnB,GACJW,MAAM+K,EAAanX,KACnBoM,MAAMnH,EAAQ2H,MAAMtO,MACpBuO,IAAI5H,EAAQ2H,OAPjB,uBASeuK,EAAarK,IAAI7H,EAAQ1F,QATxC,gFAWEgN,QAAQC,MAAR,MAXF,+DAFyC,uDAmB7B4K,GAAelL,aAC3B,uBAD2C,yCAE3C,WAAOjH,GAAP,UAAArH,EAAA,mEAEMqH,EAAQ2H,QAAS3H,EAAQ+H,SAF/B,gCAGSvB,GACJW,MAAMnH,EAAQgD,IACdmE,MAAMnH,EAAQ+H,UACdC,SANL,WAQMhI,EAAQ2H,MARd,gCASSnB,GACJW,MAAMnH,EAAQgD,IACdmE,MAAMnH,EAAQ2H,MAAMtO,MACpBuO,IAAI5H,EAAQ2H,OAZjB,uBAceb,GAAUK,MAAMnH,EAAQgD,IAAIiF,OAAOjI,EAAQ1F,QAd1D,gFAgBEgN,QAAQC,MAAR,MAhBF,+DAF2C,uDAwB/B6K,GAAenL,aAC3B,uBAD2C,yCAE3C,WAAOjH,GAAP,UAAArH,EAAA,mEAEMqH,EAAQoH,KAFd,gCAGSZ,GAASW,MAAMnH,EAAQgD,IAAImE,MAAMnH,EAAQoH,MAAMY,SAHxD,uBAKelB,GAAUK,MAAMnH,EAAQgD,IAAImF,SAL3C,8EAOEb,QAAQC,MAAR,MAPF,8DAF2C,uDAe/B8K,GAAkB,SAAC1S,GAAD,OAAsBA,EAAM2S,SAE9CC,GAAmBhK,aAC/B8J,IACA,gBAAGC,EAAH,EAAGA,QAAH,OACC,SAACtP,GAAD,OACCsP,EAAQ9J,MAAK,SAAClO,GAAD,OAAYA,EAAO0I,KAAOA,SAG7BwP,GAA4BjK,aACxC8J,IACA,gBAAGI,EAAH,EAAGA,iBAAH,OACC,SAACzP,GAAD,uBACCyP,EAAiBjK,MAAK,SAACkK,GAAD,OAAiBA,EAAY1P,KAAOA,YAD3D,aACC,EACG4F,cAyES+J,GAtEa/T,aAAY,CACvCvF,KAAM,UACNwF,aAvGmC,CACnCyT,QAAS,GACTG,iBAAkB,GAClB3J,OAAQ,QAqGRrJ,SAAU,GACVsJ,cAAe,SAACC,GACfA,EAAQC,QAAQ8I,GAAa7I,SAAS,SAACvJ,GACtCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQ8I,GAAa5I,WAAW,SAACxJ,EAAO5B,GAC/C4B,EAAMmJ,OAAS,YACfnJ,EAAM2S,QAAUvU,EAAOiC,WAExBgJ,EAAQC,QAAQ8I,GAAa3I,UAAU,SAACzJ,EAAO5B,GAC9C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQ+I,GAAqB9I,SAAS,SAACvJ,GAC9CA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQ+I,GAAqB7I,WAAW,SAACxJ,EAAO5B,GACvD,IAAM6U,EAAiB,CACtB5P,GAAIjF,EAAOuL,KAAKC,IAAIvG,GACpB4F,UAAW7K,EAAOiC,SAGnBL,EAAMmJ,OAAS,YACfnJ,EAAM8S,iBAAmB9S,EAAM8S,iBAC7BjQ,QAAO,SAACkQ,GAAD,OAAiBA,EAAY1P,KAAO4P,EAAe5P,MAC1DT,OAAOqQ,MAEV5J,EAAQC,QAAQ+I,GAAqB5I,UAAU,SAACzJ,EAAO5B,GACtD4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQgJ,GAAW/I,SAAS,SAACvJ,GACpCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQgJ,GAAW9I,WAAW,SAACxJ,GACtCA,EAAMmJ,OAAS,eAEhBE,EAAQC,QAAQgJ,GAAW7I,UAAU,SAACzJ,EAAO5B,GAC5C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQmJ,GAAalJ,SAAS,SAACvJ,GACtCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQmJ,GAAajJ,WAAW,SAACxJ,GACxCA,EAAMmJ,OAAS,eAEhBE,EAAQC,QAAQmJ,GAAahJ,UAAU,SAACzJ,EAAO5B,GAC9C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,WAE5B+I,EAAQC,QAAQkJ,GAAajJ,SAAS,SAACvJ,GACtCA,EAAMmJ,OAAS,aAEhBE,EAAQC,QAAQkJ,GAAahJ,WAAW,SAACxJ,GACxCA,EAAMmJ,OAAS,eAEhBE,EAAQC,QAAQkJ,GAAa/I,UAAU,SAACzJ,EAAO5B,GAC9C4B,EAAMmJ,OAAS,SACfnJ,EAAM4H,MAAQxJ,EAAOwJ,MAAMtH,cAQ9B,QC7JMuJ,GAAO5M,YAAO,MAAPA,CAAc,CAC1BwH,MAAO,SAOKnN,GAAmB,WAAO,IAAD,IAC/BoM,EAAW9E,KACXyE,EAAOyG,eAAPzG,GACA0G,EAAO/H,qBAAWe,IAClBpI,EAASoE,aAAY6T,GAAZ7T,CAA8BsE,GACvC6P,EAAkBnU,aAAY8T,GAAZ9T,CAAuCsE,GACzDjE,EAAwBN,IAC7B,SAACkB,GAAD,OAAWA,EAAM2D,OAAOvE,yBAEnB6K,EAAYnL,IACjB,SAACkB,GAAD,MAAmC,YAAxBA,EAAMuF,OAAO4D,UASzB,GANAlF,qBAAU,YACT,OAAItJ,QAAJ,IAAIA,OAAJ,EAAIA,EAAQ8M,OACX/D,EAAS2O,GAAqB1X,MAE7B,CAAC+I,EAAU/I,KAETA,EACJ,OAAO,KAGR,IAIMuP,EAAY,yCAAG,uBAAAlR,EAAA,sDACpB0K,EAASxD,MADW,2CAAH,qDAQZiK,EAAmB,yCAAG,uBAAAnR,EAAA,+EAEpB0K,EAAS+O,GAAa9X,IAASyP,SAFX,OAG1B1G,EAASvD,MAHiB,uGAAH,qDASzB,OACC,iCACC,gBAACjE,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,gBAChBC,WAAY,SACZC,SAAU,OACVC,aAAc,GANhB,UASC,eAACnO,GAAA,EAAD,CAAY2B,QAAQ,KAApB,SAA0BtD,EAAOjB,OAChCqQ,GACA,gBAAC7N,GAAA,EAAD,CAAKE,GAAI,CAAEiO,QAAS,QAApB,UACC,eAAChN,EAAA,EAAD,CACC,aAAW,MACXgI,MAAM,YACNhH,QAtCe,WACpBqF,EAAS7C,GAAgBlG,KAkCrB,SAKC,eAAC+P,GAAA,EAAD,CAAMC,SAAS,YAEhB,eAACtN,EAAA,EAAD,CACC,aAAW,MACXgI,MAAM,UACNhH,QAAS6L,EAHV,SAKC,eAACU,GAAA,EAAD,CAAQD,SAAS,kBAMrB,gBAACzO,GAAA,EAAD,CACCE,GAAI,CACHqO,aAAc,GAFhB,UAKC,gBAACvO,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTE,WAAY,aACZM,IAAK,EACLJ,aAAc,GALhB,UAQEyI,GACA,eAAC,GAAD,CAAMpI,IAAKoI,EAAiBnI,IAAKpQ,EAAOjB,OAEzC,gBAACwC,GAAA,EAAD,WACC,eAACI,GAAA,EAAD,CACC2B,QAAQ,QACRoH,MAAM,gBACNlJ,UAAU,KACV6O,cAAY,EAJb,yBAQA,eAAC1O,GAAA,EAAD,CAAY2B,QAAQ,KAAKgN,WAAS,EAAlC,SACEtQ,EAAOuQ,aAAe,oCAI1B,eAACC,GAAA,EAAD,OAGD,gBAACjP,GAAA,EAAD,CACCE,GAAI,CACHqO,aAAc,GAFhB,UAKC,eAACnO,GAAA,EAAD,CACC2B,QAAQ,QACRoH,MAAM,gBACNlJ,UAAU,KACV6O,cAAY,EAJb,wBASA,gBAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGb,aAAc,EAA1C,UACC,eAACW,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,eAAC,GAAD,eAA2B9Q,OAE3B,UAAAA,EAAOmB,iBAAP,eAAkBG,cAClB,eAACmP,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAA9B,SACC,eAAC,GAAD,CACCvN,MAAM,cACNwN,OAAO,IACPxR,MAAOuB,GACNf,EAAOmB,UAAUG,kBAKpB,UAAAtB,EAAOmB,iBAAP,eAAkB3B,QAClB,eAACiR,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAA9B,SACC,eAAC,GAAD,CACCvN,MAAM,QACNhE,MAAOmB,GACNX,EAAOmB,UAAU3B,cAOtB,eAACgR,GAAA,EAAD,OAGD,gBAACjP,GAAA,EAAD,WACC,eAACI,GAAA,EAAD,CACC2B,QAAQ,QACRoH,MAAM,gBACNlJ,UAAU,KACV6O,cAAY,EAJb,qBASCrQ,EAAOrC,QACP,eAAC8S,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACE3Q,EAAOrC,QAAQG,KAAI,SAACC,EAAQwI,GAAT,OACnB,eAACkK,GAAA,EAAD,CAECG,MAAI,EACJC,GAAI,GACJC,GAAI,EACJC,GAAI,EALL,SAOC,eAAC,GAAD,eAAgBhT,KAPjB,UACSA,EAAOC,KADhB,YACwBuI,SAW1B,eAAC5E,GAAA,EAAD,mCAIF,eAAC,GAAD,CACCgD,KAAMF,EACNjB,MAAM,gBACNyN,QAAO,8CAAyCjR,EAAOjB,KAAhD,uBACPwK,YA3JkC,WACpCR,EAASvD,OA2JP0L,cAAe1B,EACf2B,SAAU7B,QC3NDkJ,GAAoB,WAChC,IAAMpJ,EAAO/H,qBAAWe,IAClBW,EAAW9E,KAMjB,OACC,iCACC,gBAAC1C,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,gBAChBC,WAAY,SACZC,SAAU,OACVK,IAAK,EACLJ,aAAc,GAPhB,UAUC,eAACnO,GAAA,EAAD,CAAY2B,QAAQ,KAApB,qBAEC8L,GACA,eAAC3E,GAAA,EAAD,CAAQnH,QAAQ,YAAYI,QAnBF,WAC7BqF,EAAS7C,OAkBN,2BAKF,eAAC,GAAD,QC/BUuS,GAAoBxK,aAChCH,GACAiK,IACA,kBAAGhK,EAAH,EAAGA,QAAaiK,EAAhB,EAAgBA,QAAhB,6BAAkCjK,GAAlC,aAA8CiK,OAGlCU,GAAsBzK,aAClCwK,IACA,SAAC5P,GAAD,OAAe,SAACH,GAAD,OAAgBG,EAAUqF,MAAK,SAAC0C,GAAD,OAAUA,EAAKlI,KAAOA,SCLxDiQ,GAAsC,SAAC,GAA0B,IAAxB5R,EAAuB,EAAvBA,KAAuB,IAAjB+C,aAAiB,MAAT,GAAS,EAC5E,OACC,sBACCqG,IAAG,sCAAiCrG,GACpCsG,IAAK5S,GAAwBuJ,MCEnB6R,GAAkC,SAAC,GAAkB,IAAhBlQ,EAAe,EAAfA,GAAI3B,EAAW,EAAXA,KAC/C8B,EAAYzE,aAAYsU,GAAZtU,CAAiCsE,GAEnD,IAAKG,EACJ,OAAO,KAGR,IAAMgQ,EACL,eAAgBhQ,EAAhB,mBACeA,EAAUH,IADzB,mBAEeG,EAAUH,IAE1B,OACC,eAACrF,EAAA,EAAD,CAAMC,QAAQ,WAAd,SACC,eAACC,EAAA,EAAD,CACC2T,OAAQ,eAAC,GAAD,CAAmBnQ,KAAMA,IACjCvD,MAAOhG,GAAwBuJ,GAC/BoQ,UAAWtO,EAAU9J,KACrB0E,OACC,eAACf,EAAA,EAAD,CACC,aAAW,OACXgI,MAAM,UACNlJ,UAAW4V,KACXC,GAAIwB,EAJL,SAMC,eAAC,KAAD,WCGOC,GAAoB,WAChC,IAAM/P,EAAW9E,KACXyE,EAAOyG,eAAPzG,GACA0G,EAAO/H,qBAAWe,IAClBzI,EAAUyE,aAAYiR,GAAZjR,CAA+BsE,GACzCqQ,EAAmB3U,aAAYkR,GAAZlR,CAAwCsE,GAC3DjE,EAAwBN,IAC7B,SAACkB,GAAD,OAAWA,EAAM2D,OAAOvE,yBAEnB6K,EAAYnL,IACjB,SAACkB,GAAD,MAAqC,YAA1BA,EAAM+P,SAAS5G,UAS3B,GANAlF,qBAAU,YACT,OAAI3J,QAAJ,IAAIA,OAAJ,EAAIA,EAASmV,WACZ/L,EAAS8L,GAAsBlV,MAE9B,CAACoJ,EAAUpJ,KAETA,EACJ,OAAO,KAGR,ItCvB2CH,EsC2BrCwZ,EAAmB,yCAAG,uBAAA3a,EAAA,sDAC3B0K,EAASxD,MADkB,2CAAH,qDAQnB0T,EAA0B,yCAAG,uBAAA5a,EAAA,+EAE3B0K,EAASmM,GAAcvV,IAAU8P,SAFN,OAGjC1G,EAASvD,MAHwB,uGAAH,qDAShC,OACC,iCACC,gBAACjE,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,gBAChBC,WAAY,SACZC,SAAU,OACVC,aAAc,GANhB,UASC,eAACnO,GAAA,EAAD,CAAY2B,QAAQ,KAApB,SAA0B3D,EAAQZ,OACjCqQ,GACA,gBAAC7N,GAAA,EAAD,CAAKE,GAAI,CAAEiO,QAAS,QAApB,UACC,eAAChN,EAAA,EAAD,CACC,aAAW,MACXgI,MAAM,YACNhH,QAtCsB,WAC3BqF,EAASjD,GAAiBnG,KAkCtB,SAKC,eAACoQ,GAAA,EAAD,CAAMC,SAAS,YAEhB,eAACtN,EAAA,EAAD,CACC,aAAW,MACXgI,MAAM,UACNhH,QAASsV,EAHV,SAKC,eAAC/I,GAAA,EAAD,CAAQD,SAAS,kBAKpB+I,GACA,eAACxX,GAAA,EAAD,CACCC,UAAU,MACVC,GAAI,CACHqO,aAAc,EACdnG,SAAU,OACVuP,UAAW,KAEZ/I,IAAK4I,EACL3I,IAAKzQ,EAAQZ,OAIf,gBAACwC,GAAA,EAAD,CAAKuO,aAAc,EAAnB,UACC,eAACnO,GAAA,EAAD,CACC2B,QAAQ,QACRoH,MAAM,gBACNlJ,UAAU,KACV6O,cAAY,EAJb,yBAQA,eAAC1O,GAAA,EAAD,CAAY2B,QAAQ,KAAKgN,WAAS,EAAlC,SACE3Q,EAAQ4Q,aAAe,8BAEzB,eAACC,GAAA,EAAD,OAGD,gBAACjP,GAAA,EAAD,CAAKuO,aAAc,EAAnB,UACC,eAACnO,GAAA,EAAD,CACC2B,QAAQ,QACRoH,MAAM,gBACNlJ,UAAU,KACV6O,cAAY,EAJb,wBAQA,eAACrF,GAAA,EAAD,CACCvJ,GAAI,CACHqO,aAAc,GAFhB,SAKC,gBAACvO,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,eAChBE,SAAU,CACTgB,GAAI,OACJE,GAAI,UAELoI,QAAS,GACTC,QAAS,GATX,UAYE7Y,GAAcZ,EAAQH,OAAO1B,KAAI,SAAC0C,GAAD,OACjC,gBAAC,WAAD,WACC,gBAACe,GAAA,EAAD,CAAKE,GAAI,CAAE4X,UAAW,SAAUC,KAAM,GAAtC,UACC,eAAC3X,GAAA,EAAD,UAAanB,EAAKzB,OAClB,eAAC4C,GAAA,EAAD,CAAY2B,QAAQ,KAAK9B,UAAU,IAAnC,SACEhB,EAAKE,WAIR,eAAC8P,GAAA,EAAD,CACC/O,GAAI,CACHiO,QAAS,CAAEmB,GAAI,OAAQE,GAAI,UAE5BwI,YAAY,WACZC,UAAQ,MAbKhZ,EAAKC,QAkBrB,gBAACc,GAAA,EAAD,CAAKE,GAAI,CAAE4X,UAAW,SAAUC,KAAM,GAAtC,UACC,eAAC3X,GAAA,EAAD,CAAY+I,MAAM,UAAlB,uBACA,eAAC/I,GAAA,EAAD,CACC+I,MAAM,UACNpH,QAAQ,KACR9B,UAAU,IAHX,SAKE7B,EAAQE,oBAKb,eAAC2Q,GAAA,EAAD,OAGD,gBAACjP,GAAA,EAAD,CAAKuO,aAAc,EAAnB,UACC,eAACnO,GAAA,EAAD,CACC2B,QAAQ,QACRoH,MAAM,gBACNlJ,UAAU,KACV6O,cAAY,EAJb,yBAQA,gBAACI,GAAA,EAAD,CACCC,WAAS,EACTC,QAAS,EACTlP,GAAI,CACHqO,aAAc,GAJhB,UAOC,eAACW,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAI4I,GAAI,EAAG3I,GAAI,EAA9B,SACC,eAAC,GAAD,CACCtN,MAAM,WACNwN,OAAO,IACPxR,OtCvLqCA,EsCwLpCG,EAAQ2B,YtCvLfpI,EAAqB4E,KAAI,SAAC0C,GAAD,MAAW,CACnCC,IAAKD,EACLzB,KAAMzF,EAAqBkH,GAC3BE,MAAOlB,EAAMgB,YsCwLV,eAACiQ,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAI4I,GAAI,EAAG3I,GAAI,EAA9B,SACC,eAAC,GAAD,CACCtN,MAAM,YACNwN,OAAO,IACPxR,MAAOwB,GACNrB,EAAQ2B,iBAIX,eAACmP,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAI4I,GAAI,EAAG3I,GAAI,EAA9B,SACC,eAAC,GAAD,CACCtN,MAAM,YACNwN,OAAO,IACPxR,MAAOyB,GACNtB,EAAQ2B,oBAKZ,eAACkP,GAAA,EAAD,OAGD,gBAACjP,GAAA,EAAD,CAAKuO,aAAc,EAAnB,UACC,eAACnO,GAAA,EAAD,CACC2B,QAAQ,QACRoH,MAAM,gBACNlJ,UAAU,KACV6O,cAAY,EAJb,uBAQA,eAACI,GAAA,EAAD,CACCC,WAAS,EACTC,QAAS,EACTlP,GAAI,CACHqO,aAAc,GAJhB,SAOEvS,GAAgBO,KAAI,SAACiJ,GACrB,IAAM8B,EACLlJ,EAAQkJ,WAAalJ,EAAQkJ,UAAU9B,GAExC,OAAI8B,EAEF,eAAC4H,GAAA,EAAD,CAAiBG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAzC,SACC,eAAC,GAAD,CAAerI,GAAIG,EAAW9B,KAAMA,KAD1BA,GAMN,UAGT,eAACyJ,GAAA,EAAD,OAGD,gBAACjP,GAAA,EAAD,CAAKuO,aAAc,EAAnB,UACC,eAACnO,GAAA,EAAD,CACC2B,QAAQ,QACRoH,MAAM,gBACNlJ,UAAU,KACV6O,cAAY,EAJb,oBAQA,eAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACEhR,EAAQiL,OAAO9M,KAAI,SAACJ,GAAD,OACnB,eAAC+S,GAAA,EAAD,CAAkBG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAA1C,SACC,eAAC,GAAD,CAAWrI,GAAIhL,KADLA,WAOd,eAAC,GAAD,CACCiH,KAAMF,EACNjB,MAAM,gBACNyN,QAAO,8CAAyCtR,EAAQZ,KAAjD,uBACPwK,YA3OkC,WACpCR,EAASvD,OA2OP0L,cAAe+H,EACf9H,SAAU7B,QC9SDoK,GAAqB,WACjC,IAAMtK,EAAO/H,qBAAWe,IAClBW,EAAW9E,KAMjB,OACC,iCACC,gBAAC1C,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,gBAChBC,WAAY,SACZC,SAAU,OACVK,IAAK,EACLJ,aAAc,GAPhB,UAUC,eAACnO,GAAA,EAAD,CAAY2B,QAAQ,KAApB,sBAEC8L,GACA,eAAC3E,GAAA,EAAD,CACCnH,QAAQ,YACRI,QArB0B,WAC9BqF,EAASjD,OAkBN,4BAQF,eAAC,GAAD,Q,4DCnBU6T,GAAkC,SAAC,GAA4B,IAA1BjR,EAAyB,EAAzBA,GAAI3B,EAAqB,EAArBA,KAAM6S,EAAe,EAAfA,SACrD/Q,EAAYzE,aAAYsU,GAAZtU,CAAiCsE,GAQnD,IAAKG,EACJ,OAAO,KAGR,IAAMoO,EAAa,gBAAYpO,EAAUtJ,MAAtB,YAClB7C,GAAwBmM,EAAU7K,OAGnC,OACC,gBAAC6b,GAAA,EAAD,CACCC,gBACC,eAACpX,EAAA,EAAD,CACCqX,KAAK,MACL,aAAW,mBACXrP,MAAM,UACNhH,QArBiB,WAChBgF,GACHkR,EAASlR,IAeR,SAMC,eAAC,KAAD,MARH,UAYC,eAACsR,GAAA,EAAD,UACC,eAACC,GAAA,EAAD,CAAQ3W,QAAQ,SAAhB,SACC,eAAC,GAAD,CAAmByD,KAAMA,QAG3B,eAACmT,GAAA,EAAD,CAAcC,QAAStR,EAAU9J,KAAMqb,UAAWnD,QCpCxCoD,GAA8B,SAAC,GAA2B,IAAzB3R,EAAwB,EAAxBA,GAAI4R,EAAoB,EAApBA,cAC3C5c,EAAQ0G,aAAY8R,GAAZ9R,CAA6BsE,GAM3C,IAAKhL,EACJ,OAAO,KAGR,IAAMuZ,EAAa,gBAAYvZ,EAAM6B,MAAlB,YAClBvE,GAAoByC,GAAaC,KAGlC,OACC,gBAACmc,GAAA,EAAD,CACCC,gBACC,eAACpX,EAAA,EAAD,CACCqX,KAAK,MACL,aAAW,eACXrP,MAAM,UACNhH,QAnBsB,WACzB4W,EAAc5R,IAcZ,SAMC,eAAC,KAAD,MARH,UAYC,eAACsR,GAAA,EAAD,UACC,eAACC,GAAA,EAAD,CAAQ3W,QAAQ,SAAhB,SACC,eAAC,GAAD,CAAW5F,MAAOA,QAGpB,eAACwc,GAAA,EAAD,CAAcC,QAASzc,EAAMqB,KAAMqb,UAAWnD,Q,UCf3CsD,GAAqC,CAC1C1a,UAAW,EACXyB,aAAW,qBACThK,EAAWkB,SAAW,GADb,eAETlB,EAAWmB,SAAW,GAFb,eAGTnB,EAAWoB,SAAW,GAHb,eAITpB,EAAWsB,KAAO,GAJT,eAKTtB,EAAWqB,KAAO,GALT,eAMTrB,EAAWuB,SAAW,GANb,eAOTvB,EAAWwB,QAAU,GAPZ,eAQTxB,EAAWyB,SAAW,GARb,eASTzB,EAAW0B,OAAS,GATX,eAUT1B,EAAW2B,KAAO,GAVT,IAYXsX,YAAa,GACbxR,KAAM,GACN+V,SAAU,GACVlK,OAAQ,GACRpL,MAAO,CACNgb,SAAU,GACVC,UAAW,GACXC,aAAc,GACdC,aAAc,GACdC,OAAQ,GACRC,SAAU,IAEXhS,UAAW,IAGN2I,GAAkC,CACvC7R,QAAS4a,GACTlN,MAAO,MAQKyN,GAAyB,WACrC,IAAM/R,EAAW9E,KACXU,EAAOR,IAAe,SAACkB,GAAD,OAAWA,EAAM2D,OAAOpE,aAAaD,QAC3DhF,EAAUwE,IACf,SAACkB,GAAD,OAAWA,EAAM2D,OAAOpE,aAAajF,WAEhC2P,EAAYnL,IACjB,SAACkB,GAAD,MAAqC,YAA1BA,EAAM+P,SAAS5G,UAE3B,EAAoCtL,mBAASsO,IAA7C,mBAAOE,EAAP,KAAmBC,EAAnB,KACMoJ,EAAgBlJ,mBACrB,kBAAMlS,GAhBqB,SAACA,GAE7B,OAD+BA,EAAvB+I,GAAR,YAA+B/I,EAA/B,IAekBqb,CAAqBrb,KACtC,CAACA,IAGI6D,EAAQ7D,EAAU,iBAAmB,cACrCsS,EAAWtS,EAAO,0BACTA,QADS,IACTA,OADS,EACTA,EAASZ,MACrB,qCACGkc,EAAYvJ,EAAW/R,QAAQiL,OAAOsQ,OAAS,EAC/CC,EACLzJ,EAAW/R,QAAQkJ,WACnBjI,OAAOwa,OAAO1J,EAAW/R,QAAQkJ,WAAWX,OAAOmT,SAASH,OAAS,EAEtE5R,qBAAU,WACTqI,EAAc,CACbhS,QAASob,GAAiBR,GAC1BlN,MAAO,SAEN,CAAC0N,IAEJ,IAAMxR,EAAc,WACnBR,EAAShD,OAGJmM,EAAe,SAACC,GACrB,MAA6CA,EAAEa,cAAvCjU,EAAR,EAAQA,KAAMf,EAAd,EAAcA,KAAM0C,EAApB,EAAoBA,MAAO0R,EAA3B,EAA2BA,cACrBC,EAAsB,WAATrU,EAAoBoU,EAAgB1R,EACvDiR,EAAc,2BACVD,GADS,IAEZ/R,QAAQ,2BACJ+R,EAAW/R,SADR,kBAELZ,EAAOsT,QAgDLiJ,EAAiB,yCAAG,WAAOnJ,GAAP,gBAAA9T,EAAA,kEAExB8T,EAAEI,iBAEG0I,EAJmB,uBAKvBlS,EACCtD,GAAe,CAAEE,QAAS,kCANJ,8BAWpBhG,EAXoB,wBAYjB+F,EAZiB,2BAanBgM,GAbmB,IActBhJ,GAAI/I,EAAQ+I,GACZ+E,SAAU9N,EAAQmV,WAfI,SAiBjB/L,EAASkM,GAAcvP,IAAU+J,SAjBhB,gDAmBjB1G,EAASgM,GAAYrD,IAAajC,SAnBjB,QAqBxB1G,EAAShD,MACT4L,EAAcH,IAtBU,4GAAH,sDAqEjB+J,EAAoB,SAAC7d,GAC1BiU,EAAc,2BACVD,GADS,IAEZ/R,QAAQ,2BACJ+R,EAAW/R,SADR,IAENiL,OAAQ8G,EAAW/R,QAAQiL,OAAO1C,QAAO,SAACsT,GAAD,OAAQA,IAAO9d,WAK3D,OACC,gBAAC,WAAD,WACC,gBAAC8L,GAAA,EAAD,CACC7E,KAAMA,EACN8E,QAASF,EACTI,SAAS,KACTD,WAAS,EACT,kBAAgB,oBALjB,UAOC,eAACE,GAAA,EAAD,CAAalB,GAAG,oBAAhB,SAAqClF,IACrC,wBAAMiP,SAAU6I,EAAhB,UACC,gBAACzR,GAAA,EAAD,WACC,eAAC6I,GAAA,EAAD,UAAoBT,IACpB,eAAC1Q,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,gBAACC,GAAA,EAAD,WACC,wBACCC,OAAO,UACPC,MAAO,CAAEpD,QAAS,QAClBhH,GAAG,wBACHqK,UAAQ,EACR/U,KAAK,OACLkM,SA/IkB,SAACiI,GAA4C,IAAD,EAC/D9E,GAAQ,UAAA8E,EAAEa,cAAcC,aAAhB,eAAuBrC,KAAK,KAAM,KAC1CkE,GAAgB,OAALzH,QAAK,IAALA,OAAA,EAAAA,EAAOtO,OAAQ,GAChC4S,EAAc,2BACVD,GADS,IAEZrE,QACA1N,QAAQ,2BACJ+R,EAAW/R,SADR,IAENmV,mBAyII,yBAAO5B,QAAQ,wBAAf,UACC,eAACzI,GAAA,EAAD,CACCnH,QAAQ,YACR9B,UAAU,OAFX,0BAMCkQ,EAAWrE,OACX,eAAC1L,GAAA,EAAD,CACCF,GAAI,CACH0R,WAAY,EACZzD,QAAS,UAHX,SAMEgC,EAAWrE,MAAMtO,eAMvB,eAACwC,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,eAACS,GAAA,EAAD,CACCC,WAAS,EACTtU,KAAK,OACLuL,MAAM,OACN5J,MAAOgR,EAAW/R,QAAQZ,KAC1BmL,SAAUgI,EACVxI,WAAS,EACT4J,UAAQ,EACRC,WAAY,CACXC,UAAW,EACXC,UAAW,QAId,eAAClS,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,eAACS,GAAA,EAAD,CACCC,WAAS,EACTtU,KAAK,cACLuL,MAAM,cACN5J,MAAOgR,EAAW/R,QAAQ4Q,YAC1BrG,SAAUgI,EACVxI,WAAS,EACTgK,WAAS,EACTC,QAAS,EACTJ,WAAY,CACXE,UAAW,SAId,eAAC,GAAD,CACCjQ,MAAM,eACNhE,MAAOe,GAAcmR,EAAW/R,QAAQH,OACxCyC,IAAK,EACLC,IAAK,GACLgQ,aA3KoB,SAACC,GAC1B,MAAgCA,EAAEa,cAA1BjU,EAAR,EAAQA,KAAMqT,EAAd,EAAcA,cACdT,EAAc,2BACVD,GADS,IAEZ/R,QAAQ,2BACJ+R,EAAW/R,SADR,IAENH,MAAM,2BACFkS,EAAW/R,QAAQH,OADlB,kBAEHT,EAAOqT,YAqKP,eAAC,GAAD,CACC5O,MAAM,kBACNhE,MAAOsB,GACN4Q,EAAW/R,QAAQ2B,aAEpBW,KAAM,IACNC,IAAK,IACLgQ,aApM0B,SAC/BC,GAEA,MAAgCA,EAAEa,cAA1BjU,EAAR,EAAQA,KAAMqT,EAAd,EAAcA,cACdT,EAAc,2BACVD,GADS,IAEZ/R,QAAQ,2BACJ+R,EAAW/R,SADR,IAEN2B,YAAY,2BACRoQ,EAAW/R,QAAQ2B,aADZ,kBAETvC,EAAOqT,YA4LP,gBAAC7Q,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,sCAOA,eAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,YACLuL,MAAM,SACNtM,KAAK,SACL0C,MAAOgR,EAAW/R,QAAQE,UAC1BqK,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAK,aAMV,gBAACX,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,uBAOC8K,EACA,eAACM,GAAA,EAAD,CACCha,GAAI,CACHqI,MAAO,OACP4R,QAAS,oBAHX,SAMEne,GAAgBO,KAAI,SAACiJ,GACrB,IAAM8B,EACL6I,EAAW/R,QAAQkJ,WACnB6I,EAAW/R,QAAQkJ,UAAU9B,GAM9B,OAAK8B,EAKJ,eAAC,GAAD,CAECH,GAAIG,EACJ9B,KAAMA,EACN6S,SAbmB,YA7KA,SAAC7S,GAC9B4K,EAAc,2BACVD,GADS,IAEZ/R,QAAQ,2BACJ+R,EAAW/R,SADR,IAENkJ,UAAU,2BACN6I,EAAW/R,QAAQkJ,WADd,kBAEP9B,EAAO,YAuKF4U,CAAsB5U,KAShBA,GALC,UAcV,eAACpF,GAAA,EAAD,4CAKF,gBAACJ,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,oBAOC4K,EACA,eAACQ,GAAA,EAAD,CACCha,GAAI,CACHqI,MAAO,OACP4R,QAAS,oBAHX,SAMEhK,EAAW/R,QAAQiL,OAAO9M,KAAI,SAACJ,GAAD,OAC9B,eAAC,GAAD,CAECgL,GAAIhL,EACJ4c,cAAeiB,GAFV7d,QAOR,eAACiE,GAAA,EAAD,4CAIH,gBAAC6I,GAAA,EAAD,WACC,eAACC,GAAA,EAAD,CACCnH,QAAQ,YACRI,QAlP8B,WACnCqF,EAASpC,OAkPJ+D,MAAM,YAHP,2BAOA,eAACD,GAAA,EAAD,CACCnH,QAAQ,YACRI,QA9N2B,WAChCqF,EAAStC,OA8NJiE,MAAM,YAHP,wBAOA,eAACD,GAAA,EAAD,CAAQ/G,QAAS6F,EAAamB,MAAM,UAApC,oBAGA,eAACD,GAAA,EAAD,CACCzM,KAAK,SACL0M,MAAM,UACNyG,SAAU7B,EAHX,2BAWH,eAAC,GAAD,CACCzG,UAAW6I,EAAW/R,QAAQkJ,WAAa,GAC3CC,eA1QwB,SAACD,GAC3B8I,EAAc,2BACVD,GADS,IAEZ/R,QAAQ,2BACJ+R,EAAW/R,SADR,IAENkJ,oBAuQD,eAAC,GAAD,CACC+B,OAAQ8G,EAAW/R,QAAQiL,OAC3BC,YAnPqB,SAACD,GACxB+G,EAAc,2BACVD,GADS,IAEZ/R,QAAQ,2BACJ+R,EAAW/R,SADR,IAENiL,qBCtNSzT,GAA4B,WACxC,MAGI2Q,KAFMH,EADV,EACCtC,MAASsC,oBACToB,EAFD,EAECA,SAGKmJ,EAAe,SAACC,GACrB,MAA6CA,EAAEvU,OAAvCmB,EAAR,EAAQA,KAAMf,EAAd,EAAcA,KAAM0C,EAApB,EAAoBA,MAAO0R,EAA3B,EAA2BA,cACrBC,EAAsB,WAATrU,EAAoBoU,EAAgB1R,EAEvDqI,EAAS,CACR/K,KAAM,SACN0H,QAAQ,2BACJiC,GADG,kBAEL5I,EAAiBsT,OAKrB,OACC,gBAAC,WAAD,WACC,gBAAC9Q,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,+BAOA,eAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACTkK,QAAM,EACNlS,OAAO,QACP4I,MAAM,OACNvL,KAAK,SACL2B,MAAOiH,EAAoB5J,OAC3BmM,SAAUgI,EAPX,SASEnY,GAAkB+D,KAAI,SAACC,GAAD,OACtB,eAAC8V,GAAA,EAAD,CAAuBnT,MAAO3C,EAA9B,SACE7D,GAA2B6D,IADdA,eAQpB,eAACwD,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,gBAAClC,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,WACLuL,MAAM,eACNtM,KAAK,SACL0C,MAAOiH,EAAoBvG,SAC3B8I,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAK,SAIR,eAACuO,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,WACLuL,MAAK,sBhDpEgB,GgDoEhB,KACLtM,KAAK,SACL0C,MAAOiH,EAAoBtG,SAC3B6I,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IhD3EoB,iBiDDfJ,GAAyB,WACrC,MAGIgG,KAFMN,EADV,EACCnC,MAASmC,iBACTuB,EAFD,EAECA,SAGKmJ,EAAe,SAACC,GACrB,MAA6CA,EAAEvU,OAAvCmB,EAAR,EAAQA,KAAMf,EAAd,EAAcA,KAAM0C,EAApB,EAAoBA,MAAO0R,EAA3B,EAA2BA,cACrBC,EAAsB,WAATrU,EAAoBoU,EAAgB1R,EAEvDqI,EAAS,CACR/K,KAAM,SACN0H,QAAQ,2BACJ8B,GADG,kBAELzI,EAAiBsT,OAKrB,OACC,gBAAC,WAAD,WACC,gBAAC9Q,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,+BAOA,gBAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACTkK,QAAM,EACNlS,OAAO,QACP4I,MAAM,WACNvL,KAAK,WACL2B,MAAO8G,EAAiBzF,SACxBmI,SAAUgI,EAPX,SASEla,EAAM8F,KAAI,SAAC0C,GAAD,OACV,eAACqT,GAAA,EAAD,CAAqBnT,MAAOF,EAA5B,SACEnH,EAAemH,IADFA,UAMlB,eAACiQ,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACTkK,QAAM,EACNlS,OAAO,QACP4I,MAAM,cACNvL,KAAK,aACL2B,MAAO8G,EAAiBrH,WACxB+J,SAAUgI,EAPX,SASE3Z,EAAYuF,KAAI,SAAC+D,GAAD,OAChB,eAACgS,GAAA,EAAD,CAA2BnT,MAAOmB,EAAlC,SACEvI,EAAqBuI,IADRA,gBAQpB,eAACN,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,gBAAClC,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,MACLuL,MAAK,0BAAqBxS,EAArB,KACLkG,KAAK,SACL0C,MAAO8G,EAAiBvF,IACxBiI,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAKpK,OAIR,eAAC2Y,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,MACLuL,MAAK,0BAAqBxS,EAArB,KACLkG,KAAK,SACL0C,MAAO8G,EAAiBtF,IACxBgI,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAKpK,OAIR,eAAC2Y,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,aACLuL,MAAK,wBAAmBvS,EAAnB,KACLiG,KAAK,SACL0C,MAAO8G,EAAiBxF,WACxBkI,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAKnK,EACL6jB,KAAM,oBCnHDzZ,GAAuB,WACnC,MAGI2F,KAFML,EADV,EACCpC,MAASoC,eACTsB,EAFD,EAECA,SAGKmJ,EAAe,SAACC,GACrB,MAA6CA,EAAEvU,OAAvCmB,EAAR,EAAQA,KAAMf,EAAd,EAAcA,KAAM0C,EAApB,EAAoBA,MAAO0R,EAA3B,EAA2BA,cACrBC,EAAsB,WAATrU,EAAoBoU,EAAgB1R,EAEvDqI,EAAS,CACR/K,KAAM,SACN0H,QAAQ,2BACJ+B,GADG,kBAEL1I,EAAiBsT,OAKrB,OACC,gBAAC,WAAD,WACC,gBAAC9Q,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,+BAOA,eAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACTkK,QAAM,EACNlS,OAAO,QACP4I,MAAM,WACNvL,KAAK,WACL2B,MAAO+G,EAAe1F,SACtBmI,SAAUgI,EACVf,UAAQ,EART,SAUEnZ,EAAM8F,KAAI,SAAC0C,GAAD,OACV,eAACqT,GAAA,EAAD,CAAqBnT,MAAOF,EAA5B,SACEnH,EAAemH,IADFA,eAQpB,eAACe,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,gBAAClC,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,MACLuL,MAAK,0BAAqBxS,EAArB,KACLkG,KAAK,SACL0C,MAAO+G,EAAexF,IACtBiI,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAKpK,OAIR,eAAC2Y,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,MACLuL,MAAK,0BAAqBxS,EAArB,KACLkG,KAAK,SACL0C,MAAO+G,EAAevF,IACtBgI,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAKpK,OAIR,eAAC2Y,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,aACLuL,MAAK,wBAAmBvS,EAAnB,KACLiG,KAAK,SACL0C,MAAO+G,EAAezF,WACtBkI,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAKnK,EACL6jB,KAAM,oBCpGRvK,IAAmB,qBACvBha,EAAKY,SAAW,GADO,eAEvBZ,EAAKa,UAAY,GAFM,eAGvBb,EAAKc,aAAe,GAHG,eAIvBd,EAAKe,aAAe,GAJG,eAKvBf,EAAKgB,OAAS,GALS,eAMvBhB,EAAKiB,SAAW,GANO,IASnBgZ,IAAyB,qBAC7Bha,EAAWkB,SAAW,GADO,eAE7BlB,EAAWmB,SAAW,GAFO,eAG7BnB,EAAWoB,SAAW,GAHO,eAI7BpB,EAAWqB,KAAO,GAJW,eAK7BrB,EAAWsB,KAAO,GALW,eAM7BtB,EAAWuB,SAAW,GANO,eAO7BvB,EAAWwB,QAAU,GAPQ,eAQ7BxB,EAAWyB,SAAW,GARO,eAS7BzB,EAAW0B,OAAS,GATS,eAU7B1B,EAAW2B,KAAO,GAVW,IAalBiI,GAAyB,WACrC,MAGI4G,KAFMJ,EADV,EACCrC,MAASqC,iBACTqB,EAFD,EAECA,SAED,EAA0B7F,mBAAQ,2BAC9BmO,IACA3J,EAAiBvG,UAAU3B,QAF/B,mBAAOA,EAAP,KAAcuS,EAAd,KAIA,EAAsC7O,mBAAQ,2BAC1CoO,IACA5J,EAAiBvG,UAAUG,cAF/B,mBAAOA,EAAP,KAAoB0Q,EAApB,KAKME,EAAe,SAACC,GACrB,MAA6CA,EAAEvU,OAAvCmB,EAAR,EAAQA,KAAMf,EAAd,EAAcA,KAAM0C,EAApB,EAAoBA,MAAO0R,EAA3B,EAA2BA,cACrBC,EAAsB,WAATrU,EAAoBoU,EAAgB1R,EAEvDqI,EAAS,CACR/K,KAAM,SACN0H,QAAQ,2BACJgC,GADG,kBAEL3I,EAAiBsT,OAqErB,OACC,gBAAC,WAAD,WACC,gBAAC9Q,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAAC,GAAD,CACCnP,MAAM,iBACNhE,MAAOe,GAAcf,GACrByC,KAAM,GACNC,IAAK,GACLgQ,aAxEsB,SAACC,GAC1B,MAAgCA,EAAEa,cAA1BjU,EAAR,EAAQA,KAAMqT,EAAd,EAAcA,cAEdL,EAAS,2BACLvS,GADI,kBAENT,EAAiBqT,KAGnB,IAAM0B,EAAQ,2BACVpM,EAAiBvG,UAAU3B,OADjB,kBAEZT,EAAiBqT,IAGnBxR,OAAOC,KAAKiT,GAAUC,SAAQ,SAACtT,GACzBqT,EAASrT,WACNqT,EAASrT,MAIlBsI,EAAS,CACR/K,KAAM,SACN0H,QAAQ,2BACJgC,GADG,IAENvG,UAAU,2BACNuG,EAAiBvG,WADZ,IAER3B,MAAOsU,WAiDR,eAAC,GAAD,CACCtQ,MAAM,kBACNhE,MAAOsB,GAAoBQ,GAC3BW,KAAM,IACNC,IAAK,IACLgQ,aAhD4B,SAC/BC,GAEA,MAAgCA,EAAEa,cAA1BjU,EAAR,EAAQA,KAAMqT,EAAd,EAAcA,cAEdJ,EAAe,2BACX1Q,GADU,kBAEZvC,EAAiBqT,KAGnB,IAAM4B,EAAc,2BAChBtM,EAAiBvG,UAAUG,aADX,kBAElBvC,EAAiBqT,IAGnBxR,OAAOC,KAAKmT,GAAgBD,SAAQ,SAACtT,GAC/BuT,EAAevT,WACZuT,EAAevT,MAIxBsI,EAAS,CACR/K,KAAM,SACN0H,QAAQ,2BACJgC,GADG,IAENvG,UAAU,2BACNuG,EAAiBvG,WADZ,IAERG,YAAa0S,cAwBf,eAACzS,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,gBAAClC,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,WACLuL,MAAM,eACNtM,KAAK,SACL0C,MAAOgH,EAAiBtG,SACxB8I,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAK,SAIR,eAACuO,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,WACLuL,MAAK,sBnDpJgB,GmDoJhB,KACLtM,KAAK,SACL0C,MAAOgH,EAAiBrG,SACxB6I,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,InD3JoB,iBoDdfE,GAA+B,WAC3C,MAGI0F,KAFMP,EADV,EACClC,MAASkC,uBACTwB,EAFD,EAECA,SAgBD,OACC,eAAC,WAAD,UACC,gBAACxH,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,+BAQA,eAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,aACLuL,MAAK,wBAAmBvS,EAAnB,KACLiG,KAAK,SACL0C,MAAO6G,EAAuBvF,WAC9BkI,SAjCe,SAACiI,GACrB,MAA6CA,EAAEvU,OAAvCmB,EAAR,EAAQA,KAAMf,EAAd,EAAcA,KAAM0C,EAApB,EAAoBA,MAAO0R,EAA3B,EAA2BA,cACrBC,EAAsB,WAATrU,EAAoBoU,EAAgB1R,EAEvDqI,EAAS,CACR/K,KAAM,SACN0H,QAAQ,2BACJ6B,GADG,kBAELxI,EAAiBsT,OA0BfiB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAKnK,EACL6jB,KAAM,mBCbDC,GAAgC,SAAC,GAIvC,IAAD,EAHLle,EAGK,EAHLA,QACAme,EAEK,EAFLA,YACAC,EACK,EADLA,eAEMhT,EAAW9E,KACXU,EAAOR,IAAe,SAACkB,GAAD,OAAWA,EAAM2D,OAAOhE,YAAYL,QAC1D5G,EAASoG,IAAe,SAACkB,GAAD,OAAWA,EAAM2D,OAAOhE,YAAYjH,UAC5DwI,EAAQpC,IAAe,SAACkB,GAAD,OAAWA,EAAM2D,OAAOhE,YAAYuB,SACjE,EAAoCrD,mBAASvF,EAAQ,IAArD,mBAAOqe,EAAP,KAAmBC,EAAnB,KACA,EAA+BhT,qBAC9BrB,GACAN,IAFD,mBAAOjC,EAAP,KAAc6D,EAAd,KAIM1F,EAAQzF,EAAS,gBAAkB,aACnCme,EAAUne,EAAS,SAAW,MAE9BsL,EAAgB,CACrBhE,QACA0D,SAAUG,GAGXI,qBAAU,WACLvL,IACHke,EAAcle,EAAOC,MACrBkL,EAAc,CAAElL,KAAM,SAAU0H,QAAS3H,OAExC,CAACA,IAEJuL,qBAAU,WACJ3E,GACJuE,EAAc,CAAElL,KAAM,YAErB,CAAC2G,IAEJ,IAAM4E,EAAc,WACnBR,EAASvC,OA4BV,OACC,gBAACgD,GAAA,EAAD,CACC7E,KAAMA,EACN8E,QAASF,EACTI,SAAS,KACTD,WAAS,EACT,kBAAgB,oBALjB,UAOC,eAACE,GAAA,EAAD,CAAalB,GAAG,oBAAhB,SAAqClF,IACrC,wBAAMiP,SA7BgB,SAACN,GAAyC,IAAD,EAChEA,EAAEI,iBAEF,IAAMb,GAAa,mBACjBza,EAAWuC,aAAe6L,EAAMkC,wBADf,cAEjBtQ,EAAWwC,OAAS4L,EAAMmC,kBAFT,cAGjBvQ,EAAWyC,KAAO2L,EAAMoC,gBAHP,cAIjBxQ,EAAW0C,OAAS0L,EAAMqC,kBAJT,cAKjBzQ,EAAW2C,UAAYyL,EAAMsC,qBALZ,GAMjBqU,GAEEje,GAA2B,kBAAVwI,EACpBwV,EAAerK,EAAYnL,GAE3BuV,EAAYpK,GAGb3I,EAASvC,OAYR,UACC,gBAACqD,GAAA,EAAD,WACC,gBAACtI,GAAA,EAAD,CAAK4a,GAAI,EAAT,UACC,eAACzJ,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,yBAOA,eAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACTkK,QAAM,EACNlS,OAAO,QACP4I,MAAM,OACNvL,KAAK,aACL2B,MAAOsb,EACP9R,SArDiB,SAACiI,GACzB,IAAQzR,EAAUyR,EAAEvU,OAAZ8C,MACRub,EAAcvb,IA4CR,SASE/C,EAAQG,KAAI,SAACC,EAAQwI,GAAT,OACZ,eAACsN,GAAA,EAAD,CAAsBnT,MAAO3C,EAA7B,SACEjE,EAAiBiE,IADJwI,eAQpB,eAACsB,GAAc0C,SAAf,CAAwB7J,MAAO2I,EAA/B,UAEE,mBACEpS,EAAWuC,aACX,eAAC,GAAD,KAFF,cAIEvC,EAAWwC,OAAS,eAAC,GAAD,KAJtB,cAKExC,EAAWyC,KAAO,eAAC,GAAD,KALpB,cAMEzC,EAAW0C,OAAS,eAAC,GAAD,KANtB,cAOE1C,EAAW2C,UAAY,eAAC,GAAD,KAPzB,GAQEoiB,QAIL,gBAACxR,GAAA,EAAD,WACC,eAACC,GAAA,EAAD,CAAQ/G,QAAS6F,EAAamB,MAAM,UAApC,oBAGA,eAACD,GAAA,EAAD,CAAQzM,KAAK,SAAS0M,MAAM,UAA5B,SACEwR,c,UCrJMhb,GAAwC,SAAC,GAI/C,IAHNC,EAGK,EAHLA,UACAC,EAEK,EAFLA,SACAC,EACK,EADLA,SAEQ7B,EAAuB2B,EAAvB3B,MAAO8B,EAAgBH,EAAhBG,YAEf,OACC,gBAACC,GAAA,EAAD,CAAKC,UAAU,KAAKC,GAAI,CAAEC,OAAQ,GAAlC,UACC,gBAACC,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,gBAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,sBACW,OAEVR,EAJF,OAMA,gBAACO,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,gBAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,sBACW,OAEVP,EAJF,YAMC7B,GACA,gBAACmC,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,eAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,4BAGA,eAACL,GAAA,EAAD,CAAKC,UAAU,KAAf,SACEZ,OAAOC,KAAKrB,GAAO1B,KAAI,SAAC0C,GAAD,OACvB,gBAACmB,GAAA,EAAD,CAECH,UAAU,KACV8B,QAAQ,QAHT,UAKC,gBAAC/B,GAAA,EAAD,CACCC,UAAU,OACVC,GAAI,CAAEG,WAAY,UAFnB,UAIEvI,EAAemH,GAJjB,IAIiC,OAEhChB,EAAMgB,KAVFA,WAgBTc,GACA,gBAACK,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,eAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,kCAGA,eAACL,GAAA,EAAD,CAAKC,UAAU,KAAf,SACEZ,OAAOC,KAAKS,GAAaxD,KAAI,SAAC+D,GAAD,OAC7B,gBAACF,GAAA,EAAD,CAECH,UAAU,KACV8B,QAAQ,QAHT,UAKC,gBAAC/B,GAAA,EAAD,CACCC,UAAU,OACVC,GAAI,CAAEG,WAAY,UAFnB,UAKEtI,EACCuI,GANH,IASG,OAEFP,EAAYO,GAhBd,MACMA,eC1DAC,GAAwC,SAAC,GAM/C,IALN3B,EAKK,EALLA,WACA4B,EAIK,EAJLA,SACAC,EAGK,EAHLA,WACAC,EAEK,EAFLA,IACAC,EACK,EADLA,IAEA,OACC,gBAACX,GAAA,EAAD,CAAKC,UAAU,KAAKC,GAAI,CAAEC,OAAQ,GAAlC,UACC,gBAACC,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,gBAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,yBACc,OAEbtI,EAAqB6G,MAEvB,gBAACwB,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,gBAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,sBACW,OAEVvI,EAAe0I,MAEjB,gBAACJ,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,gBAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,wBACa,OAFd,IAIGI,KAEH,gBAACL,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,gBAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,oBACS,OAERK,EAJF,IAIQC,SC/BEC,GAAoC,SAAC,GAK3C,IAJNJ,EAIK,EAJLA,SACAC,EAGK,EAHLA,WACAC,EAEK,EAFLA,IACAC,EACK,EADLA,IAEA,OACC,gBAACX,GAAA,EAAD,CAAKC,UAAU,KAAKC,GAAI,CAAEC,OAAQ,GAAlC,UACC,gBAACC,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,gBAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,sBACW,OAEVvI,EAAe0I,MAEjB,gBAACJ,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,gBAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,wBACa,OAFd,IAIGI,KAEH,gBAACL,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,gBAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,oBACS,OAERK,EAJF,IAIQC,SCxBE/K,GAA8C,SAAC,GAIrD,IAHN4G,EAGK,EAHLA,OACAqD,EAEK,EAFLA,SACAC,EACK,EADLA,SAEA,OACC,gBAACE,GAAA,EAAD,CAAKC,UAAU,KAAKC,GAAI,CAAEC,OAAQ,GAAlC,UACC,gBAACC,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,gBAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,sBACW,OAEVR,EAJF,OAMA,gBAACO,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,gBAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,sBACW,OAEVP,EAJF,YAMA,gBAACM,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,gBAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,oBACS,OAER1H,GAA2B6D,UCxBnBqE,GAAoD,SAAC,GAE3D,IADNJ,EACK,EADLA,WAEA,OACC,eAACT,GAAA,EAAD,CAAKC,UAAU,KAAKC,GAAI,CAAEC,OAAQ,GAAlC,SACC,gBAACC,GAAA,EAAD,CAAYH,UAAU,KAAK8B,QAAQ,QAAnC,UACC,gBAAC/B,GAAA,EAAD,CAAKC,UAAU,OAAOC,GAAI,CAAEG,WAAY,UAAxC,wBACa,OAFd,IAIGI,QCYOiB,GAA+B,SAAC,GAAiC,IAA/BlF,EAA8B,EAA9BA,OAAQwI,EAAsB,EAAtBA,MAAOqT,EAAe,EAAfA,SACvD7Q,EAAW9E,KA2BjB,OACC,gBAACZ,EAAA,EAAD,CAAMC,QAAQ,WAAd,UACC,gBAACS,EAAA,EAAD,WACC,eAACpC,GAAA,EAAD,CACCF,GAAI,CACHuO,SAAU,IAEXtF,MAAM,gBACN2F,cAAY,EALb,SAOEvW,EAAiBiE,EAAOC,QAnCJ,WACxB,OAAQD,EAAOC,MACd,KAAK/G,EAAWuC,aACf,OAAO,eAAC,GAAD,eAAwBuE,IAChC,KAAK9G,EAAWwC,OACf,OAAO,eAAC,GAAD,eAAkBsE,IAC1B,KAAK9G,EAAWyC,KACf,OAAO,eAAC,GAAD,eAAgBqE,IACxB,KAAK9G,EAAW0C,OACf,OAAO,eAAC,GAAD,eAAkBoE,IAC1B,KAAK9G,EAAW2C,UACf,OAAO,eAAC,GAAD,eAAqBmE,IAC7B,QACC,OAAO,MAwBNiG,MAEF,gBAACoY,GAAA,EAAD,WACC,eAAC1Z,EAAA,EAAD,CACC,aAAW,cACXgI,MAAM,YACNhH,QA1B0B,WAC7BqF,EAASzC,GAAgB,CAAEvI,SAAQwI,YAsBjC,SAKC,eAACwJ,GAAA,EAAD,CAAMC,SAAS,YAEhB,eAACtN,EAAA,EAAD,CACC,aAAW,gBACXgI,MAAM,UACNhH,QA7BuB,WAC1BkW,EAAS7b,EAAQwI,IAyBf,SAKC,eAAC0J,GAAA,EAAD,CAAQD,SAAS,mB,UC3ChBqM,GAAiC,CACtCtd,KAAM,GACNwR,YAAa,GACbzD,KAAM,GACN5N,MAAO9H,EAAegD,OACtBuD,QAAS,GACT0B,MAAO,EACPqX,QAAS,EACTnX,MAAO,EACP3B,OAAQ1G,EAAO+G,OAGVuT,GAAgC,CACrC9T,MAAO2e,GACPhP,MAAO,MAQKiP,GAAuB,WACnC,IAAMvT,EAAW9E,KACXU,EAAOR,IAAe,SAACkB,GAAD,OAAWA,EAAM2D,OAAOnE,WAAWF,QACzDjH,EAAQyG,IAAe,SAACkB,GAAD,OAAWA,EAAM2D,OAAOnE,WAAWnH,SAC1D4R,EAAYnL,IACjB,SAACkB,GAAD,MAAmC,YAAxBA,EAAMuF,OAAO4D,UAEzB,EAAoCtL,mBAASsO,IAA7C,mBAAOE,EAAP,KAAmBC,EAAnB,KACM4K,EAAc1K,mBACnB,kBAAMnU,GAdmB,SAACA,GAE3B,OAD6BA,EAArBgL,GAAR,YAA6BhL,EAA7B,IAagB8e,CAAmB9e,KAClC,CAACA,IAGI8F,EAAQ9F,EAAQ,eAAiB,YACjCuU,EAAWvU,EAAK,0BACPA,QADO,IACPA,OADO,EACPA,EAAOqB,MACnB,mCACG0d,EAAa/K,EAAWhU,MAAMC,QAAQud,OAAS,EAErD5R,qBAAU,WACTqI,EAAc,CACbjU,MAAO6e,GAAeF,GACtBhP,MAAO,SAEN,CAACkP,IAEJ,IAAMhT,EAAc,WACnBR,EAAS9C,OAGJiM,EAAe,SAACC,GACrB,MAA6CA,EAAEvU,OAAvCmB,EAAR,EAAQA,KAAMf,EAAd,EAAcA,KAAM0C,EAApB,EAAoBA,MAAO0R,EAA3B,EAA2BA,cACrBC,EAAsB,WAATrU,EAAoBoU,EAAgB1R,EACvDiR,EAAc,2BACVD,GADS,IAEZhU,MAAM,2BACFgU,EAAWhU,OADV,kBAEHqB,EAAiBsT,QA4CfqK,EAAqB,SAAC3e,EAAsBwI,GACjD,IAAMoW,EAAU,aAAOjL,EAAWhU,MAAMC,SACxCgf,EAAWC,OAAOrW,EAAO,GAEzBoL,EAAc,2BACVD,GADS,IAEZhU,MAAM,2BACFgU,EAAWhU,OADV,IAEJC,QAASgf,QAKNE,EAAe,yCAAG,WAAO1K,GAAP,gBAAA9T,EAAA,kEAEtB8T,EAAEI,iBAEGkK,EAJiB,uBAKrB1T,EACCtD,GAAe,CAAEE,QAAS,mCANN,8BAWlBjI,EAXkB,wBAYfgI,EAZe,2BAajBgM,GAbiB,IAcpBhJ,GAAIhL,EAAMgL,GACV+E,SAAU/P,EAAMoP,OAfI,SAiBf/D,EAASgN,GAAYrQ,IAAU+J,SAjBhB,gDAmBf1G,EAAS8M,GAAUnE,IAAajC,SAnBjB,QAqBtB1G,EAAS9C,MACT0L,EAAcH,IAtBQ,kDAyBtBxE,QAAQwF,IAAR,MAzBsB,0DAAH,sDA6BrB,OACC,gBAAChJ,GAAA,EAAD,CACC7E,KAAMA,EACN8E,QAASF,EACTI,SAAS,KACTD,WAAS,EACT,kBAAgB,oBALjB,UAOC,eAACE,GAAA,EAAD,CAAalB,GAAG,oBAAhB,SAAqClF,IACrC,wBAAMiP,SAAUoK,EAAhB,UACC,gBAAChT,GAAA,EAAD,WACC,eAAC6I,GAAA,EAAD,UAAoBT,IACpB,eAAC1Q,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,gBAACC,GAAA,EAAD,WACC,wBACCC,OAAO,UACPC,MAAO,CAAEpD,QAAS,QAClBhH,GAAG,wBACHqK,UAAQ,EACR/U,KAAK,OACLkM,SArGmB,SAACiI,GAA4C,IAAD,EAC/D9E,GAAQ,UAAA8E,EAAEa,cAAcC,aAAhB,eAAuBrC,KAAK,KAAM,KAC1C9D,GAAY,OAALO,QAAK,IAALA,OAAA,EAAAA,EAAOtO,OAAQ,GAC5B4S,EAAc,2BACVD,GADS,IAEZrE,QACA3P,MAAM,2BACFgU,EAAWhU,OADV,IAEJoP,eA+FG,yBAAOoG,QAAQ,wBAAf,UACC,eAACzI,GAAA,EAAD,CAAQnH,QAAQ,YAAY9B,UAAU,OAAtC,0BAGCkQ,EAAWrE,OACX,eAAC1L,GAAA,EAAD,CACCF,GAAI,CACH0R,WAAY,EACZzD,QAAS,UAHX,SAMEgC,EAAWrE,MAAMtO,eAMvB,eAACwC,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,eAACS,GAAA,EAAD,CACCC,WAAS,EACTtU,KAAK,OACLuL,MAAM,OACN5J,MAAOgR,EAAWhU,MAAMqB,KACxBmL,SAAUgI,EACVxI,WAAS,EACT4J,UAAQ,EACRC,WAAY,CACXC,UAAW,EACXC,UAAW,QAId,eAAClS,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,eAACS,GAAA,EAAD,CACCC,WAAS,EACTtU,KAAK,cACLuL,MAAM,cACN5J,MAAOgR,EAAWhU,MAAM6S,YACxBrG,SAAUgI,EACVxI,WAAS,EACTgK,WAAS,EACTC,QAAS,EACTJ,WAAY,CACXE,UAAW,SAId,gBAAClS,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,wBAOA,eAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACTkK,QAAM,EACNlS,OAAO,QACP4I,MAAM,QACNvL,KAAK,QACL2B,MAAOgR,EAAWhU,MAAMwB,MACxBgL,SAAUgI,EAPX,SASE/X,GAAQ2D,KAAI,SAACgf,GAAD,OACZ,eAACjJ,GAAA,EAAD,CAAmBnT,MAAOoc,EAA1B,SACEriB,GAAeqiB,IADFA,eAQpB,gBAACvb,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,8BAOA,gBAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,gBAACuC,GAAA,EAAD,CACC1J,WAAS,EACTkK,QAAM,EACNlS,OAAO,QACP3C,KAAK,SACLuL,MAAM,SACN5J,MAAOgR,EAAWhU,MAAME,OACxBsM,SAAUgI,EACVoB,UAAQ,EART,UAUC,eAACO,GAAA,EAAD,CAAUnT,MAAM,OAAhB,kBACA,eAACmT,GAAA,EAAD,CAAUnT,MAAM,QAAhB,wBAGF,eAAC+P,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,QACLuL,MAAK,mB5DpSiB,E4DoSjB,KACLtM,KAAK,SACL0C,MAAOgR,EAAWhU,MAAM6B,MACxB2K,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,I5D3SqB,O4D+SxB,eAACuO,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,QACLuL,MAAK,mBAAczS,EAAd,KACLmG,KAAK,SACL0C,MAAOgR,EAAWhU,MAAM2B,MACxB6K,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAKrK,OAIR,eAAC4Y,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,UACLuL,MAAK,sB5DjUgB,G4DiUhB,KACLtM,KAAK,SACL0C,MAAOgR,EAAWhU,MAAMgZ,QACxBxM,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,I5DxUoB,c4D8UzB,gBAACX,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,2BAOA,eAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACE8L,EACA/K,EAAWhU,MAAMC,QAAQG,KACxB,SAACC,EAAQwI,GAAT,OACC,eAACkK,GAAA,EAAD,CAAkBG,MAAI,EAACC,GAAI,GAAI4I,GAAI,EAAnC,SACC,eAAC,GAAD,CACC1b,OAAQA,EACRwI,MAAOA,EACPqT,SAAU8C,KAJDnW,MAUb,eAACkK,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACC,eAAClP,GAAA,EAAD,iDAQL,gBAAC6I,GAAA,EAAD,WACC,eAACC,GAAA,EAAD,CACCnH,QAAQ,YACRI,QAjRyB,WAC7BqF,EAASzC,GAAgB,MAiRrBoE,MAAM,YAHP,wBAOA,eAACD,GAAA,EAAD,CAAQ/G,QAAS6F,EAAamB,MAAM,UAApC,oBAGA,eAACD,GAAA,EAAD,CAAQzM,KAAK,SAAS0M,MAAM,UAAUyG,SAAU7B,EAAhD,wBAMF,eAAC,GAAD,CACC3R,QAASpE,EACTuiB,YA7RqB,SAAC/d,GACxB4T,EAAc,2BACVD,GADS,IAEZhU,MAAM,2BACFgU,EAAWhU,OADV,IAEJC,QAAS+T,EAAWhU,MAAMC,QAAQsK,OAAOlK,SAyRzCge,eApRwB,SAAChe,EAAsBwI,GACjDoL,EAAc,2BACVD,GADS,IAEZhU,MAAM,2BACFgU,EAAWhU,OADV,IAEJC,QAAS+T,EAAWhU,MAAMC,QAAQG,KAAI,SAACqU,EAAG4K,GAAJ,OACrCxW,IAAUwW,EAAIhf,EAASoU,iB,UCnFtBd,IAAmB,qBACvBha,EAAKY,SAAW,GADO,eAEvBZ,EAAKa,UAAY,GAFM,eAGvBb,EAAKc,aAAe,GAHG,eAIvBd,EAAKe,aAAe,GAJG,eAKvBf,EAAKgB,OAAS,GALS,eAMvBhB,EAAKiB,SAAW,GANO,IASnBgZ,IAAyB,qBAC7Bha,EAAWkB,SAAW,GADO,eAE7BlB,EAAWmB,SAAW,GAFO,eAG7BnB,EAAWoB,SAAW,GAHO,eAI7BpB,EAAWqB,KAAO,GAJW,eAK7BrB,EAAWsB,KAAO,GALW,eAM7BtB,EAAWuB,SAAW,GANO,eAO7BvB,EAAWwB,QAAU,GAPQ,eAQ7BxB,EAAWyB,SAAW,GARO,eAS7BzB,EAAW0B,OAAS,GATS,eAU7B1B,EAAW2B,KAAO,GAVW,IAazB+jB,GAAmC,CACxChf,KAAMtG,EAAciF,OACpBsD,WAAYzI,EAAWmE,MACvB6b,KAAM/f,EAAWqE,UACjBiD,KAAM,GACNwR,YAAa,GACbzD,KAAM,GACNnP,QAAS,GACT0B,MAAO,IACPE,MAAO,EACPY,WAAY7I,EAAWkB,SACvByJ,IAAK,EACLC,IAAK,EACLf,UAAW,CACV3B,MAAO,GACP8B,YAAa,KAITkQ,GAAiC,CACtCxR,OAAQgd,GACR3P,MAAO,MAQK4P,GAAwB,WAAO,IAAD,IACpClU,EAAW9E,KACXU,EAAOR,IAAe,SAACkB,GAAD,OAAWA,EAAM2D,OAAOlE,YAAYH,QAC1D3E,EAASmE,IAAe,SAACkB,GAAD,OAAWA,EAAM2D,OAAOlE,YAAY9E,UAC5DsP,EAAYnL,IACjB,SAACkB,GAAD,MAAoC,YAAzBA,EAAM2S,QAAQxJ,UAE1B,EAAoCtL,mBAASsO,IAA7C,mBAAOE,EAAP,KAAmBC,EAAnB,KACMuL,EAAerL,mBACpB,kBAAM7R,GAdoB,SAACA,GAE5B,OAD8BA,EAAtB0I,GAAR,YAA8B1I,EAA9B,IAaiBmd,CAAoBnd,KACpC,CAACA,IAEF,EAA0BkD,mBAAQ,2BAC9BmO,IAD8B,UAE9BK,EAAW1R,OAAOmB,iBAFY,aAE9B,EAA6B3B,QAFjC,mBAAOA,EAAP,KAAcuS,EAAd,KAIA,EAAsC7O,mBAAQ,2BAC1CoO,IAD0C,UAE1CI,EAAW1R,OAAOmB,iBAFwB,aAE1C,EAA6BG,cAFjC,mBAAOA,EAAP,KAAoB0Q,EAApB,KAKMxO,EAAQxD,EAAS,gBAAkB,aACnCiS,EAAWjS,EAAM,0BACRA,QADQ,IACRA,OADQ,EACRA,EAAQjB,MACpB,oCACGqe,EAAgB1L,EAAW1R,OAAOrC,SAAW,GAC7C8e,EAAaW,EAAclC,OAAS,EAE1C5R,qBAAU,WACTqI,EAAc,CACb3R,OAAQkd,GAAgBF,GACxB3P,MAAO,SAEN,CAAC6P,IAEJ,IAAM3T,EAAc,WACnBR,EAAS5C,OAGJ+L,EAAe,SAACC,GACrB,MAA6CA,EAAEvU,OAAvCmB,EAAR,EAAQA,KAAMf,EAAd,EAAcA,KAAM0C,EAApB,EAAoBA,MAAO0R,EAA3B,EAA2BA,cACrBC,EAAsB,WAATrU,EAAoBoU,EAAgB1R,EACvDiR,EAAc,2BACVD,GADS,IAEZ1R,OAAO,2BACH0R,EAAW1R,QADT,kBAEJjB,EAAiBsT,QA4GfqK,EAAqB,SAAC3e,EAAsBwI,GACjD,IAAMoW,EAAU,aAAOS,GACvBT,EAAWC,OAAOrW,EAAO,GAEzBoL,EAAc,2BACVD,GADS,IAEZ1R,OAAO,2BACH0R,EAAW1R,QADT,IAELrC,QAASgf,QAKNU,EAAgB,yCAAG,WAAOlL,GAAP,gBAAA9T,EAAA,kEAEvB8T,EAAEI,kBAEEvS,EAJmB,uBAKhB0F,EALgB,2BAMlBgM,GANkB,IAOrBhJ,GAAI1I,EAAO0I,GACX+E,SAAUzN,EAAO8M,OARI,SAUhB/D,EAAS8O,GAAanS,IAAU+J,SAVhB,+CAYhB1G,EAAS4O,GAAWjG,IAAajC,SAZjB,QAcvB1G,EAAS5C,MACTwL,EAAcH,IAfS,kDAkBvBxE,QAAQwF,IAAR,MAlBuB,0DAAH,sDAsBtB,OACC,gBAAChJ,GAAA,EAAD,CACC7E,KAAMA,EACN8E,QAASF,EACTI,SAAS,KACTD,WAAS,EACT,kBAAgB,oBALjB,UAOC,eAACE,GAAA,EAAD,CAAalB,GAAG,oBAAhB,SAAqClF,IACrC,wBAAMiP,SAAU4K,EAAhB,UACC,gBAACxT,GAAA,EAAD,WACC,eAAC6I,GAAA,EAAD,UAAoBT,IACpB,eAAC1Q,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,gBAACC,GAAA,EAAD,WACC,wBACCC,OAAO,UACPC,MAAO,CAAEpD,QAAS,QAClBhH,GAAG,wBACHqK,UAAQ,EACR/U,KAAK,OACLkM,SA9JmB,SAACiI,GAA4C,IAAD,EAC/D9E,GAAQ,UAAA8E,EAAEa,cAAcC,aAAhB,eAAuBrC,KAAK,KAAM,KAC1C9D,GAAY,OAALO,QAAK,IAALA,OAAA,EAAAA,EAAOtO,OAAQ,GAC5B4S,EAAc,2BACVD,GADS,IAEZrE,QACArN,OAAO,2BACH0R,EAAW1R,QADT,IAEL8M,eAwJG,yBAAOoG,QAAQ,wBAAf,UACC,eAACzI,GAAA,EAAD,CAAQnH,QAAQ,YAAY9B,UAAU,OAAtC,0BAGCkQ,EAAWrE,OACX,eAAC1L,GAAA,EAAD,CACCF,GAAI,CACH0R,WAAY,EACZzD,QAAS,UAHX,SAMEgC,EAAWrE,MAAMtO,eAMvB,eAACwC,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,eAACS,GAAA,EAAD,CACCC,WAAS,EACTtU,KAAK,OACLuL,MAAM,OACN5J,MAAOgR,EAAW1R,OAAOjB,KACzBmL,SAAUgI,EACVxI,WAAS,EACT4J,UAAQ,EACRC,WAAY,CACXC,UAAW,EACXC,UAAW,QAId,eAAClS,GAAA,EAAD,CAAKoR,GAAI,EAAT,SACC,eAACS,GAAA,EAAD,CACCC,WAAS,EACTtU,KAAK,cACLuL,MAAM,cACN5J,MAAOgR,EAAW1R,OAAOuQ,YACzBrG,SAAUgI,EACVxI,WAAS,EACTgK,WAAS,EACTC,QAAS,EACTJ,WAAY,CACXE,UAAW,SAId,gBAAClS,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,yBAOA,gBAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACTkK,QAAM,EACNlS,OAAO,QACP4I,MAAM,OACNvL,KAAK,aACL2B,MAAOgR,EAAW1R,OAAOC,WACzBiK,SAAUgI,EAPX,SASEjX,GAAa6C,KAAI,SAACE,GAAD,OACjB,eAAC6V,GAAA,EAAD,CAAqBnT,MAAO1C,EAA5B,SACEpC,GAAqBoC,IADRA,UAMlB,eAACyS,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACTkK,QAAM,EACNlS,OAAO,QACP4I,MAAM,OACNvL,KAAK,OACL2B,MAAOgR,EAAW1R,OAAOwX,KACzBtN,SAAUgI,EAPX,SASErW,GAAaiC,KAAI,SAAC0Z,GAAD,OACjB,eAAC3D,GAAA,EAAD,CAAqBnT,MAAO8W,EAA5B,SACExb,GAAqBwb,IADRA,gBAQpB,gBAACjW,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,+BAOA,gBAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACTkK,QAAM,EACNlS,OAAO,QACP4I,MAAM,cACNvL,KAAK,aACL2B,MAAOgR,EAAW1R,OAAOG,WACzB+J,SAAUgI,EAPX,SASE3Z,EAAYuF,KAAI,SAAC+D,GAAD,OAChB,eAACgS,GAAA,EAAD,CAECnT,MAAOmB,EAFR,SAIEvI,EAAqBuI,IAHjBA,UAQT,eAAC4O,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,MACLuL,MAAK,0BAAqBxS,EAArB,KACLkG,KAAK,SACL0C,MAAOgR,EAAW1R,OAAOiC,IACzBiI,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAKpK,OAIR,eAAC2Y,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,MACLuL,MAAK,0BAAqBxS,EAArB,KACLkG,KAAK,SACL0C,MAAOgR,EAAW1R,OAAOkC,IACzBgI,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAKpK,OAIR,eAAC2Y,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,QACLuL,MAAK,mB7DtcgB,E6DschB,KACLtM,KAAK,SACL0C,MAAOgR,EAAW1R,OAAOT,MACzB2K,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,I7D7coB,O6DidvB,eAACuO,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACC,eAACuC,GAAA,EAAD,CACC1J,WAAS,EACThI,OAAO,QACP3C,KAAK,QACLuL,MAAK,mBAAczS,EAAd,KACLmG,KAAK,SACL0C,MAAOgR,EAAW1R,OAAOX,MACzB6K,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,IAAK,EACLC,IAAKrK,aAMV,eAAC,GAAD,CACC2L,MAAM,eACNhE,MAAOe,GAAcf,GACrByC,IAAK,EACLC,IAAK,GACLgQ,aAnVqB,SAACC,GAA4C,IAAD,EACrE,EAAgCA,EAAEa,cAA1BjU,EAAR,EAAQA,KAAMqT,EAAd,EAAcA,cAEdL,EAAS,2BACLvS,GADI,kBAENT,EAAiBqT,KAGnB,IAAM0B,EAAQ,qCACVpC,EAAW1R,OAAOmB,iBADR,aACV,EAA6B3B,OADnB,kBAEZT,EAAiBqT,IAGnBxR,OAAOC,KAAKiT,GAAUC,SAAQ,SAACtT,GACzBqT,EAASrT,WACNqT,EAASrT,MAIlBkR,EAAc,2BACVD,GADS,IAEZ1R,OAAO,2BACH0R,EAAW1R,QADT,IAELmB,UAAU,2BACNuQ,EAAW1R,OAAOmB,WADb,IAER3B,MAAOsU,YA4TP,eAAC,GAAD,CACCtQ,MAAM,kBACNhE,MAAOsB,GAAoBQ,GAC3BW,IAAK,EACLC,IAAK,IACLgQ,aA3T2B,SAC/BC,GACK,IAAD,EACJ,EAAgCA,EAAEa,cAA1BjU,EAAR,EAAQA,KAAMqT,EAAd,EAAcA,cAEdJ,EAAe,2BACX1Q,GADU,kBAEZvC,EAAiBqT,KAGnB,IAAM4B,EAAc,qCAChBtC,EAAW1R,OAAOmB,iBADF,aAChB,EAA6BG,aADb,kBAElBvC,EAAiBqT,IAGnBxR,OAAOC,KAAKmT,GAAgBD,SAAQ,SAACtT,GAC/BuT,EAAevT,WACZuT,EAAevT,MAIxBkR,EAAc,2BACVD,GADS,IAEZ1R,OAAO,2BACH0R,EAAW1R,QADT,IAELmB,UAAU,2BACNuQ,EAAW1R,OAAOmB,WADb,IAERG,YAAa0S,YAkSb,gBAACzS,GAAA,EAAD,CAAKoR,GAAI,EAAT,UACC,eAACD,GAAA,EAAD,CACCpP,QAAQ,YACR9B,UAAU,KACV6O,cAAY,EAHb,4BAOA,eAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACE8L,EACAW,EAActf,KAAI,SAACC,EAAQwI,GAAT,OACjB,eAACkK,GAAA,EAAD,CAAkBG,MAAI,EAACC,GAAI,GAAI4I,GAAI,EAAnC,SACC,eAAC,GAAD,CACC1b,OAAQA,EACRwI,MAAOA,EACPqT,SAAU8C,KAJDnW,MASZ,eAACkK,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACC,eAAClP,GAAA,EAAD,iDAQL,gBAAC6I,GAAA,EAAD,WACC,eAACC,GAAA,EAAD,CACCnH,QAAQ,YACRI,QA5TyB,WAC7BqF,EAASzC,GAAgB,MA4TrBoE,MAAM,YAHP,wBAOA,eAACD,GAAA,EAAD,CAAQ/G,QAAS6F,EAAamB,MAAM,UAApC,oBAGA,eAACD,GAAA,EAAD,CAAQzM,KAAK,SAAS0M,MAAM,UAAUyG,SAAU7B,EAAhD,wBAMF,eAAC,GAAD,CACC3R,QAAS9D,EACTiiB,YAxUqB,SAAC/d,GACxB4T,EAAc,2BACVD,GADS,IAEZ1R,OAAO,2BACH0R,EAAW1R,QADT,IAELrC,QAASyf,EAAcnV,OAAOlK,SAoU9Bge,eA/TwB,SAAChe,EAAsBwI,GACjDoL,EAAc,2BACVD,GADS,IAEZ1R,OAAO,2BACH0R,EAAW1R,QADT,IAELrC,QAASyf,EAActf,KAAI,SAACqU,EAAG4K,GAAJ,OAC1BxW,IAAUwW,EAAKhf,EAA2BoU,iB,UCvPlCmL,GAAkBhZ,aAAY,CAC1CvF,KAAM,aACNwF,aAAc,CACbI,MAAM,GAEPQ,SAAU,CACToY,eAAgB,SAAClY,GAChBA,EAAMV,MAAO,GAEd6Y,gBAAiB,SAACnY,GACjBA,EAAMV,MAAO,MAMT,GAA4C2Y,GAAgBzW,QAApD0W,GAAR,GAAQA,eAAgBC,GAAxB,GAAwBA,gBAEhBF,MAAf,Q,8BCQMG,GAAiD,SAAC,GAIjD,IAHNja,EAGK,EAHLA,MACAka,EAEK,EAFLA,KACAC,EACK,EADLA,UAEMvO,EAAO/H,qBAAWe,IAExB,OACC,gBAACwV,GAAA,EAAD,CAAgBpc,UAAW4V,KAAMC,GAAIqG,EAArC,UACC,eAACxD,GAAA,EAAD,UAAe1W,IACd4L,GACA,eAACyO,GAAA,EAAD,UACC,eAACnb,EAAA,EAAD,CACC,aAAW,MACXgI,MAAM,UACNhH,QAASia,EAHV,SAKC,eAACG,GAAA,EAAD,YAQOC,GAA8B,WAC1C,IAAMhV,EAAW9E,KACX+Z,EAAe7Z,IAAe,SAACkB,GAAD,OAAWA,EAAM+P,SAASA,YACxD6I,EAAa9Z,IAAe,SAACkB,GAAD,OAAWA,EAAMuF,OAAOA,UACpDsT,EAAc/Z,IAAe,SAACkB,GAAD,OAAWA,EAAM2S,QAAQA,WACtDmG,EAAcha,IAAe,SAACkB,GAAD,OAAWA,EAAM0I,QAAQA,WACtDqQ,EAAaC,aAAc,aAC3BC,EAAWD,aAAc,WACzBE,EAAYF,aAAc,YAC1BG,EAAYH,aAAc,YAkBhC,OACC,iCACC,eAAC9c,GAAA,EAAD,CAAKE,GAAI,SAACkB,GAAD,OAAWA,EAAM8b,OAAOC,WACjC,eAAClO,GAAA,EAAD,IACA,gBAACiL,GAAA,EAAD,WACC,eAACmC,GAAA,EAAD,CAAgBpc,UAAW4V,KAAMC,GAAG,IAApC,SACC,eAAC6C,GAAA,EAAD,0BAED,eAAC,GAAD,CACC1W,MAAM,WACNka,KAAK,YACLC,UA3Be,WAClB5U,EAASjD,SA4BP,eAACnC,EAAA,EAAD,CAAUC,GAAIyX,QAAQ+C,GAAata,eAAa,EAAhD,SACC,eAAC2X,GAAA,EAAD,UACEuC,EAAalgB,KAAI,SAAC6B,EAAS4G,GAAV,OACjB,eAACqX,GAAA,EAAD,CACCnc,GAAI,CACHkd,YAAa,GAGdnd,UAAW4V,KACXC,GAAE,oBAAe1X,EAAQ+I,IAN1B,SAQC,eAACwR,GAAA,EAAD,CAAcC,QAASxa,EAAQZ,QAJ1BwH,UAST,eAAC,GAAD,CACC/C,MAAM,SACNka,KAAK,UACLC,UA5Ca,WAChB5U,EAAS/C,SA6CP,eAACrC,EAAA,EAAD,CAAUC,GAAIyX,QAAQiD,GAAWxa,eAAa,EAA9C,SACC,eAAC2X,GAAA,EAAD,UACEwC,EAAWngB,KAAI,SAACJ,EAAO6I,GAAR,OACf,eAACqX,GAAA,EAAD,CACCnc,GAAI,CACHkd,YAAa,GAGdnd,UAAW4V,KACXC,GAAE,kBAAa3Z,EAAMgL,IANtB,SAQC,eAACwR,GAAA,EAAD,CAAcC,QAASzc,EAAMqB,QAJxBwH,UAST,eAAC,GAAD,CACC/C,MAAM,UACNka,KAAK,WACLC,UA7Dc,WACjB5U,EAAS7C,SA8DP,eAACvC,EAAA,EAAD,CAAUC,GAAIyX,QAAQkD,GAAYza,eAAa,EAA/C,SACC,eAAC2X,GAAA,EAAD,UACEyC,EAAYpgB,KAAI,SAACkC,EAAQuG,GAAT,OAChB,eAACqX,GAAA,EAAD,CACCnc,GAAI,CACHkd,YAAa,GAGdnd,UAAW4V,KACXC,GAAE,mBAAcrX,EAAO0I,IANxB,SAQC,eAACwR,GAAA,EAAD,CAAcC,QAASna,EAAOjB,QAJzBwH,UAST,eAAC,GAAD,CACC/C,MAAM,UACNka,KAAK,WACLC,UA9Ec,WACjB5U,EAAS3C,SA+EP,eAACzC,EAAA,EAAD,CAAUC,GAAIyX,QAAQmD,GAAY1a,eAAa,EAA/C,SACC,eAAC2X,GAAA,EAAD,UACE0C,EAAYrgB,KAAI,SAACwC,EAAQiG,GAAT,OAChB,eAACqX,GAAA,EAAD,CACCnc,GAAI,CACHkd,YAAa,GAGdnd,UAAW4V,KACXC,GAAE,mBAAc/W,EAAOoI,IANxB,SAQC,eAACwR,GAAA,EAAD,CAAcC,QAAS7Z,EAAOvB,QAJzBwH,UAST,eAACqX,GAAA,EAAD,CAAgBpc,UAAW4V,KAAMC,GAAG,WAApC,SACC,eAAC6C,GAAA,EAAD,wBAED,eAAC0D,GAAA,EAAD,CAAgBpc,UAAW4V,KAAMC,GAAG,YAApC,SACC,eAAC6C,GAAA,EAAD,gCC1KQ0E,GAAuB,WACnC,IAAM7V,EAAW9E,KACX4a,EAAa1a,IAAe,SAACkB,GAAD,OAAWA,EAAMyZ,WAAWna,QAM9D,OACC,gBAACpD,GAAA,EAAD,CACCE,GAAI,CACHqI,MAAO,CACN2P,GAAI7hB,GAELmnB,WAAY,CACXtF,GAAI,IAGN,aAAW,gBATZ,UAWC,eAACuF,GAAA,EAAD,CACCvd,GAAI,CAAEiO,QAAS,CAAE+J,GAAI,OAAQ5I,GAAI,UACjCvN,QAAQ,YACRqB,KAAMka,EACNpV,QApBwB,WAC1BV,EAASyU,OAoBPyB,WAAY,CACXxd,GAAI,CACHqI,MAAOlS,IAGTsnB,WAAY,CACXC,aAAa,GAXf,SAcC,eAAC,GAAD,MAED,eAACH,GAAA,EAAD,CACCvd,GAAI,CAAEiO,QAAS,CAAEmB,GAAI,OAAQ4I,GAAI,UACjCnW,QAAQ,YACR2b,WAAY,CACXxd,GAAI,CACHqI,MAAOlS,IAGT+M,MAAI,EARL,SAUC,eAAC,GAAD,UC1CSya,GAAS,WACrB,IAAMrW,EAAW9E,KACXmL,EAAO/H,qBAAWe,IAUlBiX,EAAO,yCAAG,uBAAAhhB,EAAA,sEACT4N,GAAKoT,UADI,2CAAH,qDAIb,OACC,eAACC,GAAA,EAAD,CACC7d,GAAI,CACHqI,MAAO,CACN2P,GAAG,eAAD,OAAiB7hB,EAAjB,QAEHub,WAAY,CACXsG,GAAI7hB,IAGN2nB,SAAS,QATV,SAWC,gBAACC,GAAA,EAAD,CACC/d,GAAI,CACHge,gBAAiB,eACjB/U,MAAO,gBAHT,UAMC,eAAChI,EAAA,EAAD,CACCjB,GAAI,CACHie,YAAa,EACbhQ,QAAS,CACR+J,GAAI,SAGN/O,MAAM,UACN,aAAW,cACXqP,KAAK,QACLrW,QAxCuB,WAC1BqF,EAASwU,OA6BP,SAYC,eAACoC,GAAA,EAAD,MAED,eAAChe,GAAA,EAAD,CAAYF,GAAI,CAAEme,SAAU,GAAKtc,QAAQ,KAAzC,4BAGC8L,EACA,eAAC3E,GAAA,EAAD,CAAQC,MAAM,UAAU1M,KAAK,SAAS0F,QAAS2b,EAA/C,oBAIA,eAAC5U,GAAA,EAAD,CACCC,MAAM,UACN1M,KAAK,SACL0F,QAnDmB,WACvBqF,EAAS3D,OA+CN,yB,UC9DQya,GAAsB,SAAC,GAAkB,IAAhBtX,EAAe,EAAfA,SACrC,OACC,uBAAKuK,MAAO,CAAEpD,QAAS,QAAvB,UACC,eAAC,GAAD,IACA,eAAC,GAAD,IACA,gBAACoQ,GAAA,EAAD,CAAWre,GAAI,CAAEme,SAAU,EAAGxG,QAAS,GAAKzP,SAAS,KAArD,UACC,eAACpI,GAAA,EAAD,CAAKE,GAAI,SAACkB,GAAD,OAAWA,EAAM8b,OAAOC,WAChCnW,S,cCOClG,GAAaC,aAAO,SAACC,GACGA,EAArBC,OAAR,IAAmBC,EAAnB,YAA6BF,EAA7B,IACA,OAAO,eAACG,EAAA,EAAD,eAAgBD,MAFLH,EAGhB,gBAAGK,EAAH,EAAGA,MAAH,MAAwB,CAC1BC,UADE,EAAUJ,OAC0B,iBAAjB,eACrB2Q,WAAY,OACZtQ,WAAYF,EAAMG,YAAYC,OAAO,YAAa,CACjD1B,SAAUsB,EAAMG,YAAYzB,SAAS2B,eAkB1B+c,GAA8B,SAAC,GAMrC,IALNvc,EAKK,EALLA,MACAhE,EAIK,EAJLA,MACAyC,EAGK,EAHLA,IACAC,EAEK,EAFLA,IACAgQ,EACK,EADLA,aAEA,EAAgChP,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAMA,OACC,gBAAC4H,GAAA,EAAD,CAAOvJ,GAAI,CAAEkH,EAAG,EAAGgK,GAAI,GAAvB,UACC,gBAACpR,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,gBAChBC,WAAY,UAJd,UAOC,eAAC8C,GAAA,EAAD,CAAmBpP,QAAQ,YAAY9B,UAAU,KAAjD,SACEgC,IAGF,eAAC,GAAD,CACChB,OAAQW,EACRO,QAnBsB,WACzBN,GAAaD,IAmBV,gBAAeA,EACf,aAAW,YAJZ,SAMC,eAAC,KAAD,CAAgB6M,SAAS,eAG3B,eAACrM,EAAA,EAAD,CAAUC,GAAIT,EAAUU,QAAQ,OAAOC,eAAa,EAApD,SACC,eAAC2M,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,SACEnR,EAAM1B,KAAI,SAAC0C,GAAD,OACV,eAACiQ,GAAA,EAAD,CAAqBG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAArC,SACC,eAACsC,GAAA,EAAD,CAEC1J,WAAS,EACThI,OAAO,QACP3C,KAAMyB,EAAKC,IACX6J,MAAO9J,EAAKzB,KACZf,KAAK,SACL0C,MAAOF,EAAKE,MACZwJ,SAAUgI,EACVoB,UAAQ,EACRC,WAAY,CACXtR,MACAC,QAXI1B,EAAKC,MAFDD,EAAKC,gB,UC1DTuf,GAA+B,SAAC,GAKtC,IAJNxc,EAIK,EAJLA,MACAhE,EAGK,EAHLA,MAGK,IAFLygB,cAEK,MAFI,GAEJ,MADLjP,cACK,MADI,GACJ,EACL,OACC,eAACjG,GAAA,EAAD,CAAgBvJ,UAAWwJ,KAA3B,SACC,gBAACC,GAAA,EAAD,CAAO,aAAW,cAAlB,UACC,eAACiV,GAAA,EAAD,UACC,eAAC,KAAD,UACC,eAAC/U,GAAA,EAAD,CACC1J,GAAI,CACHge,gBAAiB,eACjB/U,MAAO,gBAERyV,QAAS,EALV,SAOE3c,QAIJ,eAAC0H,GAAA,EAAD,UACE1L,EAAM1B,KAAI,SAAC0C,GAAD,OACV,gBAAC,KAAD,WACC,eAAC2K,GAAA,EAAD,CAAW3J,UAAU,KAAK4J,MAAM,MAAhC,SACE5K,EAAKzB,OAEP,gBAACoM,GAAA,EAAD,CAAWE,MAAM,QAAjB,UACE4U,EACAzf,EAAKE,MACLsQ,OAPYxQ,EAAKzB,iB,kDCjCbqhB,GAAwC,SAAC,GAA0B,IAAxB9f,EAAuB,EAAvBA,OAAQ+f,EAAe,EAAfA,SACzDtX,EAAW9E,KAUjB,OACC,gBAAC1C,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,WAChBO,IAAK,GAJP,UAOC,eAACxN,EAAA,EAAD,CACC,aAAW,OACXgI,MAAM,UACNlJ,UAAW4V,KACXC,GAAE,mBAAc/W,EAAOoI,IAJxB,SAMC,eAAC,KAAD,MAED,eAAChG,EAAA,EAAD,CACC,aAAW,SACXgI,MAAM,YACNhH,QA3BkB,WACpBqF,EAAS3C,GAAgB9F,KAuBxB,SAKC,eAAC,KAAD,MAED,eAACoC,EAAA,EAAD,CACC,aAAW,SACXgI,MAAM,UACNhH,QA9BkB,WACpB2c,KA0BC,SAKC,eAAC,KAAD,U,wCC1CSC,GAAoC,SAAC,GAAgB,IAAdhgB,EAAa,EAAbA,OACnD,EAA4B6G,KAApB9B,EAAR,EAAQA,MAAO0D,EAAf,EAAeA,SAETwX,EAAQ3jB,GAAwB0D,EAAOtC,MACvCwiB,EAAgBD,EAAMrS,MAAK,SAACnH,GAAD,YAA0BlB,IAAhBR,EAAM0B,MAC3C0Z,EAAcF,EAAMrS,MAAK,SAACnH,GAAD,OAAU1B,EAAM0B,KAAUzG,EAAOoI,MA0BhE,OACC,eAACnH,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,WAChBO,IAAK,GAJP,SAOEsQ,EACA,eAAC9d,EAAA,EAAD,CACC,aAAW,MACXgI,MAAM,UACNhH,QApCc,WACb8c,GACHzX,EAAS,CACR/K,KAAM,MACN0H,QAAS,CACRqB,KAAMyZ,EACN9f,MAAOJ,EAAOoI,OA2Bf,SAKC,eAAC,KAAD,MAGD,eAAChG,EAAA,EAAD,CACC,aAAW,SACXgI,MAAM,UACNhH,QAhCiB,WAChB+c,GACH1X,EAAS,CACR/K,KAAM,SACN0H,QAAS,CACRqB,KAAM0Z,EACN/f,MAAOJ,EAAOoI,OAuBf,SAKC,eAAC,KAAD,SChDQgY,GAA6B,SAAC,GAAsB,IAApBpgB,EAAmB,EAAnBA,OAAQtC,EAAW,EAAXA,KAC9C+K,EAAW9E,KACXmL,EAAO/H,qBAAWe,IACxB,EAA0DlF,oBAAS,GAAnE,mBAAOuB,EAAP,KAA8Bkc,EAA9B,KACMrR,EAAYnL,IACjB,SAACkB,GAAD,MAAmC,YAAxBA,EAAMuF,OAAO4D,UAWnBgB,EAAmB,yCAAG,uBAAAnR,EAAA,+EAEpB0K,EAAS6E,GAAatN,IAASmP,SAFX,OAG1BkR,GAAyB,GAHC,uGAAH,qDASzB,OACC,gBAAC,WAAD,WACC,gBAAC,KAAD,CAAaC,OAAK,EAACC,UAAW,EAA9B,UACC,eAAC1V,GAAA,EAAD,CACC3J,UAAU,KACVkH,GAAE,gBAAWpI,EAAOvB,MACpBqM,MAAM,MAHP,SAKE9K,EAAOvB,OAET,eAACoM,GAAA,EAAD,UAAYzO,GAAwB4D,EAAOtC,QAC3C,eAACmN,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B/K,EAAOgL,UACjC,eAACH,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B/K,EAAOjB,QACjC,eAAC8L,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B/K,EAAOf,QAChC6P,GACA,eAACjE,GAAA,EAAD,UACW,eAATnN,EACA,eAAC,GAAD,CAAiBsC,OAAQA,IAEzB,eAAC,GAAD,CACCA,OAAQA,EACR+f,SAtCc,WACpBM,GAAyB,WA4CxB,eAAC,GAAD,CACChc,KAAMF,EACNjB,MAAM,gBACNyN,QAAO,8CAAyC3Q,EAAOvB,KAAhD,uBACPwK,YA7CkC,WACpCoX,GAAyB,IA6CvBzP,cAAe1B,EACf2B,SAAU7B,Q,wCCnDDwR,GAAiC,SAAC,GAIxC,IAHNjiB,EAGK,EAHLA,QACAkiB,EAEK,EAFLA,gBACAC,EACK,EADLA,eAEA,OACC,eAACzf,GAAA,EAAD,CACCE,GAAI,CACHkH,EAAG,GAFL,SAKC,gBAAC8H,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGf,WAAW,SAAvC,UACC,eAACa,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACT8N,KAAK,QACLlN,MAAM,SACNtM,KAAK,SACLe,KAAK,OACL2B,MAAO7B,EAAQE,KACfmL,SAAU6W,EACVE,WAAY,CACXC,aACC,eAACC,GAAA,EAAD,CAAgB5B,SAAS,MAAzB,SACC,eAAC,KAAD,WAML,eAAC9O,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,gBAACsC,GAAA,EAAD,CACC1J,WAAS,EACT8N,KAAK,QACL5D,QAAM,EACNtJ,MAAM,OACNvL,KAAK,OACL2B,MAAO7B,EAAQb,KACfkM,SAAU6W,EAPX,UASC,eAAClN,GAAA,EAAD,CAAUnT,MAAM,MAAhB,iBACCzE,GAAa6B,KAAI,SAACE,GAAD,OACjB,eAAC6V,GAAA,EAAD,CAAqBnT,MAAO1C,EAA5B,SACEtB,GAAwBsB,IADXA,WAMlB,gBAACyS,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,UACC,eAACnP,GAAA,EAAD,CAAY2B,QAAQ,QAApB,mBACA,eAAC8d,GAAA,EAAD,CACC5J,KAAK,QACLzY,KAAK,QACL2B,MAAO7B,EAAQQ,MACf6K,SAAU8W,EACVK,kBAAkB,OAClBzF,KAAM,IACN3Z,IAAK,IACLC,IAAKrK,OAGP,gBAAC4Y,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,UACC,eAACnP,GAAA,EAAD,CAAY2B,QAAQ,QAApB,mBACA,eAAC8d,GAAA,EAAD,CACC5J,KAAK,QACLzY,KAAK,QACL2B,MAAO7B,EAAQU,MACf2K,SAAU8W,EACVK,kBAAkB,OAClBzF,KAAM,EACN3Z,IAAK,EACLC,IxEhFyB,ayEazBof,GAAiC,CACtC,CACC5Y,GAAI,OACJ4B,MAAO,QAER,CACC5B,GAAI,OACJ4B,MAAO,QAER,CACC5B,GAAI,UACJ2C,MAAO,QACPf,MAAO,WAER,CACC5B,GAAI,QACJ2C,MAAO,QACPf,MAAO,SAER,CACC5B,GAAI,QACJ2C,MAAO,QACPf,MAAO,UAaHiX,GAAkD,SAAChf,GACxD,IAAQ5D,EAAkC4D,EAAlC5D,MAAOJ,EAA2BgE,EAA3BhE,QAASijB,EAAkBjf,EAAlBif,cAClBpS,EAAO/H,qBAAWe,IAOxB,OACC,eAAC8X,GAAA,EAAD,UACC,gBAAC,KAAD,WACEoB,GAAUxjB,KAAI,SAAC2jB,GAAD,OACd,eAACtW,GAAA,EAAD,CAECE,MAAOoW,EAASpW,MAChBqW,cAAenjB,IAAYkjB,EAAS/Y,IAAK/J,EAH1C,SAKC,gBAACgjB,GAAA,EAAD,CACCC,OAAQrjB,IAAYkjB,EAAS/Y,GAC7BmZ,UAAWtjB,IAAYkjB,EAAS/Y,GAAK/J,EAAQ,MAC7C+E,SAhBJoe,EAgB+BL,EAAS/Y,GAhBV,SAACyB,GAC/BqX,EAAcrX,EAAO2X,KAYlB,UAKEL,EAASnX,MACT/L,IAAYkjB,EAAS/Y,GACrB,eAACnH,GAAA,EAAD,CACCC,UAAU,OACVC,GAAIsgB,KAFL,SAIY,SAAVpjB,EACE,oBACA,qBAED,SAnBA8iB,EAAS/Y,IATlB,IAACoZ,KAiCE1S,GAAQ,eAACjE,GAAA,EAAD,CAAWE,MAAM,QAAjB,2BAMP2W,GAAiC,CACtCjjB,KAAM,GACNf,KAAM,MACNqB,MAAO,IACPE,MAAO,GAOK0iB,GAAiC,SAAC,GAA0B,IAAD,IAAvBjkB,YAAuB,MAAhB,UAAgB,EACjEmgB,EAAcha,IAAe,SAACkB,GAAD,OAAWA,EAAM0I,QAAQA,WAC5D,EAA0B7K,mBAAiB,OAA3C,mBAAOvE,EAAP,KAAcujB,EAAd,KACA,EAA8Bhf,mBAA0B,QAAxD,mBAAO3E,EAAP,KAAgB4jB,EAAhB,KACA,EAAwBjf,mBAAS,GAAjC,mBAAOkf,EAAP,KAAaC,EAAb,KACA,EAAsCnf,mBAAS,IAA/C,mBAAOof,EAAP,KAAoBC,EAApB,KACA,EAA8Brf,mBAAyB8e,IAAvD,mBAAOnjB,EAAP,KAAgB2jB,EAAhB,KAyCMC,EACLL,EAAO,EACJM,KAAKxgB,IAAI,GAAI,EAAIkgB,GAAQE,EAAcnE,EAAYjD,QACnD,EAEJ,OACC,eAAC,WAAD,UACC,eAAC3Z,GAAA,EAAD,CAAKE,GAAI,CAAEqI,MAAO,QAAlB,SACC,gBAACkB,GAAA,EAAD,CAAOvJ,GAAI,CAAEqI,MAAO,OAAQqS,GAAI,GAAhC,UACC,eAAC,GAAD,CACCtd,QAASA,EACTkiB,gBA9BuB,SAC3B5W,GAEA,MAAwBA,EAAMvM,OAAtBmB,EAAR,EAAQA,KAAM2B,EAAd,EAAcA,MACd8hB,EAAW,2BACP3jB,GADM,kBAERE,EAAO2B,MAyBLsgB,eArBsB,SAAC7W,EAAczJ,GACzC,IAAQ3B,EAASoL,EAAMvM,OAAfmB,KACRyjB,EAAW,2BACP3jB,GADM,kBAERE,EAAO2B,QAmBN,eAACqK,GAAA,EAAD,UACC,gBAACE,GAAA,EAAD,CACCxJ,GAAI,CAAEkhB,SAAU,KAChB,kBAAgB,aAFjB,UAIC,eAAC,GAAD,CACChkB,MAAOA,EACPJ,QAASA,EACTijB,cA7DmB,SACzBrX,EACA2X,GAGAI,EADc3jB,IAAYujB,GAAsB,QAAVnjB,EACrB,OAAS,OAC1BwjB,EAAWL,MAyDN,gBAAC5W,GAAA,EAAD,WACEiT,EACCyE,QACA1a,OAAO7H,GAAoBxB,IAC3BgkB,KAAKziB,GAAqBzB,EAAOJ,IACjCqkB,MACAR,EAAOE,EACPF,EAAOE,EAAcA,GAErBxkB,KAAI,SAACglB,GAAD,OACJ,eAAC,GAAD,CAECxiB,OAAQwiB,EACR9kB,KAAMA,GAFD8kB,EAAIpa,OAKX+Z,EAAY,GACZ,eAAC,KAAD,CACC3P,MAAO,CACNiQ,OAAQ,GAAKN,GAFf,SAKC,eAACtX,GAAA,EAAD,CAAWgV,QAAS,cAMzB,eAAC6C,GAAA,EAAD,CACCC,mBAAoB,CAAC,EAAG,GAAI,IAC5BzhB,UAAU,MACV0hB,MAAO/E,EAAYjD,OACnBoH,YAAaA,EACbF,KAAMA,EACNe,aAxFoB,SAAChZ,EAAgBiZ,GACzCf,EAAQe,IAwFJC,oBArF2B,SAC/BlZ,GAEAoY,EAAee,SAASnZ,EAAMvM,OAAO8C,MAAO,KAC5C2hB,EAAQ,cCjIGjC,GAAwC,SAAC,GAG/C,IAFNzgB,EAEK,EAFLA,QACA0gB,EACK,EADLA,SAEMtX,EAAW9E,KAUjB,OACC,gBAAC1C,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,WAChBO,IAAK,GAJP,UAOC,eAACxN,EAAA,EAAD,CACC,aAAW,OACXgI,MAAM,UACNlJ,UAAW4V,KACXC,GAAE,oBAAe1X,EAAQ+I,IAJ1B,SAMC,eAAC,KAAD,MAED,eAAChG,EAAA,EAAD,CACC,aAAW,SACXgI,MAAM,YACNhH,QA3BkB,WACpBqF,EAASjD,GAAiBnG,KAuBzB,SAKC,eAAC,KAAD,MAED,eAAC+C,EAAA,EAAD,CACC,aAAW,SACXgI,MAAM,UACNhH,QA9BkB,WACpB2c,KA0BC,SAKC,eAAC,KAAD,UC1CSK,GAA6B,SAAC,GAAiB,IAAf/gB,EAAc,EAAdA,QACtCoJ,EAAW9E,KACXmL,EAAO/H,qBAAWe,IACxB,EAA0DlF,oBAAS,GAAnE,mBAAOuB,EAAP,KAA8Bkc,EAA9B,KACMrR,EAAYnL,IACjB,SAACkB,GAAD,MAAqC,YAA1BA,EAAM+P,SAAS5G,UAWrBgB,EAAmB,yCAAG,uBAAAnR,EAAA,+EAEpB0K,EAASmM,GAAcvV,IAAU8P,SAFb,OAG1BkR,GAAyB,GAHC,uGAAH,qDASzB,OACC,gBAAC,WAAD,WACC,gBAAC,KAAD,CAAaC,OAAK,EAACC,UAAW,EAA9B,UACC,eAAC1V,GAAA,EAAD,CACC3J,UAAU,KACVkH,GAAE,wBAAmB/I,EAAQZ,MAC7BqM,MAAM,MAHP,SAKEzL,EAAQZ,OAET/G,EAAM8F,KAAI,SAAC0C,GAAD,OACV,eAAC2K,GAAA,EAAD,CAAsBE,MAAM,QAA5B,SACE1L,EAAQH,MAAMgB,IADAA,MAIjB,eAAC2K,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B1L,EAAQE,YACjCuP,GACA,eAACjE,GAAA,EAAD,UACC,eAAC,GAAD,CACCxL,QAASA,EACT0gB,SArCe,WACpBM,GAAyB,WA0CxB,eAAC,GAAD,CACChc,KAAMF,EACNjB,MAAM,gBACNyN,QAAO,8CAAyCtR,EAAQZ,KAAjD,uBACPwK,YA3CkC,WACpCoX,GAAyB,IA2CvBzP,cAAe1B,EACf2B,SAAU7B,QCtDDwR,GAAiC,SAAC,GAIxC,IAHNjiB,EAGK,EAHLA,QACAkiB,EAEK,EAFLA,gBACAC,EACK,EADLA,eAEA,OACC,eAACzf,GAAA,EAAD,CACCE,GAAI,CACHkH,EAAG,GAFL,SAKC,gBAAC8H,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGf,WAAW,SAAvC,UACC,eAACa,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACT8N,KAAK,QACLlN,MAAM,SACNtM,KAAK,SACLe,KAAK,OACL2B,MAAO7B,EAAQE,KACfmL,SAAU6W,EACVE,WAAY,CACXC,aACC,eAACC,GAAA,EAAD,CAAgB5B,SAAS,MAAzB,SACC,eAAC,KAAD,WAML,gBAAC9O,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,UACC,eAACnP,GAAA,EAAD,CAAY2B,QAAQ,QAApB,uBACA,eAAC8d,GAAA,EAAD,CACC5J,KAAK,QACLzY,KAAK,YACL2B,MAAO7B,EAAQgB,UACfqK,SAAU8W,EACVK,kBAAkB,OAClBzF,KAAM,EACN3Z,IAAK,EACLC,IAAK,cCzBLof,GAAiC,CACtC,CACC5Y,GAAI,OACJ4B,MAAO,QAER,CACC5B,GAAIrR,EAAKY,SACToT,MAAO,QACPf,MAAO,YAER,CACC5B,GAAIrR,EAAKa,UACTmT,MAAO,QACPf,MAAO,aAER,CACC5B,GAAIrR,EAAKc,aACTkT,MAAO,QACPf,MAAO,gBAER,CACC5B,GAAIrR,EAAKe,aACTiT,MAAO,QACPf,MAAO,gBAER,CACC5B,GAAIrR,EAAKgB,OACTgT,MAAO,QACPf,MAAO,UAER,CACC5B,GAAIrR,EAAKiB,SACT+S,MAAO,QACPf,MAAO,YAER,CACC5B,GAAI,YACJ2C,MAAO,QACPf,MAAO,cAaHiX,GAAkD,SAAChf,GACxD,IAAQ5D,EAAkC4D,EAAlC5D,MAAOJ,EAA2BgE,EAA3BhE,QAASijB,EAAkBjf,EAAlBif,cAClBpS,EAAO/H,qBAAWe,IAOxB,OACC,eAAC8X,GAAA,EAAD,UACC,gBAAC,KAAD,WACEoB,GAAUxjB,KAAI,SAAC2jB,GAAD,OACd,eAACtW,GAAA,EAAD,CAECE,MAAOoW,EAASpW,MAChBqW,cAAenjB,IAAYkjB,EAAS/Y,IAAK/J,EAH1C,SAKC,gBAACgjB,GAAA,EAAD,CACCC,OAAQrjB,IAAYkjB,EAAS/Y,GAC7BmZ,UAAWtjB,IAAYkjB,EAAS/Y,GAAK/J,EAAQ,MAC7C+E,SAhBJoe,EAgB+BL,EAAS/Y,GAhBT,SAACyB,GAChCqX,EAAcrX,EAAO2X,KAYlB,UAKEL,EAASnX,MACT/L,IAAYkjB,EAAS/Y,GACrB,eAACnH,GAAA,EAAD,CACCC,UAAU,OACVC,GAAIsgB,KAFL,SAIY,SAAVpjB,EACE,oBACA,qBAED,SAnBA8iB,EAAS/Y,IATlB,IAACoZ,KAiCE1S,GAAQ,eAACjE,GAAA,EAAD,CAAWE,MAAM,QAAjB,2BAMP2W,GAAkC,CACvCjjB,KAAM,GACNc,UAAW,IAGC0jB,GAA0B,WACtC,IAAMvF,EAAe7Z,IAAe,SAACkB,GAAD,OAAWA,EAAM+P,SAASA,YAC9D,EAA0BlS,mBAAiB,OAA3C,mBAAOvE,EAAP,KAAcujB,EAAd,KACA,EAA8Bhf,mBAA2B,QAAzD,mBAAO3E,EAAP,KAAgB4jB,EAAhB,KACA,EAAwBjf,mBAAS,GAAjC,mBAAOkf,EAAP,KAAaC,EAAb,KACA,EAAsCnf,mBAAS,IAA/C,mBAAOof,EAAP,KAAoBC,EAApB,KACA,EAA8Brf,mBAA0B8e,IAAxD,mBAAOnjB,EAAP,KAAgB2jB,EAAhB,KAyCMC,EACLL,EAAO,EACJM,KAAKxgB,IAAI,GAAI,EAAIkgB,GAAQE,EAActE,EAAa9C,QACpD,EAEJ,OACC,eAAC,WAAD,UACC,eAAC3Z,GAAA,EAAD,CAAKE,GAAI,CAAEqI,MAAO,QAAlB,SACC,gBAACkB,GAAA,EAAD,CAAOvJ,GAAI,CAAEqI,MAAO,OAAQqS,GAAI,GAAhC,UACC,eAAC,GAAD,CACCtd,QAASA,EACTkiB,gBA9BuB,SAC3B5W,GAEA,MAAwBA,EAAMvM,OAAtBmB,EAAR,EAAQA,KAAM2B,EAAd,EAAcA,MACd8hB,EAAW,2BACP3jB,GADM,kBAERE,EAAO2B,MAyBLsgB,eArBsB,SAAC7W,EAAczJ,GACzC,IAAQ3B,EAASoL,EAAMvM,OAAfmB,KACRyjB,EAAW,2BACP3jB,GADM,kBAERE,EAAO2B,QAmBN,eAACqK,GAAA,EAAD,UACC,gBAACE,GAAA,EAAD,CACCxJ,GAAI,CAAEkhB,SAAU,KAChB,kBAAgB,aAFjB,UAIC,eAAC,GAAD,CACChkB,MAAOA,EACPJ,QAASA,EACTijB,cA7DmB,SACzBrX,EACA2X,GAGAI,EADc3jB,IAAYujB,GAAsB,QAAVnjB,EACrB,OAAS,OAC1BwjB,EAAWL,MAyDN,gBAAC5W,GAAA,EAAD,WACE8S,EACC4E,QACA1a,OAAOxI,GAAqBb,IAC5BgkB,KAAKpjB,GAAsBd,EAAOJ,IAClCqkB,MACAR,EAAOE,EACPF,EAAOE,EAAcA,GAErBxkB,KAAI,SAACglB,GAAD,OACJ,eAAC,GAAD,CAAuBnjB,QAASmjB,GAAjBA,EAAIpa,OAEpB+Z,EAAY,GACZ,eAAC,KAAD,CACC3P,MAAO,CACNiQ,OAAQ,GAAKN,GAFf,SAKC,eAACtX,GAAA,EAAD,CAAWgV,QAAS,cAMzB,eAAC6C,GAAA,EAAD,CACCC,mBAAoB,CAAC,EAAG,GAAI,IAC5BzhB,UAAU,MACV0hB,MAAOlF,EAAa9C,OACpBoH,YAAaA,EACbF,KAAMA,EACNe,aApFoB,SAAChZ,EAAgBiZ,GACzCf,EAAQe,IAoFJC,oBAjF2B,SAC/BlZ,GAEAoY,EAAee,SAASnZ,EAAMvM,OAAO8C,MAAO,KAC5C2hB,EAAQ,cC/IGjC,GAAwC,SAAC,GAAyB,IAAvB1iB,EAAsB,EAAtBA,MAAO2iB,EAAe,EAAfA,SACxDtX,EAAW9E,KAUjB,OACC,gBAAC1C,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,WAChBO,IAAK,GAJP,UAOC,eAACxN,EAAA,EAAD,CACC,aAAW,OACXgI,MAAM,UACNlJ,UAAW4V,KACXC,GAAE,kBAAa3Z,EAAMgL,IAJtB,SAMC,eAAC,KAAD,MAED,eAAChG,EAAA,EAAD,CACC,aAAW,SACXgI,MAAM,YACNhH,QA3BkB,WACpBqF,EAAS/C,GAAetI,KAuBvB,SAKC,eAAC,KAAD,MAED,eAACgF,EAAA,EAAD,CACC,aAAW,SACXgI,MAAM,UACNhH,QA9BkB,WACpB2c,KA0BC,SAKC,eAAC,KAAD,UC3CSC,GAAoC,SAAC,GAAe,IAAb5iB,EAAY,EAAZA,MACnD,E/DwBkC,WAClC,IAAM8lB,EAAmBnc,qBAAWc,IACpC,IAAKqb,EACJ,MAAM,IAAIxc,MACT,wEAGF,OAAOwc,E+D/BqBC,GAApBpe,EAAR,EAAQA,MAAO0D,EAAf,EAAeA,SAgBf,OACC,eAACxH,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,WAChBO,IAAK,GAJP,SAOE7K,EAAMnH,SAASR,EAAMgL,IACrB,eAAChG,EAAA,EAAD,CACC,aAAW,SACXgI,MAAM,UACNhH,QAnBiB,WACpBqF,EAAS,CACR/K,KAAM,SACN0H,QAAShI,EAAMgL,MAad,SAKC,eAAC,KAAD,MAGD,eAAChG,EAAA,EAAD,CACC,aAAW,MACXgI,MAAM,UACNhH,QAlCc,WACjBqF,EAAS,CACR/K,KAAM,MACN0H,QAAShI,EAAMgL,MA4Bd,SAKC,eAAC,KAAD,SC7BQgY,GAA6B,SAAC,GAAqB,IAAnBhjB,EAAkB,EAAlBA,MAAOM,EAAW,EAAXA,KAC7C+K,EAAW9E,KACXmL,EAAO/H,qBAAWe,IACxB,EAA0DlF,oBAAS,GAAnE,mBAAOuB,EAAP,KAA8Bkc,EAA9B,KACMrR,EAAYnL,IACjB,SAACkB,GAAD,MAAmC,YAAxBA,EAAMuF,OAAO4D,UAWnBgB,EAAmB,yCAAG,uBAAAnR,EAAA,+EAEpB0K,EAASiN,GAAYtY,IAAQ+R,SAFT,OAG1BkR,GAAyB,GAHC,uGAAH,qDASzB,OACC,gBAAC,WAAD,WACC,gBAAC,KAAD,CAAaC,OAAK,EAACC,UAAW,EAA9B,UACC,eAAC1V,GAAA,EAAD,CACC3J,UAAU,KACVkH,GAAE,sBAAiBhL,EAAMqB,MACzBqM,MAAM,MAHP,SAKE1N,EAAMqB,OAER,eAACoM,GAAA,EAAD,UAAY1Q,GAAeiD,EAAMwB,SACjC,eAACiM,GAAA,EAAD,UACEnQ,GAAoByC,GAAaC,MAEnC,eAACyN,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B3N,EAAMgZ,UAChC,eAACvL,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B3N,EAAM2B,QAChC,eAAC8L,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0B3N,EAAM6B,QAC/B6P,GACA,eAACjE,GAAA,EAAD,UACW,cAATnN,EACA,eAAC,GAAD,CAAiBN,MAAOA,IAExB,eAAC,GAAD,CACCA,MAAOA,EACP2iB,SAzCc,WACpBM,GAAyB,WA+CxB,eAAC,GAAD,CACChc,KAAMF,EACNjB,MAAM,gBACNyN,QAAO,8CAAyCvT,EAAMqB,KAA/C,uBACPwK,YAhDkC,WACpCoX,GAAyB,IAgDvBzP,cAAe1B,EACf2B,SAAU7B,QCxDDwR,GAAiC,SAAC,GAIxC,IAHNjiB,EAGK,EAHLA,QACAkiB,EAEK,EAFLA,gBACAC,EACK,EADLA,eAEA,OACC,eAACzf,GAAA,EAAD,CACCE,GAAI,CACHkH,EAAG,GAFL,SAKC,gBAAC8H,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGf,WAAW,SAAvC,UACC,eAACa,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACT8N,KAAK,QACLlN,MAAM,SACNtM,KAAK,SACLe,KAAK,OACL2B,MAAO7B,EAAQE,KACfmL,SAAU6W,EACVE,WAAY,CACXC,aACC,eAACC,GAAA,EAAD,CAAgB5B,SAAS,MAAzB,SACC,eAAC,KAAD,WAML,eAAC9O,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,gBAACsC,GAAA,EAAD,CACC1J,WAAS,EACT8N,KAAK,QACL5D,QAAM,EACNtJ,MAAM,QACNvL,KAAK,QACL2B,MAAO7B,EAAQK,MACfgL,SAAU6W,EAPX,UASC,eAAClN,GAAA,EAAD,CAAUnT,MAAM,MAAhB,iBACCvG,GAAQ2D,KAAI,SAACgf,GAAD,OACZ,eAACjJ,GAAA,EAAD,CAAmBnT,MAAOoc,EAA1B,SACEriB,GAAeqiB,IADFA,WAMlB,eAACrM,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,gBAACsC,GAAA,EAAD,CACC1J,WAAS,EACT8N,KAAK,QACL5D,QAAM,EACNtJ,MAAM,OACNvL,KAAK,OACL2B,MAAO7B,EAAQb,KACfkM,SAAU6W,EAPX,UASC,eAAClN,GAAA,EAAD,CAAUnT,MAAM,MAAhB,iBACChG,GAAYoD,KAAI,SAACE,GAAD,OAChB,eAAC6V,GAAA,EAAD,CAAqBnT,MAAO1C,EAA5B,SACEhD,GAAoBgD,IADPA,WAMlB,gBAACyS,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,UACC,eAACnP,GAAA,EAAD,CAAY2B,QAAQ,QAApB,mBACA,eAAC8d,GAAA,EAAD,CACC5J,KAAK,QACLzY,KAAK,QACL2B,MAAO7B,EAAQQ,MACf6K,SAAU8W,EACVK,kBAAkB,OAClBzF,KAAM,IACN3Z,IAAK,IACLC,IAAKrK,OAGP,gBAAC4Y,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,UACC,eAACnP,GAAA,EAAD,CAAY2B,QAAQ,QAApB,mBACA,eAAC8d,GAAA,EAAD,CACC5J,KAAK,QACLzY,KAAK,QACL2B,MAAO7B,EAAQU,MACf2K,SAAU8W,EACVK,kBAAkB,OAClBzF,KAAM,EACN3Z,IAAK,EACLC,IjFpGyB,akFazBof,GAAiC,CACtC,CACC5Y,GAAI,OACJ4B,MAAO,QAER,CACC5B,GAAI,QACJ4B,MAAO,SAER,CACC5B,GAAI,OACJ4B,MAAO,QAER,CACC5B,GAAI,UACJ2C,MAAO,QACPf,MAAO,YAER,CACC5B,GAAI,QACJ2C,MAAO,QACPf,MAAO,SAER,CACC5B,GAAI,QACJ2C,MAAO,QACPf,MAAO,UAaHiX,GAAkD,SAAChf,GACxD,IAAQ5D,EAAkC4D,EAAlC5D,MAAOJ,EAA2BgE,EAA3BhE,QAASijB,EAAkBjf,EAAlBif,cAClBpS,EAAO/H,qBAAWe,IAOxB,OACC,eAAC8X,GAAA,EAAD,UACC,gBAAC,KAAD,WACEoB,GAAUxjB,KAAI,SAAC2jB,GAAD,OACd,eAACtW,GAAA,EAAD,CAECE,MAAOoW,EAASpW,MAChBqW,cAAenjB,IAAYkjB,EAAS/Y,IAAK/J,EAH1C,SAKC,gBAACgjB,GAAA,EAAD,CACCC,OAAQrjB,IAAYkjB,EAAS/Y,GAC7BmZ,UAAWtjB,IAAYkjB,EAAS/Y,GAAK/J,EAAQ,MAC7C+E,SAhBJoe,EAgB+BL,EAAS/Y,GAhBX,SAACyB,GAC9BqX,EAAcrX,EAAO2X,KAYlB,UAKEL,EAASnX,MACT/L,IAAYkjB,EAAS/Y,GACrB,eAACnH,GAAA,EAAD,CACCC,UAAU,OACVC,GAAIsgB,KAFL,SAIY,SAAVpjB,EACE,oBACA,qBAED,SAnBA8iB,EAAS/Y,IATlB,IAACoZ,KAiCE1S,GAAQ,eAACjE,GAAA,EAAD,CAAWE,MAAM,QAAjB,2BAMP2W,GAAgC,CACrCjjB,KAAM,GACNG,MAAO,MACPlB,KAAM,MACNqB,MAAO,IACPE,MAAO,GAOKmkB,GAAgC,SAAC,GAA0B,IAAD,IAAvB1lB,YAAuB,MAAhB,UAAgB,EAChEigB,EAAa9Z,IAAe,SAACkB,GAAD,OAAWA,EAAMuF,OAAOA,UAC1D,EAA0B1H,mBAAiB,OAA3C,mBAAOvE,EAAP,KAAcujB,EAAd,KACA,EAA8Bhf,mBAAyB,QAAvD,mBAAO3E,EAAP,KAAgB4jB,EAAhB,KACA,EAAwBjf,mBAAS,GAAjC,mBAAOkf,EAAP,KAAaC,EAAb,KACA,EAAsCnf,mBAAS,IAA/C,mBAAOof,EAAP,KAAoBC,EAApB,KACA,EAA8Brf,mBAAwB8e,IAAtD,mBAAOnjB,EAAP,KAAgB2jB,EAAhB,KAyCMC,EACLL,EAAO,EACJM,KAAKxgB,IAAI,GAAI,EAAIkgB,GAAQE,EAAcrE,EAAW/C,QAClD,EAEJ,OACC,eAAC,WAAD,UACC,eAAC3Z,GAAA,EAAD,CAAKE,GAAI,CAAEqI,MAAO,QAAlB,SACC,gBAACkB,GAAA,EAAD,CAAOvJ,GAAI,CAAEqI,MAAO,OAAQqS,GAAI,GAAhC,UACC,eAAC,GAAD,CACCtd,QAASA,EACTkiB,gBA9BuB,SAC3B5W,GAEA,MAAwBA,EAAMvM,OAAtBmB,EAAR,EAAQA,KAAM2B,EAAd,EAAcA,MACd8hB,EAAW,2BACP3jB,GADM,kBAERE,EAAO2B,MAyBLsgB,eArBsB,SAAC7W,EAAczJ,GACzC,IAAQ3B,EAASoL,EAAMvM,OAAfmB,KACRyjB,EAAW,2BACP3jB,GADM,kBAERE,EAAO2B,QAmBN,eAACqK,GAAA,EAAD,UACC,gBAACE,GAAA,EAAD,CACCxJ,GAAI,CAAEkhB,SAAU,KAChB,kBAAgB,aAFjB,UAIC,eAAC,GAAD,CACChkB,MAAOA,EACPJ,QAASA,EACTijB,cA7DmB,SACzBrX,EACA2X,GAGAI,EADc3jB,IAAYujB,GAAsB,QAAVnjB,EACrB,OAAS,OAC1BwjB,EAAWL,MAyDN,gBAAC5W,GAAA,EAAD,WACE+S,EACC2E,QACA1a,OAAOtJ,GAAmBC,IAC1BgkB,KAAKnkB,GAAoBC,EAAOJ,IAChCqkB,MACAR,EAAOE,EACPF,EAAOE,EAAcA,GAErBxkB,KAAI,SAACglB,GAAD,OACJ,eAAC,GAAD,CAECplB,MAAOolB,EACP9kB,KAAMA,GAFD8kB,EAAIpa,OAKX+Z,EAAY,GACZ,eAAC,KAAD,CACC3P,MAAO,CACNiQ,OAAQ,GAAKN,GAFf,SAKC,eAACtX,GAAA,EAAD,CAAWgV,QAAS,cAMzB,eAAC6C,GAAA,EAAD,CACCC,mBAAoB,CAAC,EAAG,GAAI,IAC5BzhB,UAAU,MACV0hB,MAAOjF,EAAW/C,OAClBoH,YAAaA,EACbF,KAAMA,EACNe,aAxFoB,SAAChZ,EAAgBiZ,GACzCf,EAAQe,IAwFJC,oBArF2B,SAC/BlZ,GAEAoY,EAAee,SAASnZ,EAAMvM,OAAO8C,MAAO,KAC5C2hB,EAAQ,cCtIGjC,GAAwC,SAAC,GAA0B,IAAxBpgB,EAAuB,EAAvBA,OAAQqgB,EAAe,EAAfA,SACzDtX,EAAW9E,KAUjB,OACC,gBAAC1C,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,WAChBO,IAAK,GAJP,UAOC,eAACxN,EAAA,EAAD,CACC,aAAW,OACXgI,MAAM,UACNlJ,UAAW4V,KACXC,GAAE,mBAAcrX,EAAO0I,IAJxB,SAMC,eAAC,KAAD,MAED,eAAChG,EAAA,EAAD,CACC,aAAW,SACXgI,MAAM,YACNhH,QA3BkB,WACpBqF,EAAS7C,GAAgBlG,KAuBxB,SAKC,eAAC,KAAD,MAED,eAAC0C,EAAA,EAAD,CACC,aAAW,SACXgI,MAAM,UACNhH,QA9BkB,WACpB2c,KA0BC,SAKC,eAAC,KAAD,UC1CSC,GAAoC,SAAC,GAAgB,IAAdtgB,EAAa,EAAbA,OACnD,EAA4BmH,KAApB9B,EAAR,EAAQA,MAAO0D,EAAf,EAAeA,SAETwX,EAAQ3jB,GAAwBoD,EAAOhC,MACvCwiB,EAAgBD,EAAMrS,MAAK,SAACnH,GAAD,YAA0BlB,IAAhBR,EAAM0B,MAC3C0Z,EAAcF,EAAMrS,MAAK,SAACnH,GAAD,OAAU1B,EAAM0B,KAAU/G,EAAO0I,MA0BhE,OACC,eAACnH,GAAA,EAAD,CACCE,GAAI,CACHiO,QAAS,OACTC,eAAgB,WAChBO,IAAK,GAJP,SAOEsQ,EACA,eAAC9d,EAAA,EAAD,CACC,aAAW,MACXgI,MAAM,UACNhH,QApCc,WACb8c,GACHzX,EAAS,CACR/K,KAAM,MACN0H,QAAS,CACRqB,KAAMyZ,EACN9f,MAAOV,EAAO0I,OA2Bf,SAKC,eAAC,KAAD,MAGD,eAAChG,EAAA,EAAD,CACC,aAAW,SACXgI,MAAM,UACNhH,QAhCiB,WAChB+c,GACH1X,EAAS,CACR/K,KAAM,SACN0H,QAAS,CACRqB,KAAM0Z,EACN/f,MAAOV,EAAO0I,OAuBf,SAKC,eAAC,KAAD,SC5CQgY,GAA6B,SAAC,GAAsB,IAApB1gB,EAAmB,EAAnBA,OAAQhC,EAAW,EAAXA,KAC9C+K,EAAW9E,KACXmL,EAAO/H,qBAAWe,IACxB,EAA0DlF,oBAAS,GAAnE,mBAAOuB,EAAP,KAA8Bkc,EAA9B,KACMrR,EAAYnL,IACjB,SAACkB,GAAD,MAAmC,YAAxBA,EAAMuF,OAAO4D,UAWnBgB,EAAmB,yCAAG,uBAAAnR,EAAA,+EAEpB0K,EAAS+O,GAAa9X,IAASyP,SAFX,OAG1BkR,GAAyB,GAHC,uGAAH,qDASzB,OACC,gBAAC,WAAD,WACC,gBAAC,KAAD,CAAaC,OAAK,EAACC,UAAW,EAA9B,UACC,eAAC1V,GAAA,EAAD,CACC3J,UAAU,KACVkH,GAAE,gBAAW1I,EAAOjB,MACpBqM,MAAM,MAHP,SAKEpL,EAAOjB,OAET,eAACoM,GAAA,EAAD,UAAYvP,GAAqBoE,EAAOC,cACxC,eAACkL,GAAA,EAAD,UAAY7R,EAAqB0G,EAAOG,cACxC,eAACgL,GAAA,EAAD,UAAYnP,GAAqBgE,EAAOwX,QACxC,eAACrM,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0BrL,EAAOX,QACjC,eAAC8L,GAAA,EAAD,CAAWE,MAAM,QAAjB,SAA0BrL,EAAOT,QAChC6P,GACA,eAACjE,GAAA,EAAD,UACW,eAATnN,EACA,eAAC,GAAD,CAAiBgC,OAAQA,IAEzB,eAAC,GAAD,CACCA,OAAQA,EACRqgB,SAvCc,WACpBM,GAAyB,WA6CxB,eAAC,GAAD,CACChc,KAAMF,EACNjB,MAAM,gBACNyN,QAAO,8CAAyCjR,EAAOjB,KAAhD,uBACPwK,YA9CkC,WACpCoX,GAAyB,IA8CvBzP,cAAe1B,EACf2B,SAAU7B,QCtDDwR,GAAiC,SAAC,GAIxC,IAHNjiB,EAGK,EAHLA,QACAkiB,EAEK,EAFLA,gBACAC,EACK,EADLA,eAEA,OACC,eAACzf,GAAA,EAAD,CACCE,GAAI,CACHkH,EAAG,GAFL,SAKC,gBAAC8H,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGf,WAAW,SAAvC,UACC,eAACa,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAvB,SACC,eAACsC,GAAA,EAAD,CACC1J,WAAS,EACT8N,KAAK,QACLlN,MAAM,SACNtM,KAAK,SACLe,KAAK,OACL2B,MAAO7B,EAAQE,KACfmL,SAAU6W,EACVE,WAAY,CACXC,aACC,eAACC,GAAA,EAAD,CAAgB5B,SAAS,MAAzB,SACC,eAAC,KAAD,WAML,eAAC9O,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,gBAACsC,GAAA,EAAD,CACC1J,WAAS,EACT8N,KAAK,QACL5D,QAAM,EACNtJ,MAAM,OACNvL,KAAK,OACL2B,MAAO7B,EAAQb,KACfkM,SAAU6W,EAPX,UASC,eAAClN,GAAA,EAAD,CAAUnT,MAAM,MAAhB,iBACCzF,GAAa6C,KAAI,SAACE,GAAD,OACjB,eAAC6V,GAAA,EAAD,CAAqBnT,MAAO1C,EAA5B,SACEpC,GAAqBoC,IADRA,WAMlB,eAACyS,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,SACC,gBAACsC,GAAA,EAAD,CACC1J,WAAS,EACT8N,KAAK,QACL5D,QAAM,EACNtJ,MAAM,cACNvL,KAAK,aACL2B,MAAO7B,EAAQsB,WACf+J,SAAU6W,EAPX,UASC,eAAClN,GAAA,EAAD,CAAUnT,MAAM,MAAhB,iBACCnI,EAAYuF,KAAI,SAAC+D,GAAD,OAChB,eAACgS,GAAA,EAAD,CAA2BnT,MAAOmB,EAAlC,SACEvI,EAAqBuI,IADRA,WAMlB,gBAAC4O,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,UACC,eAACnP,GAAA,EAAD,CAAY2B,QAAQ,QAApB,mBACA,eAAC8d,GAAA,EAAD,CACC5J,KAAK,QACLzY,KAAK,QACL2B,MAAO7B,EAAQQ,MACf6K,SAAU8W,EACVK,kBAAkB,OAClBzF,KAAM,IACN3Z,IAAK,IACLC,IAAKrK,OAGP,gBAAC4Y,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGC,GAAI,EAAtB,UACC,eAACnP,GAAA,EAAD,CAAY2B,QAAQ,QAApB,mBACA,eAAC8d,GAAA,EAAD,CACC5J,KAAK,QACLzY,KAAK,QACL2B,MAAO7B,EAAQU,MACf2K,SAAU8W,EACVK,kBAAkB,OAClBzF,KAAM,EACN3Z,IAAK,EACLC,ItFpGyB,auFazBof,GAAiC,CACtC,CACC5Y,GAAI,OACJ4B,MAAO,QAER,CACC5B,GAAI,aACJ4B,MAAO,QAER,CACC5B,GAAI,aACJ4B,MAAO,eAER,CACC5B,GAAI,OACJ4B,MAAO,QAER,CACC5B,GAAI,QACJ2C,MAAO,QACPf,MAAO,SAER,CACC5B,GAAI,QACJ2C,MAAO,QACPf,MAAO,UAaHiX,GAAkD,SAAChf,GACxD,IAAQ5D,EAAkC4D,EAAlC5D,MAAOJ,EAA2BgE,EAA3BhE,QAASijB,EAAkBjf,EAAlBif,cAClBpS,EAAO/H,qBAAWe,IAOxB,OACC,eAAC8X,GAAA,EAAD,UACC,gBAAC,KAAD,WACEoB,GAAUxjB,KAAI,SAAC2jB,GAAD,OACd,eAACtW,GAAA,EAAD,CAECE,MAAOoW,EAASpW,MAChBqW,cAAenjB,IAAYkjB,EAAS/Y,IAAK/J,EAH1C,SAKC,gBAACgjB,GAAA,EAAD,CACCC,OAAQrjB,IAAYkjB,EAAS/Y,GAC7BmZ,UAAWtjB,IAAYkjB,EAAS/Y,GAAK/J,EAAQ,MAC7C+E,SAhBJoe,EAgB+BL,EAAS/Y,GAhBV,SAACyB,GAC/BqX,EAAcrX,EAAO2X,KAYlB,UAKEL,EAASnX,MACT/L,IAAYkjB,EAAS/Y,GACrB,eAACnH,GAAA,EAAD,CACCC,UAAU,OACVC,GAAIsgB,KAFL,SAIY,SAAVpjB,EACE,oBACA,qBAED,SAnBA8iB,EAAS/Y,IATlB,IAACoZ,KAiCE1S,GAAQ,eAACjE,GAAA,EAAD,CAAWE,MAAM,QAAjB,2BAMP2W,GAAiC,CACtCjjB,KAAM,GACNf,KAAM,MACNmC,WAAY,MACZd,MAAO,IACPE,MAAO,GAOKokB,GAAiC,SAAC,GAA0B,IAAD,IAAvB3lB,YAAuB,MAAhB,UAAgB,EACjEkgB,EAAc/Z,IAAe,SAACkB,GAAD,OAAWA,EAAM2S,QAAQA,WAC5D,EAA0B9U,mBAAiB,OAA3C,mBAAOvE,EAAP,KAAcujB,EAAd,KACA,EAA8Bhf,mBAA0B,QAAxD,mBAAO3E,EAAP,KAAgB4jB,EAAhB,KACA,EAAwBjf,mBAAS,GAAjC,mBAAOkf,EAAP,KAAaC,EAAb,KACA,EAAsCnf,mBAAS,IAA/C,mBAAOof,EAAP,KAAoBC,EAApB,KACA,EAA8Brf,mBAAyB8e,IAAvD,mBAAOnjB,EAAP,KAAgB2jB,EAAhB,KAyCMC,EACLL,EAAO,EACJM,KAAKxgB,IAAI,GAAI,EAAIkgB,GAAQE,EAAcpE,EAAYhD,QACnD,EAEJ,OACC,eAAC,WAAD,UACC,eAAC3Z,GAAA,EAAD,CAAKE,GAAI,CAAEqI,MAAO,QAAlB,SACC,gBAACkB,GAAA,EAAD,CAAOvJ,GAAI,CAAEqI,MAAO,OAAQqS,GAAI,GAAhC,UACC,eAAC,GAAD,CACCtd,QAASA,EACTkiB,gBA9BuB,SAC3B5W,GAEA,MAAwBA,EAAMvM,OAAtBmB,EAAR,EAAQA,KAAM2B,EAAd,EAAcA,MACd8hB,EAAW,2BACP3jB,GADM,kBAERE,EAAO2B,MAyBLsgB,eArBsB,SAAC7W,EAAczJ,GACzC,IAAQ3B,EAASoL,EAAMvM,OAAfmB,KACRyjB,EAAW,2BACP3jB,GADM,kBAERE,EAAO2B,QAmBN,eAACqK,GAAA,EAAD,UACC,gBAACE,GAAA,EAAD,CACCxJ,GAAI,CAAEkhB,SAAU,KAChB,kBAAgB,aAFjB,UAIC,eAAC,GAAD,CACChkB,MAAOA,EACPJ,QAASA,EACTijB,cA7DmB,SACzBrX,EACA2X,GAGAI,EADc3jB,IAAYujB,GAAsB,QAAVnjB,EACrB,OAAS,OAC1BwjB,EAAWL,MAyDN,gBAAC5W,GAAA,EAAD,WACEgT,EACC0E,QACA1a,OAAOnI,GAAoBlB,IAC3BgkB,KAAK/iB,GAAqBnB,EAAOJ,IACjCqkB,MACAR,EAAOE,EACPF,EAAOE,EAAcA,GAErBxkB,KAAI,SAACglB,GAAD,OACJ,eAAC,GAAD,CAEC9iB,OAAQ8iB,EACR9kB,KAAMA,GAFD8kB,EAAIpa,OAKX+Z,EAAY,GACZ,eAAC,KAAD,CACC3P,MAAO,CACNiQ,OAAQ,GAAKN,GAFf,SAKC,eAACtX,GAAA,EAAD,CAAWgV,QAAS,cAMzB,eAAC6C,GAAA,EAAD,CACCC,mBAAoB,CAAC,EAAG,GAAI,IAC5BzhB,UAAU,MACV0hB,MAAOhF,EAAYhD,OACnBoH,YAAaA,EACbF,KAAMA,EACNe,aAxFoB,SAAChZ,EAAgBiZ,GACzCf,EAAQe,IAwFJC,oBArF2B,SAC/BlZ,GAEAoY,EAAee,SAASnZ,EAAMvM,OAAO8C,MAAO,KAC5C2hB,EAAQ,cCjJGuB,GAAoB,WAChC,OACC,iCACC,eAACjiB,GAAA,EAAD,CAAY2B,QAAQ,KAAK+M,cAAY,EAArC,qBAGA,eAAC1O,GAAA,EAAD,8B,UCYUkiB,GAAkC,SAAC,GAMzC,IALNrgB,EAKK,EALLA,MACA+M,EAIK,EAJLA,YACAlD,EAGK,EAHLA,MACAqQ,EAEK,EAFLA,KACAoG,EACK,EADLA,MAEM1U,EAAO/H,qBAAWe,IAExB,OACC,gBAAC/E,EAAA,EAAD,WACC,eAAC0gB,GAAA,EAAD,CAAWtiB,GAAI,CAAEshB,OAAQ,KAAO1V,MAAOA,EAAO7J,MAAOA,IACrD,gBAACO,EAAA,EAAD,WACC,eAACpC,GAAA,EAAD,CAAY0O,cAAY,EAAC/M,QAAQ,KAAK9B,UAAU,MAAhD,SACEgC,IAEF,eAAC7B,GAAA,EAAD,CAAY2B,QAAQ,QAAQoH,MAAM,iBAAlC,SACE6F,OAGH,gBAAC6L,GAAA,EAAD,WACC,eAAC3R,GAAA,EAAD,CAAQ+M,KAAK,QAAQhW,UAAW4V,KAAMC,GAAIqG,EAA1C,kBAGCtO,GACA,eAAC3E,GAAA,EAAD,CAAQ+M,KAAK,QAAQ9T,QAASogB,EAA9B,wBC7CU,OAA0B,qCCA1B,OAA0B,mCCA1B,OAA0B,qCCA1B,OAA0B,mCCS5BE,GAAsB,WAClC,IAAMjb,EAAW9E,KAcjB,OACC,iCACC,eAACtC,GAAA,EAAD,CAAY2B,QAAQ,KAAK+M,cAAY,EAArC,uBAGA,gBAACI,GAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACC,eAACF,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAI4I,GAAI,EAAG1I,GAAI,EAA9B,SACC,eAAC,GAAD,CACCvN,MAAM,WACN+M,YAAY,8BACZlD,MAAO4W,GACPvG,KAAK,YACLoG,MAxBoB,WACxB/a,EAASjD,WA0BP,eAAC2K,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAI4I,GAAI,EAAG1I,GAAI,EAA9B,SACC,eAAC,GAAD,CACCvN,MAAM,SACN+M,YAAY,4BACZlD,MAAO6W,GACPxG,KAAK,UACLoG,MA7BkB,WACtB/a,EAAS/C,WA+BP,eAACyK,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAI4I,GAAI,EAAG1I,GAAI,EAA9B,SACC,eAAC,GAAD,CACCvN,MAAM,UACN+M,YAAY,6BACZlD,MAAO8W,GACPzG,KAAK,WACLoG,MAlCmB,iBAqCrB,eAACrT,GAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAI4I,GAAI,EAAG1I,GAAI,EAA9B,SACC,eAAC,GAAD,CACCvN,MAAM,SACN+M,YAAY,4BACZlD,MAAOgB,GACPqP,KAAK,UACLoG,MAzCmB,wBCpBZM,GAAqB,WACjC,OACC,iCACC,eAACziB,GAAA,EAAD,CAAY2B,QAAQ,KAAK+M,cAAY,EAArC,sBAGA,eAAC1O,GAAA,EAAD,8BCsCY0iB,OA5Bf,WACC,OACC,gBAAC,KAAD,CAAQC,SAAS,eAAjB,UACC,eAAC,GAAD,UACC,gBAAC,KAAD,WACC,eAAC,KAAD,CAAOC,OAAO,EAAMC,KAAK,IAAIhjB,UAAWwiB,KACxC,eAAC,KAAD,CAAOQ,KAAK,YAAYhjB,UAAW4iB,KACnC,eAAC,KAAD,CAAOI,KAAK,gBAAgBhjB,UAAWsX,KACvC,eAAC,KAAD,CAAO0L,KAAK,YAAYhjB,UAAWkY,KACnC,eAAC,KAAD,CAAO8K,KAAK,cAAchjB,UAAWqV,KACrC,eAAC,KAAD,CAAO2N,KAAK,UAAUhjB,UAAW8V,KACjC,eAAC,KAAD,CAAOkN,KAAK,eAAehjB,UAAW7E,KACtC,eAAC,KAAD,CAAO6nB,KAAK,WAAWhjB,UAAWgX,KAClC,eAAC,KAAD,CAAOgM,KAAK,eAAehjB,UAAWrF,KACtC,eAAC,KAAD,CAAOqoB,KAAK,WAAWhjB,UAAW4P,KAClC,eAAC,KAAD,CAAOoT,KAAK,WAAWhjB,UAAWoiB,UAGpC,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,QCzBYa,GAdS,SAACC,GACpBA,GAAeA,aAAuBC,UACzC,8BAAqBC,MACpB,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAClCJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCFCQ,GAAQC,aAAe,CACnCC,QAAS,CACRpc,OAAQqc,GACRvG,WAAYwG,GACZlQ,SAAUmQ,GACV3a,OAAQ4a,GACRxN,QAASyN,GACT1X,QAAS2X,M,8BCeI/iB,GA5BDgjB,aAAY,CACzBC,QAAS,CACRC,WAAY,CACXC,QAAS,UACTC,MAAO,WAER5L,QAAS,CACR6L,KAAM,WAEP5L,UAAW,CACV4L,KAAM,WAEP/Y,MAAO,CACN+Y,KAAM,WAEPC,QAAS,CACRD,KAAM,WAEPE,KAAM,CACLF,KAAM,WAEPG,QAAS,CACRH,KAAM,WAEPI,KAAM,UCrBKC,GAAyB,SAAC,GAAkB,IAAhB9d,EAAe,EAAfA,SACxC,EAAwBrF,mBAA+B,MAAvD,mBAAOkM,EAAP,KAAakX,EAAb,KAUA,OARAhd,qBAAU,WAKT,OAJoB2C,GAAKsa,oBAAmB,SAACC,GAC5CF,EAAQE,QAIP,IAEI,eAACpe,GAAYmC,SAAb,CAAsB7J,MAAO0O,EAA7B,SAAoC7G,KCP/Bke,GAA6B,SAAC,GAAkB,IAAhBle,EAAe,EAAfA,SACtCQ,EAAW9E,KA0DjB,OAxDAqF,qBAAU,WACT+C,GAAWqa,aAAa,QAAQC,GAAG,SAAS,SAACC,GAC5C,IAAMxR,EAAW,GACjBwR,EAAS7S,SAAQ,SAAC8S,GACjB,IAAMlnB,EAAO,2BACTknB,EAAcC,OADL,IAEZpe,GAAIme,EAAcpmB,MAEnB2U,EAAShI,KAAKzN,MAEfoJ,EAAS6L,GAAcQ,SAEtB,CAACrM,IAEJO,qBAAU,WACTiD,GAASma,aAAa,QAAQC,GAAG,SAAS,SAACC,GAC1C,IAAMhc,EAAS,GACfgc,EAAS7S,SAAQ,SAAC8S,GACjB,IAAMnpB,EAAK,2BACPmpB,EAAcC,OADP,IAEVpe,GAAIme,EAAcpmB,MAEnBmK,EAAOwC,KAAK1P,MAEbqL,EAAS4M,GAAY/K,SAEpB,CAAC7B,IAEJO,qBAAU,WACTkD,GAAUka,aAAa,QAAQC,GAAG,SAAS,SAACC,GAC3C,IAAM5O,EAAU,GAChB4O,EAAS7S,SAAQ,SAAC8S,GACjB,IAAM7mB,EAAM,2BACR6mB,EAAcC,OADN,IAEXpe,GAAIme,EAAcpmB,MAEnBuX,EAAQ5K,KAAKpN,MAEd+I,EAAS0O,GAAaO,SAErB,CAACjP,IAEJO,qBAAU,WACTmD,GAAUia,aAAa,QAAQC,GAAG,SAAS,SAACC,GAC3C,IAAM7Y,EAAU,GAChB6Y,EAAS7S,SAAQ,SAAC8S,GACjB,IAAMvmB,EAAM,2BACRumB,EAAcC,OADN,IAEXpe,GAAIme,EAAcpmB,MAEnBsN,EAAQX,KAAK9M,MAEdyI,EAAS2D,GAAaqB,SAErB,CAAChF,IAEG,eAAC,WAAD,UAAWR,KCxDnBwe,IAASC,OACR,eAAC,IAAMC,WAAP,UACC,eAAC,KAAD,CAAU/B,MAAOA,GAAjB,SACC,eAAC,GAAD,UACC,eAACgC,GAAA,EAAD,CAAevkB,MAAOA,GAAtB,SACC,gBAAC,GAAD,WACC,eAACwkB,GAAA,EAAD,IACA,eAAC,GAAD,eAMLC,SAASC,eAAe,SAMzB5C,O","file":"static/js/main.011e779b.chunk.js","sourcesContent":["export enum EffectType {\n\tWeaponDamage = \"weaponDamage\",\n\tDamage = \"damage\",\n\tHeal = \"heal\",\n\tStatus = \"status\",\n\tAuxiliary = \"auxiliary\",\n}\n\nexport enum Target {\n\tSelf = \"self\",\n\tAlly = \"ally\",\n\tEnemy = \"enemy\",\n}\n\nexport enum AuxiliaryEffect {\n\tPoison = \"poison\",\n\tStun = \"stun\",\n\tBleed = \"bleed\",\n}\n\nexport enum CharacterClass {\n\tCommon = \"common\",\n\tWarrior = \"warrior\",\n\tRogue = \"rogue\",\n\tMage = \"mage\",\n\tCleric = \"cleric\",\n}\n\nexport enum Stat {\n\tStrength = \"strength\",\n\tDexterity = \"dexterity\",\n\tConstitution = \"constitution\",\n\tIntelligence = \"intelligence\",\n\tWisdom = \"wisdom\",\n\tCharisma = \"charisma\",\n}\n\nexport enum DamageType {\n\tSlashing = \"slashing\",\n\tCrushing = \"crushing\",\n\tPiercing = \"piercing\",\n\tCold = \"cold\",\n\tFire = \"fire\",\n\tLighting = \"lighting\",\n\tRadiant = \"radiant\",\n\tNecrotic = \"necrotic\",\n\tPoison = \"poison\",\n\tAcid = \"acid\",\n}\n\nexport enum SkillType {\n\tWeaponAttack = \"weaponAttack\",\n\tAttack = \"attack\",\n\tHeal = \"heal\",\n\tBuff = \"buff\",\n\tDebuff = \"debuff\",\n\tOther = \"other\",\n}\n\nexport enum WeaponType {\n\tAxe = \"axe\",\n\tBow = \"bow\",\n\tClub = \"club\",\n\tCrossbow = \"crossbow\",\n\tDagger = \"dagger\",\n\tHammer = \"hammer\",\n\tMace = \"mace\",\n\tSpear = \"spear\",\n\tStaff = \"staff\",\n\tSword = \"sword\",\n}\n\nexport enum WeaponSize {\n\tOneHanded = \"oneHanded\",\n\tTwoHanded = \"twoHanded\",\n}\n\nexport enum EquipmentType {\n\tAmulet = \"amulet\",\n\tArmour = \"armour\",\n\tBelt = \"belt\",\n\tBoots = \"boots\",\n\tGloves = \"gloves\",\n\tHelmet = \"helmet\",\n\tRing = \"ring\",\n\tShield = \"shield\",\n\tWeapon = \"weapon\",\n}\n\nexport enum EquipmentSlot {\n\tHead = \"head\",\n\tNeck = \"neck\",\n\tBody = \"body\",\n\tHands = \"hands\",\n\tFinger1 = \"finger1\",\n\tFinger2 = \"finger2\",\n\tWaist = \"waist\",\n\tFeet = \"feet\",\n\tHand1 = \"hand1\",\n\tHand2 = \"hand2\",\n}\n","import {\n\tAuxiliaryEffect,\n\tCharacterClass,\n\tDamageType,\n\tEffectType,\n\tEquipmentSlot,\n\tEquipmentType,\n\tSkillType,\n\tStat,\n\tWeaponSize,\n\tWeaponType,\n} from \"common/utils\";\n\nexport const DRAWER_WIDTH = 240;\n\nexport const MAX_SKILL_LEVEL = 9;\nexport const MAX_ITEM_LEVEL = 9;\nexport const MAX_GOLD_VALUE = 10000;\nexport const MAX_SKILL_USES = 20;\nexport const MAX_DURATION = 20;\nexport const MAX_DAMAGE = 100;\nexport const MAX_MULTIPLIER = 10;\nexport const MAX_DEFENSE = 100;\n\nexport const STATS = [\n\tStat.Strength,\n\tStat.Dexterity,\n\tStat.Constitution,\n\tStat.Intelligence,\n\tStat.Wisdom,\n\tStat.Charisma,\n] as const;\n\nexport const RESISTANCES = [\n\tDamageType.Slashing,\n\tDamageType.Crushing,\n\tDamageType.Piercing,\n\tDamageType.Cold,\n\tDamageType.Fire,\n\tDamageType.Lighting,\n\tDamageType.Radiant,\n\tDamageType.Necrotic,\n\tDamageType.Poison,\n\tDamageType.Acid,\n] as const;\n\nexport const PHYSICAL_RESISTANCES = [\n\tDamageType.Slashing,\n\tDamageType.Crushing,\n\tDamageType.Piercing,\n] as const;\n\nexport const ELEMENTAL_RESISTANCES = [\n\tDamageType.Cold,\n\tDamageType.Fire,\n\tDamageType.Lighting,\n] as const;\n\nexport const AUXILLARY_RESISTANCES = [\n\tDamageType.Radiant,\n\tDamageType.Necrotic,\n\tDamageType.Poison,\n\tDamageType.Acid,\n] as const;\n\nexport const STATS_NAME_MAP: Record<Stat, string> = {\n\t[Stat.Charisma]: \"Charisma\",\n\t[Stat.Constitution]: \"Constitution\",\n\t[Stat.Dexterity]: \"Dexterity\",\n\t[Stat.Intelligence]: \"Intelligence\",\n\t[Stat.Strength]: \"Strength\",\n\t[Stat.Wisdom]: \"Wisdom\",\n};\n\nexport const RESISTANCES_NAME_MAP: Record<DamageType, string> = {\n\t[DamageType.Slashing]: \"Slashing\",\n\t[DamageType.Crushing]: \"Crushing\",\n\t[DamageType.Piercing]: \"Piercing\",\n\t[DamageType.Cold]: \"Cold\",\n\t[DamageType.Fire]: \"Fire\",\n\t[DamageType.Lighting]: \"Lighting\",\n\t[DamageType.Radiant]: \"Radiant\",\n\t[DamageType.Necrotic]: \"Necrotic\",\n\t[DamageType.Poison]: \"Poison\",\n\t[DamageType.Acid]: \"Acid\",\n};\n\nexport const SKILL_EFFECTS = [\n\tEffectType.WeaponDamage,\n\tEffectType.Damage,\n\tEffectType.Heal,\n\tEffectType.Status,\n\tEffectType.Auxiliary,\n] as const;\n\nexport const WEAPON_EFFECTS = [\n\tEffectType.Damage,\n\tEffectType.Status,\n\tEffectType.Auxiliary,\n] as const;\n\nexport const EFFECTS_NAME_MAP: Record<EffectType, string> = {\n\t[EffectType.WeaponDamage]: \"Weapon Damage\",\n\t[EffectType.Damage]: \"Damage\",\n\t[EffectType.Heal]: \"Heal\",\n\t[EffectType.Status]: \"Status\",\n\t[EffectType.Auxiliary]: \"Auxiliary\",\n};\n\nexport const AUXILIARY_EFFECTS = [\n\tAuxiliaryEffect.Poison,\n\tAuxiliaryEffect.Stun,\n\tAuxiliaryEffect.Bleed,\n] as const;\n\nexport const AUXILIARY_EFFECTS_NAME_MAP: Record<AuxiliaryEffect, string> = {\n\t[AuxiliaryEffect.Poison]: \"Poison\",\n\t[AuxiliaryEffect.Stun]: \"Stun\",\n\t[AuxiliaryEffect.Bleed]: \"Bleed\",\n};\n\nexport const CLASSES = [\n\tCharacterClass.Common,\n\tCharacterClass.Warrior,\n\tCharacterClass.Mage,\n\tCharacterClass.Rogue,\n\tCharacterClass.Cleric,\n] as const;\n\nexport const CLASS_NAME_MAP: Record<CharacterClass, string> = {\n\t[CharacterClass.Common]: \"Common\",\n\t[CharacterClass.Warrior]: \"Warrior\",\n\t[CharacterClass.Mage]: \"Mage\",\n\t[CharacterClass.Rogue]: \"Rogue\",\n\t[CharacterClass.Cleric]: \"Cleric\",\n};\n\nexport const SKILL_TYPES = [\n\tSkillType.WeaponAttack,\n\tSkillType.Attack,\n\tSkillType.Heal,\n\tSkillType.Buff,\n\tSkillType.Debuff,\n\tSkillType.Other,\n] as const;\n\nexport const SKILL_TYPE_NAME_MAP: Record<SkillType, string> = {\n\t[SkillType.WeaponAttack]: \"Weapon Attack\",\n\t[SkillType.Attack]: \"Attack\",\n\t[SkillType.Heal]: \"Heal\",\n\t[SkillType.Buff]: \"Buff\",\n\t[SkillType.Debuff]: \"Debuff\",\n\t[SkillType.Other]: \"Other\",\n};\n\nexport const WEAPON_TYPES = [\n\tWeaponType.Axe,\n\tWeaponType.Bow,\n\tWeaponType.Club,\n\tWeaponType.Crossbow,\n\tWeaponType.Dagger,\n\tWeaponType.Hammer,\n\tWeaponType.Mace,\n\tWeaponType.Spear,\n\tWeaponType.Staff,\n\tWeaponType.Sword,\n] as const;\n\nexport const WEAPON_TYPE_NAME_MAP: Record<WeaponType, string> = {\n\t[WeaponType.Axe]: \"Axe\",\n\t[WeaponType.Bow]: \"Bow\",\n\t[WeaponType.Club]: \"Club\",\n\t[WeaponType.Crossbow]: \"Crossbow\",\n\t[WeaponType.Dagger]: \"Dagger\",\n\t[WeaponType.Hammer]: \"Hammer\",\n\t[WeaponType.Mace]: \"Mace\",\n\t[WeaponType.Spear]: \"Spear\",\n\t[WeaponType.Staff]: \"Staff\",\n\t[WeaponType.Sword]: \"Sword\",\n};\n\nexport const WEAPON_SIZES = [\n\tWeaponSize.OneHanded,\n\tWeaponSize.TwoHanded,\n] as const;\n\nexport const WEAPON_SIZE_NAME_MAP: Record<WeaponSize, string> = {\n\t[WeaponSize.OneHanded]: \"One Handed\",\n\t[WeaponSize.TwoHanded]: \"Two Handed\",\n};\n\nexport const ARMOUR_TYPES = [\n\tEquipmentType.Amulet,\n\tEquipmentType.Armour,\n\tEquipmentType.Belt,\n\tEquipmentType.Boots,\n\tEquipmentType.Gloves,\n\tEquipmentType.Helmet,\n\tEquipmentType.Ring,\n\tEquipmentType.Shield,\n] as const;\n\nexport const EQUIPMENT_TYPE_NAME_MAP: Record<EquipmentType, string> = {\n\t[EquipmentType.Amulet]: \"Amulet\",\n\t[EquipmentType.Armour]: \"Armour\",\n\t[EquipmentType.Belt]: \"Belt\",\n\t[EquipmentType.Boots]: \"Boots\",\n\t[EquipmentType.Gloves]: \"Gloves\",\n\t[EquipmentType.Helmet]: \"Helmet\",\n\t[EquipmentType.Ring]: \"Ring\",\n\t[EquipmentType.Shield]: \"Shield\",\n\t[EquipmentType.Weapon]: \"Weapon\",\n};\n\nexport const EQUIPMENT_SLOT_TYPE_MAP: Record<EquipmentType, EquipmentSlot[]> = {\n\t[EquipmentType.Helmet]: [EquipmentSlot.Head],\n\t[EquipmentType.Amulet]: [EquipmentSlot.Neck],\n\t[EquipmentType.Armour]: [EquipmentSlot.Body],\n\t[EquipmentType.Belt]: [EquipmentSlot.Waist],\n\t[EquipmentType.Gloves]: [EquipmentSlot.Hands],\n\t[EquipmentType.Boots]: [EquipmentSlot.Feet],\n\t[EquipmentType.Ring]: [EquipmentSlot.Finger1, EquipmentSlot.Finger2],\n\t[EquipmentType.Weapon]: [EquipmentSlot.Hand1, EquipmentSlot.Hand2],\n\t[EquipmentType.Shield]: [EquipmentSlot.Hand2],\n};\n\nexport const EQUIPMENT_SLOTS = [\n\tEquipmentSlot.Head,\n\tEquipmentSlot.Neck,\n\tEquipmentSlot.Body,\n\tEquipmentSlot.Waist,\n\tEquipmentSlot.Hands,\n\tEquipmentSlot.Feet,\n\tEquipmentSlot.Finger1,\n\tEquipmentSlot.Finger2,\n\tEquipmentSlot.Hand1,\n\tEquipmentSlot.Hand2,\n] as const;\n\nexport const EQUIPMENT_SLOT_NAME_MAP: Record<EquipmentSlot, string> = {\n\t[EquipmentSlot.Head]: \"Head\",\n\t[EquipmentSlot.Neck]: \"Neck\",\n\t[EquipmentSlot.Body]: \"Body\",\n\t[EquipmentSlot.Waist]: \"Waist\",\n\t[EquipmentSlot.Hands]: \"Hands\",\n\t[EquipmentSlot.Feet]: \"Feet\",\n\t[EquipmentSlot.Finger1]: \"Finger\",\n\t[EquipmentSlot.Finger2]: \"Finger\",\n\t[EquipmentSlot.Hand1]: \"Main Hand\",\n\t[EquipmentSlot.Hand2]: \"Off Hand\",\n};\n","import { EffectType, SkillType, Target } from \"common/utils\";\nimport { ISkill, ISkillFilters, TOrder, TSkillsOrderBy } from \"common/types\";\n\nexport const getSkillType = (skill: ISkill) => {\n\tconst { effects, target } = skill;\n\tconst effectTypes = effects.map((effect) => effect.type);\n\n\tif (target === Target.Enemy) {\n\t\tif (effectTypes.includes(EffectType.WeaponDamage)) {\n\t\t\treturn SkillType.WeaponAttack;\n\t\t}\n\n\t\tif (effectTypes.includes(EffectType.Damage)) {\n\t\t\treturn SkillType.Attack;\n\t\t}\n\n\t\tif (\n\t\t\teffectTypes.includes(EffectType.Status) ||\n\t\t\teffectTypes.includes(EffectType.Auxiliary)\n\t\t) {\n\t\t\treturn SkillType.Debuff;\n\t\t}\n\t}\n\n\tif (target === Target.Self) {\n\t\tif (effectTypes.includes(EffectType.Heal)) {\n\t\t\treturn SkillType.Heal;\n\t\t}\n\n\t\tif (\n\t\t\teffectTypes.includes(EffectType.Status) ||\n\t\t\teffectTypes.includes(EffectType.Auxiliary)\n\t\t) {\n\t\t\treturn SkillType.Buff;\n\t\t}\n\t}\n\n\treturn SkillType.Other;\n};\n\nconst descendingComparator = (\n\ta: ISkill,\n\tb: ISkill,\n\torderBy: TSkillsOrderBy\n) => {\n\tconst first = orderBy === \"type\" ? getSkillType(a) : a[orderBy];\n\tconst second = orderBy === \"type\" ? getSkillType(b) : b[orderBy];\n\tif (second < first) {\n\t\treturn -1;\n\t}\n\tif (second > first) {\n\t\treturn 1;\n\t}\n\treturn 0;\n};\n\nexport const getSkillsComparator = (\n\torder: TOrder,\n\torderBy: TSkillsOrderBy\n): ((a: ISkill, b: ISkill) => number) => {\n\treturn order === \"desc\"\n\t\t? (a, b) => descendingComparator(a, b, orderBy)\n\t\t: (a, b) => -descendingComparator(a, b, orderBy);\n};\n\nexport const applySkillsFilters = (\n\tfilters: ISkillFilters\n): ((skill: ISkill) => boolean) => {\n\treturn (skill) => {\n\t\tconst nameFilter = skill.name\n\t\t\t.toLowerCase()\n\t\t\t.includes(filters.name.toLowerCase());\n\t\tconst classFilter =\n\t\t\tfilters.class === \"all\" || skill.class === filters.class;\n\t\tconst typeFilter =\n\t\t\tfilters.type === \"all\" || getSkillType(skill) === filters.type;\n\t\tconst priceFilter = filters.price >= skill.price;\n\t\tconst levelFilter = filters.level >= skill.level;\n\t\treturn (\n\t\t\tnameFilter &&\n\t\t\tclassFilter &&\n\t\t\ttypeFilter &&\n\t\t\tpriceFilter &&\n\t\t\tlevelFilter\n\t\t);\n\t};\n};\n","import { Stat } from \"common/utils\";\nimport {\n\tIMonster,\n\tIMonsterFilters,\n\tTMonstersOrderBy,\n\tTOrder,\n} from \"common/types\";\n\nconst descendingComparator = (\n\ta: IMonster,\n\tb: IMonster,\n\torderBy: TMonstersOrderBy\n) => {\n\tconst first =\n\t\torderBy in a.stats\n\t\t\t? a.stats[orderBy as Stat]\n\t\t\t: a[orderBy as keyof IMonster] || 0;\n\tconst second =\n\t\torderBy in b.stats\n\t\t\t? b.stats[orderBy as Stat]\n\t\t\t: b[orderBy as keyof IMonster] || 0;\n\n\tif (second < first) {\n\t\treturn -1;\n\t}\n\tif (second > first) {\n\t\treturn 1;\n\t}\n\treturn 0;\n};\n\nexport const getMonstersComparator = (\n\torder: TOrder,\n\torderBy: TMonstersOrderBy\n): ((a: IMonster, b: IMonster) => number) => {\n\treturn order === \"desc\"\n\t\t? (a, b) => descendingComparator(a, b, orderBy)\n\t\t: (a, b) => -descendingComparator(a, b, orderBy);\n};\n\nexport const applyMonstersFilters = (\n\tfilters: IMonsterFilters\n): ((monster: IMonster) => boolean) => {\n\treturn (monster) => {\n\t\tconst nameFilter = monster.name\n\t\t\t.toLowerCase()\n\t\t\t.includes(filters.name.toLowerCase());\n\t\tconst challengeFilter = filters.challenge >= monster.challenge;\n\t\treturn nameFilter && challengeFilter;\n\t};\n};\n","import { IWeapon, IWeaponFilters, TOrder, TWeaponsOrderBy } from \"common/types\";\n\nconst descendingComparator = (\n\ta: IWeapon,\n\tb: IWeapon,\n\torderBy: TWeaponsOrderBy\n) => {\n\tconst first = a[orderBy] || 0;\n\tconst second = b[orderBy] || 0;\n\tif (second < first) {\n\t\treturn -1;\n\t}\n\tif (second > first) {\n\t\treturn 1;\n\t}\n\treturn 0;\n};\n\nexport const getWeaponsComparator = (\n\torder: TOrder,\n\torderBy: TWeaponsOrderBy\n): ((a: IWeapon, b: IWeapon) => number) => {\n\treturn order === \"desc\"\n\t\t? (a, b) => descendingComparator(a, b, orderBy)\n\t\t: (a, b) => -descendingComparator(a, b, orderBy);\n};\n\nexport const applyWeaponsFilters = (\n\tfilters: IWeaponFilters\n): ((weapon: IWeapon) => boolean) => {\n\treturn (weapon) => {\n\t\tconst nameFilter = weapon.name\n\t\t\t.toLowerCase()\n\t\t\t.includes(filters.name.toLowerCase());\n\t\tconst typeFilter =\n\t\t\tfilters.type === \"all\" || weapon.weaponType === filters.type;\n\t\tconst damageTypeFilter =\n\t\t\tfilters.damageType === \"all\" ||\n\t\t\tweapon.damageType === filters.damageType;\n\t\tconst priceFilter = filters.price >= weapon.price;\n\t\tconst levelFilter = filters.level >= weapon.level;\n\t\treturn (\n\t\t\tnameFilter &&\n\t\t\ttypeFilter &&\n\t\t\tdamageTypeFilter &&\n\t\t\tpriceFilter &&\n\t\t\tlevelFilter\n\t\t);\n\t};\n};\n","import { IArmour, IArmourFilters, TArmoursOrderBy, TOrder } from \"common/types\";\n\nconst descendingComparator = (\n\ta: IArmour,\n\tb: IArmour,\n\torderBy: TArmoursOrderBy\n) => {\n\tconst first = a[orderBy] || 0;\n\tconst second = b[orderBy] || 0;\n\tif (second < first) {\n\t\treturn -1;\n\t}\n\tif (second > first) {\n\t\treturn 1;\n\t}\n\treturn 0;\n};\n\nexport const getArmoursComparator = (\n\torder: TOrder,\n\torderBy: TArmoursOrderBy\n): ((a: IArmour, b: IArmour) => number) => {\n\treturn order === \"desc\"\n\t\t? (a, b) => descendingComparator(a, b, orderBy)\n\t\t: (a, b) => -descendingComparator(a, b, orderBy);\n};\n\nexport const applyArmoursFilters = (\n\tfilters: IArmourFilters\n): ((armour: IArmour) => boolean) => {\n\treturn (armour) => {\n\t\tconst nameFilter = armour.name\n\t\t\t.toLowerCase()\n\t\t\t.includes(filters.name.toLowerCase());\n\t\tconst typeFilter =\n\t\t\tfilters.type === \"all\" || armour.type === filters.type;\n\t\tconst priceFilter = filters.price >= armour.price;\n\t\tconst levelFilter = filters.level >= armour.level;\n\t\treturn nameFilter && typeFilter && priceFilter && levelFilter;\n\t};\n};\n","import { TStats, TDamageTypes } from \"common/types\";\nimport {\n\tAUXILLARY_RESISTANCES,\n\tDamageType,\n\tELEMENTAL_RESISTANCES,\n\tPHYSICAL_RESISTANCES,\n\tRESISTANCES,\n\tRESISTANCES_NAME_MAP,\n\tStat,\n\tSTATS,\n\tSTATS_NAME_MAP,\n} from \"common/utils\";\n\nexport const getStatsArray = (stats: TStats) =>\n\tSTATS.map((stat) => ({\n\t\tkey: stat,\n\t\tname: STATS_NAME_MAP[stat],\n\t\tvalue: stats[stat],\n\t}));\n\nexport const getPartialStatsArray = (stats: Partial<TStats>) =>\n\tObject.keys(stats).map((stat) => ({\n\t\tkey: stat,\n\t\tname: STATS_NAME_MAP[stat as Stat],\n\t\tvalue: stats[stat as Stat] as number,\n\t}));\n\nexport const getResistancesArray = (stats: TDamageTypes) =>\n\tRESISTANCES.map((stat) => ({\n\t\tkey: stat,\n\t\tname: RESISTANCES_NAME_MAP[stat],\n\t\tvalue: stats[stat],\n\t}));\n\nexport const getPartialResistancesArray = (stats: Partial<TDamageTypes>) =>\n\tObject.keys(stats).map((stat) => ({\n\t\tkey: stat,\n\t\tname: RESISTANCES_NAME_MAP[stat as DamageType],\n\t\tvalue: stats[stat as DamageType] as number,\n\t}));\n\nexport const getPhysicalResistancesArray = (stats: TDamageTypes) =>\n\tPHYSICAL_RESISTANCES.map((stat) => ({\n\t\tkey: stat,\n\t\tname: RESISTANCES_NAME_MAP[stat],\n\t\tvalue: stats[stat],\n\t}));\n\nexport const getElementalResistancesArray = (stats: TDamageTypes) =>\n\tELEMENTAL_RESISTANCES.map((stat) => ({\n\t\tkey: stat,\n\t\tname: RESISTANCES_NAME_MAP[stat],\n\t\tvalue: stats[stat],\n\t}));\n\nexport const getAuxillaryResistancesArray = (stats: TDamageTypes) =>\n\tAUXILLARY_RESISTANCES.map((stat) => ({\n\t\tkey: stat,\n\t\tname: RESISTANCES_NAME_MAP[stat],\n\t\tvalue: stats[stat],\n\t}));\n\nexport const getKeyFromName = (name: string) =>\n\tname.toLowerCase().replaceAll(\" \", \"_\").trim();\n\nexport * from \"./skills\";\nexport * from \"./monsters\";\nexport * from \"./weapons\";\nexport * from \"./armours\";\n","import { Box, Typography } from \"@mui/material\";\nimport { IStatusEffect } from \"common/types\";\nimport {\n\tDamageType,\n\tRESISTANCES_NAME_MAP,\n\tStat,\n\tSTATS_NAME_MAP,\n} from \"common/utils\";\n\nexport const StatusEffect: React.FC<IStatusEffect> = ({\n\tmodifiers,\n\taccuracy,\n\tduration,\n}) => {\n\tconst { stats, resistances } = modifiers;\n\n\treturn (\n\t\t<Box component=\"ul\" sx={{ margin: 0 }}>\n\t\t\t<Typography component=\"li\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tAccuracy:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{accuracy}%\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tDuration:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{duration} turns\n\t\t\t</Typography>\n\t\t\t{stats && (\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\t\tStat Modifiers\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box component=\"ul\">\n\t\t\t\t\t\t{Object.keys(stats).map((stat) => (\n\t\t\t\t\t\t\t<Typography key={stat} component=\"li\">\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{STATS_NAME_MAP[stat as Stat]}:{\" \"}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{stats[stat as Stat]}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Box>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t\t{resistances && (\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\t\tResistance Modifiers\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box component=\"ul\">\n\t\t\t\t\t\t{Object.keys(resistances).map((resistance) => (\n\t\t\t\t\t\t\t<Typography key={resistance} component=\"li\">\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tRESISTANCES_NAME_MAP[\n\t\t\t\t\t\t\t\t\t\t\tresistance as DamageType\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t:{\" \"}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{resistances[resistance as DamageType]}%\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Box>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</Box>\n\t);\n};\n","import { Box, Typography } from \"@mui/material\";\nimport { IDamageEffect } from \"common/types\";\nimport { RESISTANCES_NAME_MAP, STATS_NAME_MAP } from \"common/utils\";\n\nexport const DamageEffect: React.FC<IDamageEffect> = ({\n\tdamageType,\n\tmodifier,\n\tmultiplier,\n\tmin,\n\tmax,\n}) => {\n\treturn (\n\t\t<Box component=\"ul\" sx={{ margin: 0 }}>\n\t\t\t<Typography component=\"li\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tDamage Type:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{RESISTANCES_NAME_MAP[damageType]}\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tModifier:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{STATS_NAME_MAP[modifier]}\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tMultiplier:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\tx{multiplier}\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tDamage:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{min}-{max}\n\t\t\t</Typography>\n\t\t</Box>\n\t);\n};\n","import { Box, Typography } from \"@mui/material\";\nimport { IHealEffect } from \"common/types\";\nimport { STATS_NAME_MAP } from \"common/utils\";\n\nexport const HealEffect: React.FC<IHealEffect> = ({\n\tmodifier,\n\tmultiplier,\n\tmin,\n\tmax,\n}) => {\n\treturn (\n\t\t<Box component=\"ul\" sx={{ margin: 0 }}>\n\t\t\t<Typography component=\"li\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tModifier:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{STATS_NAME_MAP[modifier]}\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tMultiplier:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\tx{multiplier}\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tHealth:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{min}-{max}\n\t\t\t</Typography>\n\t\t</Box>\n\t);\n};\n","import { Box, Typography } from \"@mui/material\";\nimport { IAuxiliaryEffect } from \"common/types\";\nimport { AUXILIARY_EFFECTS_NAME_MAP } from \"common/utils\";\n\nexport const AuxiliaryEffect: React.FC<IAuxiliaryEffect> = ({\n\teffect,\n\taccuracy,\n\tduration,\n}) => {\n\treturn (\n\t\t<Box component=\"ul\" sx={{ margin: 0 }}>\n\t\t\t<Typography component=\"li\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tAccuracy:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{accuracy}%\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tDuration:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{duration} turns\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tEffect:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{AUXILIARY_EFFECTS_NAME_MAP[effect]}\n\t\t\t</Typography>\n\t\t</Box>\n\t);\n};\n","import { Box, Typography } from \"@mui/material\";\nimport { IWeaponDamageEffect } from \"common/types\";\n\nexport const WeaponDamageEffect: React.FC<IWeaponDamageEffect> = ({\n\tmultiplier,\n}) => {\n\treturn (\n\t\t<Box component=\"ul\" sx={{ margin: 0 }}>\n\t\t\t<Typography component=\"li\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tMultiplier:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\tx{multiplier}\n\t\t\t</Typography>\n\t\t</Box>\n\t);\n};\n","import {\n\tCard,\n\tCardContent,\n\tCardHeader,\n\tCollapse,\n\tIconButton,\n\tIconButtonProps,\n\tstyled,\n} from \"@mui/material\";\nimport { ISkillEffect } from \"common/types\";\nimport { EFFECTS_NAME_MAP, EffectType } from \"common/utils\";\nimport { StatusEffect } from \"./StatusEffect\";\nimport { DamageEffect } from \"./DamageEffect\";\nimport { HealEffect } from \"./HealEffect\";\nimport { AuxiliaryEffect } from \"./AuxiliaryEffect\";\nimport { useState } from \"react\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport { WeaponDamageEffect } from \"./WeaponDamageEffect\";\n\ninterface ExpandMoreProps extends IconButtonProps {\n\texpand: boolean;\n}\n\nconst ExpandMore = styled((props: ExpandMoreProps) => {\n\tconst { expand, ...other } = props;\n\treturn <IconButton {...other} />;\n})(({ theme, expand }) => ({\n\ttransform: !expand ? \"rotate(0deg)\" : \"rotate(180deg)\",\n\ttransition: theme.transitions.create(\"transform\", {\n\t\tduration: theme.transitions.duration.shortest,\n\t}),\n}));\n\nexport const EffectCard: React.FC<ISkillEffect> = (effect) => {\n\tconst [expanded, setExpanded] = useState(false);\n\n\tconst handleExpandClick = () => {\n\t\tsetExpanded(!expanded);\n\t};\n\n\tconst getEffectDetails = () => {\n\t\tswitch (effect.type) {\n\t\t\tcase EffectType.WeaponDamage:\n\t\t\t\treturn <WeaponDamageEffect {...effect} />;\n\t\t\tcase EffectType.Damage:\n\t\t\t\treturn <DamageEffect {...effect} />;\n\t\t\tcase EffectType.Heal:\n\t\t\t\treturn <HealEffect {...effect} />;\n\t\t\tcase EffectType.Status:\n\t\t\t\treturn <StatusEffect {...effect} />;\n\t\t\tcase EffectType.Auxiliary:\n\t\t\t\treturn <AuxiliaryEffect {...effect} />;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t};\n\n\treturn (\n\t\t<Card variant=\"outlined\">\n\t\t\t<CardHeader\n\t\t\t\ttitle={EFFECTS_NAME_MAP[effect.type]}\n\t\t\t\taction={\n\t\t\t\t\t<ExpandMore\n\t\t\t\t\t\texpand={expanded}\n\t\t\t\t\t\tonClick={handleExpandClick}\n\t\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\t\taria-label=\"show more\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ExpandMoreIcon />\n\t\t\t\t\t</ExpandMore>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n\t\t\t\t<CardContent>{getEffectDetails()}</CardContent>\n\t\t\t</Collapse>\n\t\t</Card>\n\t);\n};\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\nimport type { RootState, AppDispatch } from \"app/store\";\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { IArmour, IMonster, ISkill, ISkillEffect, IWeapon } from \"common/types\";\n\ninterface ModalsState {\n\tloginModalOpen: boolean;\n\tconfirmationModalOpen: boolean;\n\terrorModal: {\n\t\topen: boolean;\n\t\ttitle?: string;\n\t\tmessage?: string;\n\t};\n\tmonsterModal: {\n\t\topen: boolean;\n\t\tmonster?: IMonster;\n\t};\n\tskillModal: {\n\t\topen: boolean;\n\t\tskill?: ISkill;\n\t};\n\tweaponModal: {\n\t\topen: boolean;\n\t\tweapon?: IWeapon;\n\t};\n\tarmourModal: {\n\t\topen: boolean;\n\t\tarmour?: IArmour;\n\t};\n\teffectModal: {\n\t\topen: boolean;\n\t\teffect?: ISkillEffect;\n\t\tindex?: number;\n\t};\n\taddSkillsModalOpen: boolean;\n\taddEquipmentModalOpen: boolean;\n}\n\nconst initialState: ModalsState = {\n\tloginModalOpen: false,\n\tconfirmationModalOpen: false,\n\terrorModal: {\n\t\topen: false,\n\t},\n\tmonsterModal: {\n\t\topen: false,\n\t},\n\tskillModal: {\n\t\topen: false,\n\t},\n\tweaponModal: {\n\t\topen: false,\n\t},\n\tarmourModal: {\n\t\topen: false,\n\t},\n\teffectModal: {\n\t\topen: false,\n\t},\n\taddSkillsModalOpen: false,\n\taddEquipmentModalOpen: false,\n};\n\nexport const modalsSlice = createSlice({\n\tname: \"modals\",\n\tinitialState,\n\treducers: {\n\t\topenLoginModal: (state) => {\n\t\t\tstate.loginModalOpen = true;\n\t\t},\n\t\tcloseLoginModal: (state) => {\n\t\t\tstate.loginModalOpen = false;\n\t\t},\n\t\topenConfirmationModal: (state) => {\n\t\t\tstate.confirmationModalOpen = true;\n\t\t},\n\t\tcloseConfirmationModal: (state) => {\n\t\t\tstate.confirmationModalOpen = false;\n\t\t},\n\t\topenErrorModal: (\n\t\t\tstate,\n\t\t\taction: PayloadAction<{ title?: string; message?: string }>\n\t\t) => {\n\t\t\tstate.errorModal.open = true;\n\t\t\tstate.errorModal.title = action.payload.title;\n\t\t\tstate.errorModal.message = action.payload.message;\n\t\t},\n\t\tcloseErrorModal: (state) => {\n\t\t\tstate.errorModal.open = false;\n\t\t\tstate.errorModal.title = undefined;\n\t\t\tstate.errorModal.message = undefined;\n\t\t},\n\t\topenMonsterModal: (\n\t\t\tstate,\n\t\t\taction: PayloadAction<IMonster | undefined>\n\t\t) => {\n\t\t\tstate.monsterModal.open = true;\n\t\t\tstate.monsterModal.monster = action.payload;\n\t\t},\n\t\tcloseMonsterModal: (state) => {\n\t\t\tstate.monsterModal.open = false;\n\t\t\tstate.monsterModal.monster = undefined;\n\t\t},\n\t\topenSkillModal: (state, action: PayloadAction<ISkill | undefined>) => {\n\t\t\tstate.skillModal.open = true;\n\t\t\tstate.skillModal.skill = action.payload;\n\t\t},\n\t\tcloseSkillModal: (state) => {\n\t\t\tstate.skillModal.open = false;\n\t\t\tstate.skillModal.skill = undefined;\n\t\t},\n\t\topenWeaponModal: (\n\t\t\tstate,\n\t\t\taction: PayloadAction<IWeapon | undefined>\n\t\t) => {\n\t\t\tstate.weaponModal.open = true;\n\t\t\tstate.weaponModal.weapon = action.payload;\n\t\t},\n\t\tcloseWeaponModal: (state) => {\n\t\t\tstate.weaponModal.open = false;\n\t\t\tstate.weaponModal.weapon = undefined;\n\t\t},\n\t\topenArmourModal: (\n\t\t\tstate,\n\t\t\taction: PayloadAction<IArmour | undefined>\n\t\t) => {\n\t\t\tstate.armourModal.open = true;\n\t\t\tstate.armourModal.armour = action.payload;\n\t\t},\n\t\tcloseArmourModal: (state) => {\n\t\t\tstate.armourModal.open = false;\n\t\t\tstate.armourModal.armour = undefined;\n\t\t},\n\t\topenEffectModal: (\n\t\t\tstate,\n\t\t\taction: PayloadAction<{ effect?: ISkillEffect; index?: number }>\n\t\t) => {\n\t\t\tstate.effectModal.open = true;\n\t\t\tstate.effectModal.effect = action.payload.effect;\n\t\t\tstate.effectModal.index = action.payload.index;\n\t\t},\n\t\tcloseEffectModal: (state) => {\n\t\t\tstate.effectModal.open = false;\n\t\t\tstate.effectModal.effect = undefined;\n\t\t\tstate.effectModal.index = undefined;\n\t\t},\n\t\topenAddSkillsModal: (state) => {\n\t\t\tstate.addSkillsModalOpen = true;\n\t\t},\n\t\tcloseAddSkillsModal: (state) => {\n\t\t\tstate.addSkillsModalOpen = false;\n\t\t},\n\t\topenAddEquipmentModal: (state) => {\n\t\t\tstate.addEquipmentModalOpen = true;\n\t\t},\n\t\tcloseAddEquipmentModal: (state) => {\n\t\t\tstate.addEquipmentModalOpen = false;\n\t\t},\n\t},\n});\n\n// Action creators are generated for each case reducer function\nexport const {\n\topenLoginModal,\n\tcloseLoginModal,\n\topenConfirmationModal,\n\tcloseConfirmationModal,\n\topenErrorModal,\n\tcloseErrorModal,\n\topenMonsterModal,\n\tcloseMonsterModal,\n\topenSkillModal,\n\tcloseSkillModal,\n\topenWeaponModal,\n\tcloseWeaponModal,\n\topenArmourModal,\n\tcloseArmourModal,\n\topenEffectModal,\n\tcloseEffectModal,\n\topenAddSkillsModal,\n\tcloseAddSkillsModal,\n\topenAddEquipmentModal,\n\tcloseAddEquipmentModal,\n} = modalsSlice.actions;\n\nexport default modalsSlice.reducer;\n","import { createContext, Dispatch, useContext } from \"react\";\nimport { TEquipment } from \"common/types\";\nimport { EquipmentSlot } from \"common/utils\";\n\ntype TAddEquipmentFormAction =\n\t| {\n\t\t\ttype: \"ADD\" | \"REMOVE\";\n\t\t\tpayload: {\n\t\t\t\tslot: EquipmentSlot;\n\t\t\t\tvalue: string;\n\t\t\t};\n\t  }\n\t| {\n\t\t\ttype: \"RESET\";\n\t\t\tpayload: Partial<TEquipment>;\n\t  };\n\nexport const addEquipmentReducer = (\n\tstate: Partial<TEquipment>,\n\taction: TAddEquipmentFormAction\n) => {\n\tswitch (action.type) {\n\t\tcase \"ADD\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[action.payload.slot]: action.payload.value,\n\t\t\t};\n\t\tcase \"REMOVE\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[action.payload.slot]: undefined,\n\t\t\t};\n\t\tcase \"RESET\":\n\t\t\treturn action.payload;\n\t\tdefault:\n\t\t\tthrow Error(\"Unknown action\");\n\t}\n};\n\ninterface IContextProps {\n\tstate: Partial<TEquipment>;\n\tdispatch: Dispatch<TAddEquipmentFormAction>;\n}\n\nexport const AddEquipmentContext = createContext<IContextProps | null>(null);\n\nexport const useAddEquipmentContext = () => {\n\tconst addEquipmentContext = useContext(AddEquipmentContext);\n\tif (!addEquipmentContext) {\n\t\tthrow new Error(\n\t\t\t\"No AddEquipmentContext.Provider found when calling useAddEquipmentContext.\"\n\t\t);\n\t}\n\treturn addEquipmentContext;\n};\n","import { createContext, Dispatch, useContext } from \"react\";\nimport { AuxiliaryEffect, DamageType, EffectType, Stat } from \"common/utils\";\nimport {\n\tIAuxiliaryEffect,\n\tIDamageEffect,\n\tIHealEffect,\n\tISkillEffect,\n\tIStatusEffect,\n\tIWeaponDamageEffect,\n} from \"common/types\";\n\ntype TEffectFormAction =\n\t| {\n\t\t\ttype: \"UPDATE\";\n\t\t\tpayload: ISkillEffect;\n\t  }\n\t| {\n\t\t\ttype: \"RESET\";\n\t  };\n\nexport interface IEffectState {\n\tweaponDamageEffectForm: IWeaponDamageEffect;\n\tdamageEffectForm: IDamageEffect;\n\thealEffectForm: IHealEffect;\n\tstatusEffectForm: IStatusEffect;\n\tauxiliaryEffectForm: IAuxiliaryEffect;\n}\n\nconst defaultWeaponDamageEffectValues: IWeaponDamageEffect = {\n\ttype: EffectType.WeaponDamage,\n\tmultiplier: 1,\n};\n\nconst defaultDamageEffectValues: IDamageEffect = {\n\ttype: EffectType.Damage,\n\tdamageType: DamageType.Slashing,\n\tmodifier: Stat.Strength,\n\tmultiplier: 1,\n\tmin: 1,\n\tmax: 6,\n};\n\nconst defaultHealEffectValues: IHealEffect = {\n\ttype: EffectType.Heal,\n\tmodifier: Stat.Wisdom,\n\tmultiplier: 1,\n\tmin: 1,\n\tmax: 6,\n};\n\nconst defaultStatusEffectValues: IStatusEffect = {\n\ttype: EffectType.Status,\n\tmodifiers: {\n\t\tstats: {},\n\t\tresistances: {},\n\t},\n\taccuracy: 100,\n\tduration: 5,\n};\n\nconst defaultAuxiliaryEffectValues: IAuxiliaryEffect = {\n\ttype: EffectType.Auxiliary,\n\teffect: AuxiliaryEffect.Stun,\n\taccuracy: 50,\n\tduration: 3,\n};\n\nexport const initialEffectState: IEffectState = {\n\tweaponDamageEffectForm: defaultWeaponDamageEffectValues,\n\tdamageEffectForm: defaultDamageEffectValues,\n\thealEffectForm: defaultHealEffectValues,\n\tstatusEffectForm: defaultStatusEffectValues,\n\tauxiliaryEffectForm: defaultAuxiliaryEffectValues,\n};\n\nexport const effectReducer = (\n\tstate: IEffectState,\n\taction: TEffectFormAction\n) => {\n\tif (action.type === \"UPDATE\") {\n\t\tconst { payload } = action;\n\t\tswitch (payload.type) {\n\t\t\tcase EffectType.WeaponDamage:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tweaponDamageEffectForm: payload,\n\t\t\t\t};\n\t\t\tcase EffectType.Damage:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tdamageEffectForm: payload,\n\t\t\t\t};\n\t\t\tcase EffectType.Heal:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\thealEffectForm: payload,\n\t\t\t\t};\n\t\t\tcase EffectType.Status:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tstatusEffectForm: payload,\n\t\t\t\t};\n\t\t\tcase EffectType.Auxiliary:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tauxiliaryEffectForm: payload,\n\t\t\t\t};\n\t\t}\n\t}\n\n\tif (action.type === \"RESET\") {\n\t\treturn initialEffectState;\n\t}\n\n\tthrow Error(\"Unknown action\");\n};\n\ninterface IContextProps {\n\tstate: IEffectState;\n\tdispatch: Dispatch<TEffectFormAction>;\n}\n\nexport const EffectContext = createContext<IContextProps | null>(null);\n\nexport const useEffectContext = () => {\n\tconst effectContext = useContext(EffectContext);\n\tif (!effectContext) {\n\t\tthrow new Error(\n\t\t\t\"No EffectContext.Provider found when calling useEffectContext.\"\n\t\t);\n\t}\n\treturn effectContext;\n};\n","import { createContext, Dispatch, useContext } from \"react\";\n\ntype TAddSkillsFormAction =\n\t| {\n\t\t\ttype: \"ADD\" | \"REMOVE\";\n\t\t\tpayload: string;\n\t  }\n\t| {\n\t\t\ttype: \"RESET\";\n\t\t\tpayload: string[];\n\t  };\n\nexport const addSkillsReducer = (\n\tstate: string[],\n\taction: TAddSkillsFormAction\n) => {\n\tswitch (action.type) {\n\t\tcase \"ADD\":\n\t\t\treturn state.concat(action.payload);\n\t\tcase \"REMOVE\":\n\t\t\treturn state.filter((skill) => skill !== action.payload);\n\t\tcase \"RESET\":\n\t\t\treturn action.payload;\n\t\tdefault:\n\t\t\tthrow Error(\"Unknown action\");\n\t}\n};\n\ninterface IContextProps {\n\tstate: string[];\n\tdispatch: Dispatch<TAddSkillsFormAction>;\n}\n\nexport const AddSkillsContext = createContext<IContextProps | null>(null);\n\nexport const useAddSkillsContext = () => {\n\tconst addSkillsContext = useContext(AddSkillsContext);\n\tif (!addSkillsContext) {\n\t\tthrow new Error(\n\t\t\t\"No AddSkillsContext.Provider found when calling useAddSkillsContext.\"\n\t\t);\n\t}\n\treturn addSkillsContext;\n};\n","import React from \"react\";\nimport firebase from \"firebase/app\";\n\nexport const AuthContext = React.createContext<firebase.User | null>(null);\n","import {\n\tBox,\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tTab,\n\tTabs,\n} from \"@mui/material\";\nimport { useEffect, useReducer, useState } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { closeAddEquipmentModal } from \"features/modals/modalsSlice\";\nimport { ArmoursTable, WeaponsTable } from \"common/components\";\nimport { AddEquipmentContext, addEquipmentReducer } from \"common/context\";\nimport { TEquipment } from \"common/types\";\n\ninterface TabPanelProps {\n\tchildren?: React.ReactNode;\n\tindex: number;\n\tvalue: number;\n}\n\nconst TabPanel: React.FC<TabPanelProps> = (props) => {\n\tconst { children, value, index, ...other } = props;\n\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`tabpanel-${index}`}\n\t\t\taria-labelledby={`equipment-tab-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && <Box sx={{ p: 3 }}>{children}</Box>}\n\t\t</div>\n\t);\n};\n\ninterface IProps {\n\tequipment: Partial<TEquipment>;\n\tonSetEquipment: (equipment: Partial<TEquipment>) => void;\n}\n\nexport const AddEquipmentModal: React.FC<IProps> = ({\n\tequipment,\n\tonSetEquipment,\n}) => {\n\tconst dispatch = useAppDispatch();\n\tconst open = useAppSelector((state) => state.modals.addEquipmentModalOpen);\n\tconst [state, localDispatch] = useReducer(addEquipmentReducer, equipment);\n\tconst [activeTab, setActiveTab] = useState(0);\n\n\tconst providerState = {\n\t\tstate,\n\t\tdispatch: localDispatch,\n\t};\n\n\tuseEffect(() => {\n\t\tif (open) {\n\t\t\tlocalDispatch({ type: \"RESET\", payload: equipment });\n\t\t}\n\t}, [open, equipment]);\n\n\tconst handleClose = () => {\n\t\tdispatch(closeAddEquipmentModal());\n\t};\n\n\tconst handleConfirm = () => {\n\t\tonSetEquipment(state);\n\t\tdispatch(closeAddEquipmentModal());\n\t};\n\n\tconst handleChangeTab = (event: React.SyntheticEvent, newValue: number) => {\n\t\tsetActiveTab(newValue);\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t\tfullWidth\n\t\t\tmaxWidth=\"lg\"\n\t\t>\n\t\t\t<DialogTitle id=\"form-dialog-title\">Add Equipment</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<Box sx={{ width: \"100%\" }}>\n\t\t\t\t\t<Box sx={{ borderBottom: 1, borderColor: \"divider\" }}>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={activeTab}\n\t\t\t\t\t\t\tonChange={handleChangeTab}\n\t\t\t\t\t\t\taria-label=\"equipment table tabs\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Weapons\"\n\t\t\t\t\t\t\t\tid=\"equipment-tab-0\"\n\t\t\t\t\t\t\t\taria-controls=\"tabpanel-0\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tlabel=\"Armour\"\n\t\t\t\t\t\t\t\tid=\"equipment-tab-1\"\n\t\t\t\t\t\t\t\taria-controls=\"tabpanel-1\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<TabPanel value={activeTab} index={0}>\n\t\t\t\t\t\t<AddEquipmentContext.Provider value={providerState}>\n\t\t\t\t\t\t\t<WeaponsTable type=\"addWeapons\" />\n\t\t\t\t\t\t</AddEquipmentContext.Provider>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel value={activeTab} index={1}>\n\t\t\t\t\t\t<AddEquipmentContext.Provider value={providerState}>\n\t\t\t\t\t\t\t<ArmoursTable type=\"addArmours\" />\n\t\t\t\t\t\t</AddEquipmentContext.Provider>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t</Box>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\t\tCancel\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={handleConfirm} color=\"primary\">\n\t\t\t\t\tConfirm\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n","import {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n} from \"@mui/material\";\nimport { useEffect, useReducer } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { closeAddSkillsModal } from \"features/modals/modalsSlice\";\nimport { SkillsTable } from \"common/components\";\nimport { AddSkillsContext, addSkillsReducer } from \"common/context\";\n\ninterface IProps {\n\tskills: string[];\n\tonSetSkills: (skills: string[]) => void;\n}\n\nexport const AddSkillsModal: React.FC<IProps> = ({ skills, onSetSkills }) => {\n\tconst dispatch = useAppDispatch();\n\tconst open = useAppSelector((state) => state.modals.addSkillsModalOpen);\n\tconst [state, localDispatch] = useReducer(addSkillsReducer, skills);\n\n\tconst providerState = {\n\t\tstate,\n\t\tdispatch: localDispatch,\n\t};\n\n\tuseEffect(() => {\n\t\tif (open) {\n\t\t\tlocalDispatch({ type: \"RESET\", payload: skills });\n\t\t}\n\t}, [open, skills]);\n\n\tconst handleClose = () => {\n\t\tdispatch(closeAddSkillsModal());\n\t};\n\n\tconst handleConfirm = () => {\n\t\tonSetSkills(state);\n\t\tdispatch(closeAddSkillsModal());\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t\tfullWidth\n\t\t\tmaxWidth=\"lg\"\n\t\t>\n\t\t\t<DialogTitle id=\"form-dialog-title\">Add Skills</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<AddSkillsContext.Provider value={providerState}>\n\t\t\t\t\t<SkillsTable type=\"addSkills\" />\n\t\t\t\t</AddSkillsContext.Provider>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\t\tCancel\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={handleConfirm} color=\"primary\">\n\t\t\t\t\tConfirm\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n","import {\n\tPaper,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableRow,\n} from \"@mui/material\";\nimport { IArmour } from \"common/types\";\nimport { EQUIPMENT_TYPE_NAME_MAP } from \"common/utils\";\n\nexport const ArmourPropertiesTable: React.FC<IArmour> = (armour) => {\n\treturn (\n\t\t<TableContainer component={Paper}>\n\t\t\t<Table aria-label=\"armour properties table\">\n\t\t\t\t<TableBody>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tType\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t{EQUIPMENT_TYPE_NAME_MAP[armour.type]}\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDefense\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">{armour.defense}</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLevel\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">{armour.level}</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPrice\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">{armour.price}g</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t);\n};\n","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/storage\";\nimport \"firebase/database\";\n\nconst firebaseConfig = {\n\tapiKey: \"AIzaSyAAH_x0j8TgdkLy1isIz9dVewHi4lvOl94\",\n\tauthDomain: \"monster-manual.firebaseapp.com\",\n\tprojectId: \"monster-manual\",\n\tstorageBucket: \"gs://monster-manual.appspot.com\",\n\tmessagingSenderId: \"275680531047\",\n\tappId: \"1:275680531047:web:16c523bb6980423ad77ac2\",\n\tmeasurementId: \"G-L028ZGMC11\",\n\tdatabaseURL:\n\t\t\"https://monster-manual-default-rtdb.europe-west1.firebasedatabase.app/\",\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const auth = firebase.auth();\nexport const stImages = firebase.storage().ref(\"images\");\nexport const dbMonsters = firebase.database().ref(\"monsters\");\nexport const dbSkills = firebase.database().ref(\"skills\");\nexport const dbWeapons = firebase.database().ref(\"weapons\");\nexport const dbArmours = firebase.database().ref(\"armours\");\n","import {\n\tcreateAsyncThunk,\n\tcreateSelector,\n\tcreateSlice,\n} from \"@reduxjs/toolkit\";\nimport { RootState } from \"app/store\";\nimport { dbArmours, stImages } from \"firebaseSetup\";\nimport { IArmour, IImagePath, ISaveArmour, IUpdateArmour } from \"common/types\";\n\ninterface IArmoursState {\n\tarmours: IArmour[];\n\tarmourImagePaths: IImagePath[];\n\tstatus: \"idle\" | \"loading\" | \"succeeded\" | \"failed\";\n\terror?: string;\n}\n\nconst initialState: IArmoursState = {\n\tarmours: [],\n\tarmourImagePaths: [],\n\tstatus: \"idle\",\n};\n\nexport const fetchArmours = createAsyncThunk(\n\t\"armours/fetchArmours\",\n\tasync (payload: IArmour[]) => payload\n);\n\nexport const fetchArmourImagePath = createAsyncThunk(\n\t\"armours/fetchArmourImagePath\",\n\tasync (payload: IArmour) => {\n\t\ttry {\n\t\t\treturn await stImages\n\t\t\t\t.child(payload.id)\n\t\t\t\t.child(payload.icon)\n\t\t\t\t.getDownloadURL();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const saveArmour = createAsyncThunk(\n\t\"armours/saveArmour\",\n\tasync (payload: ISaveArmour) => {\n\t\ttry {\n\t\t\tconst newArmourRef = dbArmours.push();\n\t\t\tif (payload.image) {\n\t\t\t\tawait stImages\n\t\t\t\t\t.child(newArmourRef.key!)\n\t\t\t\t\t.child(payload.image.name)\n\t\t\t\t\t.put(payload.image);\n\t\t\t}\n\t\t\treturn await newArmourRef.set(payload.armour);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const updateArmour = createAsyncThunk(\n\t\"armours/updateArmour\",\n\tasync (payload: IUpdateArmour) => {\n\t\ttry {\n\t\t\tif (payload.image && payload.oldImage) {\n\t\t\t\tawait stImages\n\t\t\t\t\t.child(payload.id)\n\t\t\t\t\t.child(payload.oldImage)\n\t\t\t\t\t.delete();\n\t\t\t}\n\t\t\tif (payload.image) {\n\t\t\t\tawait stImages\n\t\t\t\t\t.child(payload.id)\n\t\t\t\t\t.child(payload.image.name)\n\t\t\t\t\t.put(payload.image);\n\t\t\t}\n\t\t\treturn await dbArmours.child(payload.id).update(payload.armour);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const deleteArmour = createAsyncThunk(\n\t\"armours/deleteArmour\",\n\tasync (payload: IArmour) => {\n\t\ttry {\n\t\t\tif (payload.icon) {\n\t\t\t\tawait stImages.child(payload.id).child(payload.icon).delete();\n\t\t\t}\n\t\t\treturn await dbArmours.child(payload.id).remove();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const armoursSelector = (state: RootState) => state.armours;\n\nexport const selectArmourById = createSelector(\n\tarmoursSelector,\n\t({ armours }) =>\n\t\t(id: string) =>\n\t\t\tarmours.find((armour) => armour.id === id)\n);\n\nexport const selectArmourImagePathById = createSelector(\n\tarmoursSelector,\n\t({ armourImagePaths }) =>\n\t\t(id: string) =>\n\t\t\tarmourImagePaths.find((armourImage) => armourImage.id === id)\n\t\t\t\t?.imagePath\n);\n\nexport const armoursSlice = createSlice({\n\tname: \"armours\",\n\tinitialState,\n\treducers: {},\n\textraReducers: (builder) => {\n\t\tbuilder.addCase(fetchArmours.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(fetchArmours.fulfilled, (state, action) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t\tstate.armours = action.payload;\n\t\t});\n\t\tbuilder.addCase(fetchArmours.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(fetchArmourImagePath.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(fetchArmourImagePath.fulfilled, (state, action) => {\n\t\t\tconst newArmourImage = {\n\t\t\t\tid: action.meta.arg.id,\n\t\t\t\timagePath: action.payload,\n\t\t\t};\n\n\t\t\tstate.status = \"succeeded\";\n\t\t\tstate.armourImagePaths = state.armourImagePaths\n\t\t\t\t.filter((armourImage) => armourImage.id !== newArmourImage.id)\n\t\t\t\t.concat(newArmourImage);\n\t\t});\n\t\tbuilder.addCase(fetchArmourImagePath.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(saveArmour.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(saveArmour.fulfilled, (state) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t});\n\t\tbuilder.addCase(saveArmour.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(deleteArmour.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(deleteArmour.fulfilled, (state) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t});\n\t\tbuilder.addCase(deleteArmour.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(updateArmour.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(updateArmour.fulfilled, (state) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t});\n\t\tbuilder.addCase(updateArmour.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t},\n});\n\n// Action creators are generated for each case reducer function\n// export const { } = armoursSlice.actions;\n\nexport default armoursSlice.reducer;\n","import {\n\tBox,\n\tDivider,\n\tGrid,\n\tIconButton,\n\tstyled,\n\tTypography,\n} from \"@mui/material\";\nimport { useContext, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { Delete, Edit } from \"@mui/icons-material\";\nimport {\n\tcloseConfirmationModal,\n\tConfirmationModal,\n\topenArmourModal,\n\topenConfirmationModal,\n} from \"features/modals\";\nimport { ArmourPropertiesTable } from \"./ArmourPropertiesTable\";\nimport { AuthContext } from \"common/context\";\nimport { StatsTable } from \"common/components\";\nimport { getPartialResistancesArray, getPartialStatsArray } from \"common/utils\";\nimport {\n\tdeleteArmour,\n\tfetchArmourImagePath,\n\tselectArmourById,\n\tselectArmourImagePathById,\n} from \"./armoursSlice\";\n\nconst Icon = styled(\"img\")({\n\twidth: \"64px\",\n});\n\ninterface IRouteParams {\n\tid: string;\n}\n\nexport const Armour: React.FC = () => {\n\tconst dispatch = useAppDispatch();\n\tlet { id } = useParams<IRouteParams>();\n\tconst user = useContext(AuthContext);\n\tconst armour = useSelector(selectArmourById)(id);\n\tconst armourImagePath = useSelector(selectArmourImagePathById)(id);\n\tconst confirmationModalOpen = useAppSelector(\n\t\t(state) => state.modals.confirmationModalOpen\n\t);\n\tconst isLoading = useAppSelector(\n\t\t(state) => state.skills.status === \"loading\"\n\t);\n\n\tuseEffect(() => {\n\t\tif (armour?.icon) {\n\t\t\tdispatch(fetchArmourImagePath(armour));\n\t\t}\n\t}, [dispatch, armour]);\n\n\tif (!armour) {\n\t\treturn null;\n\t}\n\n\tconst handleUpdate = () => {\n\t\tdispatch(openArmourModal(armour));\n\t};\n\n\tconst handleDelete = async () => {\n\t\tdispatch(openConfirmationModal());\n\t};\n\n\tconst handleCloseConfirmationModal = () => {\n\t\tdispatch(closeConfirmationModal());\n\t};\n\n\tconst handleConfirmDelete = async () => {\n\t\ttry {\n\t\t\tawait dispatch(deleteArmour(armour)).unwrap();\n\t\t\tdispatch(closeConfirmationModal());\n\t\t} catch (error) {\n\t\t\t// TODO: Show error popup\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tflexWrap: \"wrap\",\n\t\t\t\t\tmarginBottom: 2,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography variant=\"h2\">{armour.name}</Typography>\n\t\t\t\t{user && (\n\t\t\t\t\t<Box sx={{ display: \"flex\" }}>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={handleUpdate}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Edit fontSize=\"large\" />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\t\t\tcolor=\"warning\"\n\t\t\t\t\t\t\tonClick={handleDelete}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Delete fontSize=\"large\" />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Box>\n\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tmarginBottom: 4,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\talignItems: \"flex-start\",\n\t\t\t\t\t\tgap: 2,\n\t\t\t\t\t\tmarginBottom: 3,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{armourImagePath && (\n\t\t\t\t\t\t<Icon src={armourImagePath} alt={armour.name} />\n\t\t\t\t\t)}\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"h5\" paragraph>\n\t\t\t\t\t\t\t{armour.description || \"No description available.\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Divider />\n\t\t\t</Box>\n\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tmarginBottom: 4,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tProperties\n\t\t\t\t</Typography>\n\n\t\t\t\t<Grid container spacing={3} marginBottom={3}>\n\t\t\t\t\t<Grid item xs={12} md={4}>\n\t\t\t\t\t\t<ArmourPropertiesTable {...armour} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t{armour.modifiers?.resistances && (\n\t\t\t\t\t\t<Grid item xs={12} md={3} lg={4}>\n\t\t\t\t\t\t\t<StatsTable\n\t\t\t\t\t\t\t\ttitle=\"Resistances\"\n\t\t\t\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t\t\t\t\tstats={getPartialResistancesArray(\n\t\t\t\t\t\t\t\t\tarmour.modifiers.resistances\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t\t{armour.modifiers?.stats && (\n\t\t\t\t\t\t<Grid item xs={12} md={3} lg={4}>\n\t\t\t\t\t\t\t<StatsTable\n\t\t\t\t\t\t\t\ttitle=\"Stats\"\n\t\t\t\t\t\t\t\tstats={getPartialStatsArray(\n\t\t\t\t\t\t\t\t\tarmour.modifiers.stats\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\n\t\t\t<ConfirmationModal\n\t\t\t\topen={confirmationModalOpen}\n\t\t\t\ttitle=\"Are you sure?\"\n\t\t\t\tcontent={`This action will permanently delete ${armour.name} from the database.`}\n\t\t\t\thandleClose={handleCloseConfirmationModal}\n\t\t\t\thandleConfirm={handleConfirmDelete}\n\t\t\t\tdisabled={isLoading}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { Box, Button, Typography } from \"@mui/material\";\nimport { useContext } from \"react\";\nimport { useAppDispatch } from \"common/hooks\";\nimport { AuthContext } from \"common/context/AuthContext\";\nimport { openArmourModal } from \"features/modals\";\nimport { ArmoursTable } from \"common/components\";\n\nexport const Armours: React.FC = () => {\n\tconst user = useContext(AuthContext);\n\tconst dispatch = useAppDispatch();\n\n\tconst handleOpenArmourModal = () => {\n\t\tdispatch(openArmourModal());\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tflexWrap: \"wrap\",\n\t\t\t\t\tgap: 1,\n\t\t\t\t\tmarginBottom: 2,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography variant=\"h2\">Armours</Typography>\n\n\t\t\t\t{user && (\n\t\t\t\t\t<Button variant=\"contained\" onClick={handleOpenArmourModal}>\n\t\t\t\t\t\tAdd Armour\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<ArmoursTable />\n\t\t</div>\n\t);\n};\n","import { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { closeArmourModal } from \"features/modals/modalsSlice\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport {\n\tBox,\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n\tFormControl,\n\tGrid,\n\tMenuItem,\n\tTextField,\n\tTypography,\n} from \"@mui/material\";\nimport {\n\tIArmour,\n\tIBaseArmour,\n\tISaveArmour,\n\tTDamageTypes,\n\tTStats,\n} from \"common/types\";\nimport { StatGroup } from \"common/components\";\nimport {\n\tARMOUR_TYPES,\n\tDamageType,\n\tEquipmentType,\n\tEQUIPMENT_TYPE_NAME_MAP,\n\tgetResistancesArray,\n\tgetStatsArray,\n\tMAX_DEFENSE,\n\tMAX_GOLD_VALUE,\n\tMAX_ITEM_LEVEL,\n\tStat,\n} from \"common/utils\";\nimport { saveArmour, updateArmour } from \"features/armours\";\n\nconst DEFAULT_STAT_VALUES = {\n\t[Stat.Strength]: 0,\n\t[Stat.Dexterity]: 0,\n\t[Stat.Constitution]: 0,\n\t[Stat.Intelligence]: 0,\n\t[Stat.Wisdom]: 0,\n\t[Stat.Charisma]: 0,\n};\n\nconst DEFAULT_RESISTANCE_VALUES = {\n\t[DamageType.Slashing]: 0,\n\t[DamageType.Crushing]: 0,\n\t[DamageType.Piercing]: 0,\n\t[DamageType.Cold]: 0,\n\t[DamageType.Fire]: 0,\n\t[DamageType.Lighting]: 0,\n\t[DamageType.Radiant]: 0,\n\t[DamageType.Necrotic]: 0,\n\t[DamageType.Poison]: 0,\n\t[DamageType.Acid]: 0,\n};\n\nconst defaultValues: IBaseArmour = {\n\ttype: EquipmentType.Armour,\n\tname: \"\",\n\tdescription: \"\",\n\ticon: \"\",\n\tprice: 100,\n\tlevel: 1,\n\tdefense: 0,\n\tmodifiers: {\n\t\tstats: {},\n\t\tresistances: {},\n\t},\n};\n\nconst defaultFormValues: ISaveArmour = {\n\tarmour: defaultValues,\n\timage: null,\n};\n\nconst getBaseValues = (armour: IArmour) => {\n\tconst { id, ...baseArmour } = armour;\n\treturn baseArmour as IBaseArmour;\n};\n\nexport const ArmourModal: React.FC = () => {\n\tconst dispatch = useAppDispatch();\n\tconst open = useAppSelector((state) => state.modals.armourModal.open);\n\tconst armour = useAppSelector((state) => state.modals.armourModal.armour);\n\tconst isLoading = useAppSelector(\n\t\t(state) => state.armours.status === \"loading\"\n\t);\n\tconst [formValues, setFormValues] = useState(defaultFormValues);\n\tconst armourValues = useMemo(\n\t\t() => armour && getBaseValues(armour),\n\t\t[armour]\n\t);\n\tconst [stats, setStats] = useState<TStats>({\n\t\t...DEFAULT_STAT_VALUES,\n\t\t...formValues.armour.modifiers?.stats,\n\t});\n\tconst [resistances, setResistances] = useState<TDamageTypes>({\n\t\t...DEFAULT_RESISTANCE_VALUES,\n\t\t...formValues.armour.modifiers?.resistances,\n\t});\n\n\tconst title = armour ? \"Update Armour\" : \"Add Armour\";\n\tconst subtitle = armour\n\t\t? `Updating ${armour?.name}`\n\t\t: \"Add a new armour to the database.\";\n\n\tuseEffect(() => {\n\t\tsetFormValues({\n\t\t\tarmour: armourValues || defaultValues,\n\t\t\timage: null,\n\t\t});\n\t}, [armourValues]);\n\n\tconst handleClose = () => {\n\t\tdispatch(closeArmourModal());\n\t};\n\n\tconst handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { name, type, value, valueAsNumber } = e.target;\n\t\tconst finalValue = type === \"number\" ? valueAsNumber : value;\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tarmour: {\n\t\t\t\t...formValues.armour,\n\t\t\t\t[name as string]: finalValue,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleChangeImage = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst image = e.currentTarget.files?.item(0) || null;\n\t\tconst icon = image?.name || \"\";\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\timage,\n\t\t\tarmour: {\n\t\t\t\t...formValues.armour,\n\t\t\t\ticon,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleChangeStats = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { name, valueAsNumber } = e.currentTarget;\n\n\t\tsetStats({\n\t\t\t...stats,\n\t\t\t[name as string]: valueAsNumber,\n\t\t});\n\n\t\tconst newStats = {\n\t\t\t...formValues.armour.modifiers?.stats,\n\t\t\t[name as string]: valueAsNumber,\n\t\t};\n\n\t\tObject.keys(newStats).forEach((key) => {\n\t\t\tif (!newStats[key as Stat]) {\n\t\t\t\tdelete newStats[key as Stat];\n\t\t\t}\n\t\t});\n\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tarmour: {\n\t\t\t\t...formValues.armour,\n\t\t\t\tmodifiers: {\n\t\t\t\t\t...formValues.armour.modifiers,\n\t\t\t\t\tstats: newStats,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleChangeResistances = (\n\t\te: React.ChangeEvent<HTMLInputElement>\n\t) => {\n\t\tconst { name, valueAsNumber } = e.currentTarget;\n\n\t\tsetResistances({\n\t\t\t...resistances,\n\t\t\t[name as string]: valueAsNumber,\n\t\t});\n\n\t\tconst newResistances = {\n\t\t\t...formValues.armour.modifiers?.resistances,\n\t\t\t[name as string]: valueAsNumber,\n\t\t};\n\n\t\tObject.keys(newResistances).forEach((key) => {\n\t\t\tif (!newResistances[key as DamageType]) {\n\t\t\t\tdelete newResistances[key as DamageType];\n\t\t\t}\n\t\t});\n\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tarmour: {\n\t\t\t\t...formValues.armour,\n\t\t\t\tmodifiers: {\n\t\t\t\t\t...formValues.armour.modifiers,\n\t\t\t\t\tresistances: newResistances,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleSave = async (e: React.FormEvent<HTMLFormElement>) => {\n\t\ttry {\n\t\t\te.preventDefault();\n\n\t\t\tif (armour) {\n\t\t\t\tconst payload = {\n\t\t\t\t\t...formValues,\n\t\t\t\t\tid: armour.id,\n\t\t\t\t\toldImage: armour.icon,\n\t\t\t\t};\n\t\t\t\tawait dispatch(updateArmour(payload)).unwrap();\n\t\t\t} else {\n\t\t\t\tawait dispatch(saveArmour(formValues)).unwrap();\n\t\t\t}\n\t\t\tdispatch(closeArmourModal());\n\t\t\tsetFormValues(defaultFormValues);\n\t\t} catch (error) {\n\t\t\t// TODO: Show error popup\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={handleClose}\n\t\t\tmaxWidth=\"sm\"\n\t\t\tfullWidth\n\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t>\n\t\t\t<DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\n\t\t\t<form onSubmit={handleSave}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>{subtitle}</DialogContentText>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t\t\t\tid=\"contained-button-file\"\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\tonChange={handleChangeImage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label htmlFor=\"contained-button-file\">\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" component=\"span\">\n\t\t\t\t\t\t\t\t\tUpload Image\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{formValues.image && (\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tmarginLeft: 2,\n\t\t\t\t\t\t\t\t\t\t\tdisplay: \"inline\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{formValues.image.name}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\tvalue={formValues.armour.name}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tminLength: 3,\n\t\t\t\t\t\t\t\tmaxLength: 25,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\t\tvalue={formValues.armour.description}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\tminRows={4}\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmaxLength: 200,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tArmour Type\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tlabel=\"Type\"\n\t\t\t\t\t\t\t\t\tname=\"type\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.armour.type}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ARMOUR_TYPES.map((type) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem key={type} value={type}>\n\t\t\t\t\t\t\t\t\t\t\t{EQUIPMENT_TYPE_NAME_MAP[type]}\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tArmour Properties\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tname=\"defense\"\n\t\t\t\t\t\t\t\t\tlabel={`Defense (0-${MAX_DEFENSE})`}\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.armour.defense}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\t\tmax: MAX_DEFENSE,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tname=\"level\"\n\t\t\t\t\t\t\t\t\tlabel={`Level (1-${MAX_ITEM_LEVEL})`}\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.armour.level}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\t\t\tmax: MAX_ITEM_LEVEL,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\t\t\t\tlabel={`Price (1-${MAX_GOLD_VALUE})`}\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.armour.price}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\t\t\tmax: MAX_GOLD_VALUE,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<StatGroup\n\t\t\t\t\t\ttitle=\"Stats (0-30)\"\n\t\t\t\t\t\tstats={getStatsArray(stats)}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={30}\n\t\t\t\t\t\thandleChange={handleChangeStats}\n\t\t\t\t\t/>\n\t\t\t\t\t<StatGroup\n\t\t\t\t\t\ttitle=\"Resistances (%)\"\n\t\t\t\t\t\tstats={getResistancesArray(resistances)}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\thandleChange={handleChangeResistances}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button type=\"submit\" color=\"primary\" disabled={isLoading}>\n\t\t\t\t\t\tSave\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</form>\n\t\t</Dialog>\n\t);\n};\n","import {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n} from \"@mui/material\";\n\ninterface IProps {\n\topen: boolean;\n\ttitle: string;\n\tcontent: string;\n\thandleClose: () => void;\n\thandleConfirm: () => void;\n\tdisabled?: boolean;\n}\n\nexport const ConfirmationModal: React.FC<IProps> = ({\n\topen,\n\ttitle,\n\tcontent,\n\thandleClose,\n\thandleConfirm,\n\tdisabled,\n}) => (\n\t<Dialog\n\t\topen={open}\n\t\tonClose={handleClose}\n\t\taria-labelledby=\"form-dialog-title\"\n\t>\n\t\t<DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\n\t\t<DialogContent>\n\t\t\t<DialogContentText>{content}</DialogContentText>\n\t\t</DialogContent>\n\t\t<DialogActions>\n\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\tCancel\n\t\t\t</Button>\n\t\t\t<Button onClick={handleConfirm} color=\"primary\" disabled={disabled}>\n\t\t\t\tConfirm\n\t\t\t</Button>\n\t\t</DialogActions>\n\t</Dialog>\n);\n","import {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n} from \"@mui/material\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { closeErrorModal } from \"features/modals/modalsSlice\";\n\nexport const ErrorModal: React.FC = () => {\n\tconst dispatch = useAppDispatch();\n\tconst { open, title, message } = useAppSelector(\n\t\t(state) => state.modals.errorModal\n\t);\n\n\tconst handleClose = () => {\n\t\tdispatch(closeErrorModal());\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t>\n\t\t\t<DialogTitle id=\"form-dialog-title\">{title || \"Error\"}</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogContentText>\n\t\t\t\t\t{message || \"Something went wrong!\"}\n\t\t\t\t</DialogContentText>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\t\tConfirm\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n","import {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n\tTextField,\n} from \"@mui/material\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { closeLoginModal } from \"features/modals/modalsSlice\";\nimport { useRef, useState } from \"react\";\nimport { auth } from \"firebaseSetup\";\n\nexport const LoginModal: React.FC = () => {\n\tconst dispatch = useAppDispatch();\n\tconst open = useAppSelector((state) => state.modals.loginModalOpen);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst emailRef = useRef<HTMLInputElement>(null);\n\tconst passwordRef = useRef<HTMLInputElement>(null);\n\n\tconst handleClose = () => {\n\t\tdispatch(closeLoginModal());\n\t};\n\n\tconst signIn = async () => {\n\t\ttry {\n\t\t\tsetIsLoading(true);\n\t\t\tawait auth.signInWithEmailAndPassword(\n\t\t\t\temailRef.current!.value,\n\t\t\t\tpasswordRef.current!.value\n\t\t\t);\n\t\t\tsetIsLoading(false);\n\t\t\tdispatch(closeLoginModal());\n\t\t} catch (error) {\n\t\t\tsetIsLoading(false);\n\t\t\tconsole.error(error);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t>\n\t\t\t<DialogTitle id=\"form-dialog-title\">Login</DialogTitle>\n\t\t\t<DialogContent>\n\t\t\t\t<DialogContentText>\n\t\t\t\t\tPlease enter your email and password to login.\n\t\t\t\t</DialogContentText>\n\t\t\t\t<TextField\n\t\t\t\t\tinputRef={emailRef}\n\t\t\t\t\tautoFocus\n\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\tid=\"name\"\n\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\ttype=\"email\"\n\t\t\t\t\tfullWidth\n\t\t\t\t/>\n\t\t\t\t<TextField\n\t\t\t\t\tinputRef={passwordRef}\n\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\tid=\"standard-basic\"\n\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\trequired\n\t\t\t\t/>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\t\tCancel\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={signIn} color=\"primary\" disabled={isLoading}>\n\t\t\t\t\tLogin\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n","import {\n\tcreateAsyncThunk,\n\tcreateSelector,\n\tcreateSlice,\n} from \"@reduxjs/toolkit\";\nimport { RootState } from \"app/store\";\nimport { dbMonsters, stImages } from \"firebaseSetup\";\nimport {\n\tIImagePath,\n\tIMonster,\n\tISaveMonster,\n\tIUpdateMonster,\n} from \"common/types\";\n\ninterface IMonstersState {\n\tmonsters: IMonster[];\n\tmonsterImagePaths: IImagePath[];\n\tstatus: \"idle\" | \"loading\" | \"succeeded\" | \"failed\";\n\terror?: string;\n}\n\nconst initialState: IMonstersState = {\n\tmonsters: [],\n\tmonsterImagePaths: [],\n\tstatus: \"idle\",\n};\n\nexport const fetchMonsters = createAsyncThunk(\n\t\"monsters/fetchMonsters\",\n\tasync (payload: IMonster[]) => payload\n);\n\nexport const fetchMonsterImagePath = createAsyncThunk(\n\t\"monsters/fetchMonsterImagePath\",\n\tasync (payload: IMonster) => {\n\t\ttry {\n\t\t\treturn await stImages\n\t\t\t\t.child(payload.id)\n\t\t\t\t.child(payload.portrait)\n\t\t\t\t.getDownloadURL();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const saveMonster = createAsyncThunk(\n\t\"monsters/saveMonster\",\n\tasync (payload: ISaveMonster) => {\n\t\ttry {\n\t\t\tconst newMonsterRef = dbMonsters.push();\n\t\t\tif (payload.image) {\n\t\t\t\tawait stImages\n\t\t\t\t\t.child(newMonsterRef.key!)\n\t\t\t\t\t.child(payload.image.name)\n\t\t\t\t\t.put(payload.image);\n\t\t\t}\n\t\t\treturn await newMonsterRef.set(payload.monster);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const updateMonster = createAsyncThunk(\n\t\"monsters/updateMonster\",\n\tasync (payload: IUpdateMonster) => {\n\t\ttry {\n\t\t\tif (payload.image && payload.oldImage) {\n\t\t\t\tawait stImages\n\t\t\t\t\t.child(payload.id)\n\t\t\t\t\t.child(payload.oldImage)\n\t\t\t\t\t.delete();\n\t\t\t}\n\t\t\tif (payload.image) {\n\t\t\t\tawait stImages\n\t\t\t\t\t.child(payload.id)\n\t\t\t\t\t.child(payload.image.name)\n\t\t\t\t\t.put(payload.image);\n\t\t\t}\n\t\t\treturn await dbMonsters.child(payload.id).update(payload.monster);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const deleteMonster = createAsyncThunk(\n\t\"monsters/deleteMonster\",\n\tasync (payload: IMonster) => {\n\t\ttry {\n\t\t\tif (payload.portrait) {\n\t\t\t\tawait stImages\n\t\t\t\t\t.child(payload.id)\n\t\t\t\t\t.child(payload.portrait)\n\t\t\t\t\t.delete();\n\t\t\t}\n\t\t\treturn await dbMonsters.child(payload.id).remove();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const monstersSelector = (state: RootState) => state.monsters;\n\nexport const selectMonsterById = createSelector(\n\tmonstersSelector,\n\t({ monsters }) =>\n\t\t(id: string) =>\n\t\t\tmonsters.find((monster) => monster.id === id)\n);\n\nexport const selectMonsterImagePathById = createSelector(\n\tmonstersSelector,\n\t({ monsterImagePaths }) =>\n\t\t(id: string) =>\n\t\t\tmonsterImagePaths.find((monsterImage) => monsterImage.id === id)\n\t\t\t\t?.imagePath\n);\n\nexport const monstersSlice = createSlice({\n\tname: \"monsters\",\n\tinitialState,\n\treducers: {},\n\textraReducers: (builder) => {\n\t\tbuilder.addCase(fetchMonsters.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(fetchMonsters.fulfilled, (state, action) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t\tstate.monsters = action.payload;\n\t\t});\n\t\tbuilder.addCase(fetchMonsters.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(fetchMonsterImagePath.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(fetchMonsterImagePath.fulfilled, (state, action) => {\n\t\t\tconst newMonsterImage = {\n\t\t\t\tid: action.meta.arg.id,\n\t\t\t\timagePath: action.payload,\n\t\t\t};\n\n\t\t\tstate.status = \"succeeded\";\n\t\t\tstate.monsterImagePaths = state.monsterImagePaths\n\t\t\t\t.filter(\n\t\t\t\t\t(monsterImage) => monsterImage.id !== newMonsterImage.id\n\t\t\t\t)\n\t\t\t\t.concat(newMonsterImage);\n\t\t});\n\t\tbuilder.addCase(fetchMonsterImagePath.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(saveMonster.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(saveMonster.fulfilled, (state) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t});\n\t\tbuilder.addCase(saveMonster.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(deleteMonster.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(deleteMonster.fulfilled, (state) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t});\n\t\tbuilder.addCase(deleteMonster.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(updateMonster.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(updateMonster.fulfilled, (state) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t});\n\t\tbuilder.addCase(updateMonster.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t},\n});\n\n// Action creators are generated for each case reducer function\n// export const { } = monstersSlice.actions;\n\nexport default monstersSlice.reducer;\n","import {\n\tcreateAsyncThunk,\n\tcreateSelector,\n\tcreateSlice,\n} from \"@reduxjs/toolkit\";\nimport { RootState } from \"app/store\";\nimport { dbSkills, stImages } from \"firebaseSetup\";\nimport { IImagePath, ISaveSkill, ISkill, IUpdateSkill } from \"common/types\";\n\ninterface ISkillsState {\n\tskills: ISkill[];\n\tskillImagePaths: IImagePath[];\n\tstatus: \"idle\" | \"loading\" | \"succeeded\" | \"failed\";\n\terror?: string;\n}\n\nconst initialState: ISkillsState = {\n\tskills: [],\n\tskillImagePaths: [],\n\tstatus: \"idle\",\n};\n\nexport const fetchSkills = createAsyncThunk(\n\t\"skills/fetchSkills\",\n\tasync (payload: ISkill[]) => payload\n);\n\nexport const fetchSkillImagePath = createAsyncThunk(\n\t\"skills/fetchSkillImagePath\",\n\tasync (payload: ISkill) => {\n\t\ttry {\n\t\t\treturn await stImages\n\t\t\t\t.child(payload.id)\n\t\t\t\t.child(payload.icon)\n\t\t\t\t.getDownloadURL();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const saveSkill = createAsyncThunk(\n\t\"skills/saveSkill\",\n\tasync (payload: ISaveSkill) => {\n\t\ttry {\n\t\t\tconst newSkillRef = dbSkills.push();\n\t\t\tif (payload.image) {\n\t\t\t\tawait stImages\n\t\t\t\t\t.child(newSkillRef.key!)\n\t\t\t\t\t.child(payload.image.name)\n\t\t\t\t\t.put(payload.image);\n\t\t\t}\n\t\t\treturn await newSkillRef.set(payload.skill);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const updateSkill = createAsyncThunk(\n\t\"skills/updateSkill\",\n\tasync (payload: IUpdateSkill) => {\n\t\ttry {\n\t\t\tif (payload.image && payload.oldImage) {\n\t\t\t\tawait stImages\n\t\t\t\t\t.child(payload.id)\n\t\t\t\t\t.child(payload.oldImage)\n\t\t\t\t\t.delete();\n\t\t\t}\n\t\t\tif (payload.image) {\n\t\t\t\tawait stImages\n\t\t\t\t\t.child(payload.id)\n\t\t\t\t\t.child(payload.image.name)\n\t\t\t\t\t.put(payload.image);\n\t\t\t}\n\t\t\treturn await dbSkills.child(payload.id).update(payload.skill);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const deleteSkill = createAsyncThunk(\n\t\"skills/deleteSkill\",\n\tasync (payload: ISkill) => {\n\t\ttry {\n\t\t\tif (payload.icon) {\n\t\t\t\tawait stImages.child(payload.id).child(payload.icon).delete();\n\t\t\t}\n\t\t\treturn await dbSkills.child(payload.id).remove();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const skillsSelector = (state: RootState) => state.skills;\n\nexport const selectSkillById = createSelector(\n\tskillsSelector,\n\t({ skills }) =>\n\t\t(id: string) =>\n\t\t\tskills.find((skill) => skill.id === id)\n);\n\nexport const selectSkillImagePathById = createSelector(\n\tskillsSelector,\n\t({ skillImagePaths }) =>\n\t\t(id: string) =>\n\t\t\tskillImagePaths.find((skillImage) => skillImage.id === id)\n\t\t\t\t?.imagePath\n);\n\nexport const skillsSlice = createSlice({\n\tname: \"skills\",\n\tinitialState,\n\treducers: {},\n\textraReducers: (builder) => {\n\t\tbuilder.addCase(fetchSkills.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(fetchSkills.fulfilled, (state, action) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t\tstate.skills = action.payload;\n\t\t});\n\t\tbuilder.addCase(fetchSkills.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(fetchSkillImagePath.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(fetchSkillImagePath.fulfilled, (state, action) => {\n\t\t\tconst newSkillImage = {\n\t\t\t\tid: action.meta.arg.id,\n\t\t\t\timagePath: action.payload,\n\t\t\t};\n\n\t\t\tstate.status = \"succeeded\";\n\t\t\tstate.skillImagePaths = state.skillImagePaths\n\t\t\t\t.filter((skillImage) => skillImage.id !== newSkillImage.id)\n\t\t\t\t.concat(newSkillImage);\n\t\t});\n\t\tbuilder.addCase(fetchSkillImagePath.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(saveSkill.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(saveSkill.fulfilled, (state) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t});\n\t\tbuilder.addCase(saveSkill.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(deleteSkill.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(deleteSkill.fulfilled, (state) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t});\n\t\tbuilder.addCase(deleteSkill.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(updateSkill.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(updateSkill.fulfilled, (state) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t});\n\t\tbuilder.addCase(updateSkill.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t},\n});\n\n// Action creators are generated for each case reducer function\n// export const { } = skillsSlice.actions;\n\nexport default skillsSlice.reducer;\n","import {\n\tPaper,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableRow,\n} from \"@mui/material\";\nimport { ISkill } from \"common/types\";\nimport { CLASS_NAME_MAP } from \"common/utils\";\n\nexport const SkillPropertiesTable: React.FC<ISkill> = (skill) => {\n\treturn (\n\t\t<TableContainer component={Paper}>\n\t\t\t<Table aria-label=\"skill properties table\">\n\t\t\t\t<TableBody>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tClass\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t{CLASS_NAME_MAP[skill.class]}\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTarget\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">{skill.target}</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLevel\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">{skill.level}</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPrice\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">{skill.price}g</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\", border: 0 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tMax Uses\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\" sx={{ border: 0 }}>\n\t\t\t\t\t\t\t{skill.maxUses}\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t);\n};\n","import { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useAppDispatch } from \"common/hooks\";\nimport { fetchSkillImagePath, selectSkillImagePathById } from \"./skillsSlice\";\nimport { ISkill } from \"common/types\";\n\ninterface IProps {\n\tskill: ISkill;\n\twidth?: number;\n}\n\nexport const SkillIcon: React.FC<IProps> = ({ skill, width = 40 }) => {\n\tconst dispatch = useAppDispatch();\n\tconst skillImagePath = useSelector(selectSkillImagePathById)(skill.id);\n\n\tuseEffect(() => {\n\t\tif (skill.icon) {\n\t\t\tdispatch(fetchSkillImagePath(skill));\n\t\t}\n\t}, [dispatch, skill]);\n\n\tif (skillImagePath) {\n\t\treturn <img src={skillImagePath} alt={skill.name} width={width} />;\n\t}\n\n\treturn (\n\t\t<img src={`https://via.placeholder.com/${width}`} alt={skill.name} />\n\t);\n};\n","import { Box, Divider, Grid, IconButton, Typography } from \"@mui/material\";\nimport { useContext, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport {\n\tdeleteSkill,\n\tfetchSkillImagePath,\n\tselectSkillById,\n} from \"./skillsSlice\";\nimport { Delete, Edit } from \"@mui/icons-material\";\nimport {\n\tcloseConfirmationModal,\n\topenConfirmationModal,\n\topenSkillModal,\n} from \"features/modals\";\nimport { ConfirmationModal } from \"features/modals\";\nimport { SkillPropertiesTable } from \"./SkillPropertiesTable\";\nimport { EffectCard } from \"common/components\";\nimport { AuthContext } from \"common/context\";\nimport { SkillIcon } from \"./SkillIcon\";\n\ninterface IRouteParams {\n\tid: string;\n}\n\nexport const Skill: React.FC = () => {\n\tconst dispatch = useAppDispatch();\n\tlet { id } = useParams<IRouteParams>();\n\tconst user = useContext(AuthContext);\n\tconst skill = useSelector(selectSkillById)(id);\n\tconst confirmationModalOpen = useAppSelector(\n\t\t(state) => state.modals.confirmationModalOpen\n\t);\n\tconst isLoading = useAppSelector(\n\t\t(state) => state.skills.status === \"loading\"\n\t);\n\n\tuseEffect(() => {\n\t\tif (skill?.icon) {\n\t\t\tdispatch(fetchSkillImagePath(skill));\n\t\t}\n\t}, [dispatch, skill]);\n\n\tif (!skill) {\n\t\treturn null;\n\t}\n\n\tconst handleUpdateSkill = () => {\n\t\tdispatch(openSkillModal(skill));\n\t};\n\n\tconst handleDeleteSkill = async () => {\n\t\tdispatch(openConfirmationModal());\n\t};\n\n\tconst handleCloseConfirmationModal = () => {\n\t\tdispatch(closeConfirmationModal());\n\t};\n\n\tconst handleConfirmDeleteSkill = async () => {\n\t\ttry {\n\t\t\tawait dispatch(deleteSkill(skill)).unwrap();\n\t\t\tdispatch(closeConfirmationModal());\n\t\t} catch (error) {\n\t\t\t// TODO: Show error popup\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tflexWrap: \"wrap\",\n\t\t\t\t\tmarginBottom: 2,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography variant=\"h2\">{skill.name}</Typography>\n\t\t\t\t{user && (\n\t\t\t\t\t<Box sx={{ display: \"flex\" }}>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={handleUpdateSkill}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Edit fontSize=\"large\" />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\t\t\tcolor=\"warning\"\n\t\t\t\t\t\t\tonClick={handleDeleteSkill}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Delete fontSize=\"large\" />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Box>\n\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tmarginBottom: 4,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\talignItems: \"flex-start\",\n\t\t\t\t\t\tgap: 2,\n\t\t\t\t\t\tmarginBottom: 3,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<SkillIcon skill={skill} width={64} />\n\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"h5\" paragraph>\n\t\t\t\t\t\t\t{skill.description || \"No description available.\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Divider />\n\t\t\t</Box>\n\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tmarginBottom: 4,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tProperties\n\t\t\t\t</Typography>\n\n\t\t\t\t<Grid container spacing={3} marginBottom={3}>\n\t\t\t\t\t<Grid item xs={12} md={6} lg={4}>\n\t\t\t\t\t\t<SkillPropertiesTable {...skill} />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Divider />\n\t\t\t</Box>\n\n\t\t\t<Box>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tEffects\n\t\t\t\t</Typography>\n\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t{skill.effects.map((effect, index) => (\n\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\tkey={`${effect.type}-${index}`}\n\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\txs={12}\n\t\t\t\t\t\t\tmd={6}\n\t\t\t\t\t\t\tlg={3}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<EffectCard {...effect} />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t))}\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\n\t\t\t<ConfirmationModal\n\t\t\t\topen={confirmationModalOpen}\n\t\t\t\ttitle=\"Are you sure?\"\n\t\t\t\tcontent={`This action will permanently delete ${skill.name} from the database.`}\n\t\t\t\thandleClose={handleCloseConfirmationModal}\n\t\t\t\thandleConfirm={handleConfirmDeleteSkill}\n\t\t\t\tdisabled={isLoading}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { Card, CardHeader, IconButton } from \"@mui/material\";\nimport { useSelector } from \"react-redux\";\nimport { selectSkillById } from \"./skillsSlice\";\nimport { getSkillType, SKILL_TYPE_NAME_MAP } from \"common/utils\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport { Link } from \"react-router-dom\";\nimport { SkillIcon } from \"./SkillIcon\";\n\ninterface IProps {\n\tid: string;\n}\n\nexport const SkillCard: React.FC<IProps> = ({ id }) => {\n\tconst skill = useSelector(selectSkillById)(id);\n\n\tif (!skill) {\n\t\treturn null;\n\t}\n\n\tconst secondaryText = `Level ${skill.level} ${\n\t\tSKILL_TYPE_NAME_MAP[getSkillType(skill)]\n\t}`;\n\n\treturn (\n\t\t<Card variant=\"outlined\">\n\t\t\t<CardHeader\n\t\t\t\tavatar={<SkillIcon skill={skill} />}\n\t\t\t\ttitle={skill.name}\n\t\t\t\tsubheader={secondaryText}\n\t\t\t\taction={\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\taria-label=\"view\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\tto={`/skills/${skill.id}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<VisibilityIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n","import { Box, Button, Typography } from \"@mui/material\";\nimport { useContext } from \"react\";\nimport { useAppDispatch } from \"common/hooks\";\nimport { AuthContext } from \"common/context/AuthContext\";\nimport { openSkillModal } from \"features/modals\";\nimport { SkillsTable } from \"common/components\";\n\nexport const Skills: React.FC = () => {\n\tconst user = useContext(AuthContext);\n\tconst dispatch = useAppDispatch();\n\n\tconst handleOpenSkillModal = () => {\n\t\tdispatch(openSkillModal());\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tflexWrap: \"wrap\",\n\t\t\t\t\tgap: 1,\n\t\t\t\t\tmarginBottom: 2,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography variant=\"h2\">Skills</Typography>\n\n\t\t\t\t{user && (\n\t\t\t\t\t<Button variant=\"contained\" onClick={handleOpenSkillModal}>\n\t\t\t\t\t\tAdd Skill\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<SkillsTable />\n\t\t</div>\n\t);\n};\n","import {\n\tPaper,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableRow,\n} from \"@mui/material\";\nimport { IWeapon } from \"common/types\";\nimport {\n\tRESISTANCES_NAME_MAP,\n\tWEAPON_SIZE_NAME_MAP,\n\tWEAPON_TYPE_NAME_MAP,\n} from \"common/utils\";\n\nexport const WeaponPropertiesTable: React.FC<IWeapon> = (weapon) => {\n\treturn (\n\t\t<TableContainer component={Paper}>\n\t\t\t<Table aria-label=\"weapon properties table\">\n\t\t\t\t<TableBody>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tType\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t{WEAPON_TYPE_NAME_MAP[weapon.weaponType]}\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSize\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t{WEAPON_SIZE_NAME_MAP[weapon.size]}\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDamage Type\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t{RESISTANCES_NAME_MAP[weapon.damageType]}\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDamage\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t{weapon.min}-{weapon.max}\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLevel\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">{weapon.level}</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\t\t\tscope=\"row\"\n\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPrice\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell align=\"right\">{weapon.price}g</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t);\n};\n","import {\n\tcreateAsyncThunk,\n\tcreateSelector,\n\tcreateSlice,\n} from \"@reduxjs/toolkit\";\nimport { RootState } from \"app/store\";\nimport { dbWeapons, stImages } from \"firebaseSetup\";\nimport { IImagePath, ISaveWeapon, IUpdateWeapon, IWeapon } from \"common/types\";\n\ninterface IWeaponsState {\n\tweapons: IWeapon[];\n\tweaponImagePaths: IImagePath[];\n\tstatus: \"idle\" | \"loading\" | \"succeeded\" | \"failed\";\n\terror?: string;\n}\n\nconst initialState: IWeaponsState = {\n\tweapons: [],\n\tweaponImagePaths: [],\n\tstatus: \"idle\",\n};\n\nexport const fetchWeapons = createAsyncThunk(\n\t\"weapons/fetchWeapons\",\n\tasync (payload: IWeapon[]) => payload\n);\n\nexport const fetchWeaponImagePath = createAsyncThunk(\n\t\"weapons/fetchWeaponImagePath\",\n\tasync (payload: IWeapon) => {\n\t\ttry {\n\t\t\treturn await stImages\n\t\t\t\t.child(payload.id)\n\t\t\t\t.child(payload.icon)\n\t\t\t\t.getDownloadURL();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const saveWeapon = createAsyncThunk(\n\t\"weapons/saveWeapon\",\n\tasync (payload: ISaveWeapon) => {\n\t\ttry {\n\t\t\tconst newWeaponRef = dbWeapons.push();\n\t\t\tif (payload.image) {\n\t\t\t\tawait stImages\n\t\t\t\t\t.child(newWeaponRef.key!)\n\t\t\t\t\t.child(payload.image.name)\n\t\t\t\t\t.put(payload.image);\n\t\t\t}\n\t\t\treturn await newWeaponRef.set(payload.weapon);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const updateWeapon = createAsyncThunk(\n\t\"weapons/updateWeapon\",\n\tasync (payload: IUpdateWeapon) => {\n\t\ttry {\n\t\t\tif (payload.image && payload.oldImage) {\n\t\t\t\tawait stImages\n\t\t\t\t\t.child(payload.id)\n\t\t\t\t\t.child(payload.oldImage)\n\t\t\t\t\t.delete();\n\t\t\t}\n\t\t\tif (payload.image) {\n\t\t\t\tawait stImages\n\t\t\t\t\t.child(payload.id)\n\t\t\t\t\t.child(payload.image.name)\n\t\t\t\t\t.put(payload.image);\n\t\t\t}\n\t\t\treturn await dbWeapons.child(payload.id).update(payload.weapon);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const deleteWeapon = createAsyncThunk(\n\t\"weapons/deleteWeapon\",\n\tasync (payload: IWeapon) => {\n\t\ttry {\n\t\t\tif (payload.icon) {\n\t\t\t\tawait stImages.child(payload.id).child(payload.icon).delete();\n\t\t\t}\n\t\t\treturn await dbWeapons.child(payload.id).remove();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthrow error;\n\t\t}\n\t}\n);\n\nexport const weaponsSelector = (state: RootState) => state.weapons;\n\nexport const selectWeaponById = createSelector(\n\tweaponsSelector,\n\t({ weapons }) =>\n\t\t(id: string) =>\n\t\t\tweapons.find((weapon) => weapon.id === id)\n);\n\nexport const selectWeaponImagePathById = createSelector(\n\tweaponsSelector,\n\t({ weaponImagePaths }) =>\n\t\t(id: string) =>\n\t\t\tweaponImagePaths.find((weaponImage) => weaponImage.id === id)\n\t\t\t\t?.imagePath\n);\n\nexport const weaponsSlice = createSlice({\n\tname: \"weapons\",\n\tinitialState,\n\treducers: {},\n\textraReducers: (builder) => {\n\t\tbuilder.addCase(fetchWeapons.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(fetchWeapons.fulfilled, (state, action) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t\tstate.weapons = action.payload;\n\t\t});\n\t\tbuilder.addCase(fetchWeapons.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(fetchWeaponImagePath.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(fetchWeaponImagePath.fulfilled, (state, action) => {\n\t\t\tconst newWeaponImage = {\n\t\t\t\tid: action.meta.arg.id,\n\t\t\t\timagePath: action.payload,\n\t\t\t};\n\n\t\t\tstate.status = \"succeeded\";\n\t\t\tstate.weaponImagePaths = state.weaponImagePaths\n\t\t\t\t.filter((weaponImage) => weaponImage.id !== newWeaponImage.id)\n\t\t\t\t.concat(newWeaponImage);\n\t\t});\n\t\tbuilder.addCase(fetchWeaponImagePath.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(saveWeapon.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(saveWeapon.fulfilled, (state) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t});\n\t\tbuilder.addCase(saveWeapon.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(deleteWeapon.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(deleteWeapon.fulfilled, (state) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t});\n\t\tbuilder.addCase(deleteWeapon.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t\tbuilder.addCase(updateWeapon.pending, (state) => {\n\t\t\tstate.status = \"loading\";\n\t\t});\n\t\tbuilder.addCase(updateWeapon.fulfilled, (state) => {\n\t\t\tstate.status = \"succeeded\";\n\t\t});\n\t\tbuilder.addCase(updateWeapon.rejected, (state, action) => {\n\t\t\tstate.status = \"failed\";\n\t\t\tstate.error = action.error.message;\n\t\t});\n\t},\n});\n\n// Action creators are generated for each case reducer function\n// export const { } = weaponsSlice.actions;\n\nexport default weaponsSlice.reducer;\n","import {\n\tBox,\n\tDivider,\n\tGrid,\n\tIconButton,\n\tstyled,\n\tTypography,\n} from \"@mui/material\";\nimport { useContext, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { Delete, Edit } from \"@mui/icons-material\";\nimport {\n\tcloseConfirmationModal,\n\tConfirmationModal,\n\topenConfirmationModal,\n\topenWeaponModal,\n} from \"features/modals\";\nimport { WeaponPropertiesTable } from \"./WeaponPropertiesTable\";\nimport { EffectCard, StatsTable } from \"common/components\";\nimport { AuthContext } from \"common/context\";\nimport {\n\tdeleteWeapon,\n\tfetchWeaponImagePath,\n\tselectWeaponById,\n\tselectWeaponImagePathById,\n} from \"./weaponsSlice\";\nimport { getPartialResistancesArray, getPartialStatsArray } from \"common/utils\";\n\nconst Icon = styled(\"img\")({\n\twidth: \"64px\",\n});\n\ninterface IRouteParams {\n\tid: string;\n}\n\nexport const Weapon: React.FC = () => {\n\tconst dispatch = useAppDispatch();\n\tlet { id } = useParams<IRouteParams>();\n\tconst user = useContext(AuthContext);\n\tconst weapon = useSelector(selectWeaponById)(id);\n\tconst weaponImagePath = useSelector(selectWeaponImagePathById)(id);\n\tconst confirmationModalOpen = useAppSelector(\n\t\t(state) => state.modals.confirmationModalOpen\n\t);\n\tconst isLoading = useAppSelector(\n\t\t(state) => state.skills.status === \"loading\"\n\t);\n\n\tuseEffect(() => {\n\t\tif (weapon?.icon) {\n\t\t\tdispatch(fetchWeaponImagePath(weapon));\n\t\t}\n\t}, [dispatch, weapon]);\n\n\tif (!weapon) {\n\t\treturn null;\n\t}\n\n\tconst handleUpdate = () => {\n\t\tdispatch(openWeaponModal(weapon));\n\t};\n\n\tconst handleDelete = async () => {\n\t\tdispatch(openConfirmationModal());\n\t};\n\n\tconst handleCloseConfirmationModal = () => {\n\t\tdispatch(closeConfirmationModal());\n\t};\n\n\tconst handleConfirmDelete = async () => {\n\t\ttry {\n\t\t\tawait dispatch(deleteWeapon(weapon)).unwrap();\n\t\t\tdispatch(closeConfirmationModal());\n\t\t} catch (error) {\n\t\t\t// TODO: Show error popup\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tflexWrap: \"wrap\",\n\t\t\t\t\tmarginBottom: 2,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography variant=\"h2\">{weapon.name}</Typography>\n\t\t\t\t{user && (\n\t\t\t\t\t<Box sx={{ display: \"flex\" }}>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={handleUpdate}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Edit fontSize=\"large\" />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\t\t\tcolor=\"warning\"\n\t\t\t\t\t\t\tonClick={handleDelete}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Delete fontSize=\"large\" />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Box>\n\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tmarginBottom: 4,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\talignItems: \"flex-start\",\n\t\t\t\t\t\tgap: 2,\n\t\t\t\t\t\tmarginBottom: 3,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{weaponImagePath && (\n\t\t\t\t\t\t<Icon src={weaponImagePath} alt={weapon.name} />\n\t\t\t\t\t)}\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"h5\" paragraph>\n\t\t\t\t\t\t\t{weapon.description || \"No description available.\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Divider />\n\t\t\t</Box>\n\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tmarginBottom: 4,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tProperties\n\t\t\t\t</Typography>\n\n\t\t\t\t<Grid container spacing={3} marginBottom={3}>\n\t\t\t\t\t<Grid item xs={12} md={4}>\n\t\t\t\t\t\t<WeaponPropertiesTable {...weapon} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t{weapon.modifiers?.resistances && (\n\t\t\t\t\t\t<Grid item xs={12} md={3} lg={4}>\n\t\t\t\t\t\t\t<StatsTable\n\t\t\t\t\t\t\t\ttitle=\"Resistances\"\n\t\t\t\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t\t\t\t\tstats={getPartialResistancesArray(\n\t\t\t\t\t\t\t\t\tweapon.modifiers.resistances\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t\t{weapon.modifiers?.stats && (\n\t\t\t\t\t\t<Grid item xs={12} md={3} lg={4}>\n\t\t\t\t\t\t\t<StatsTable\n\t\t\t\t\t\t\t\ttitle=\"Stats\"\n\t\t\t\t\t\t\t\tstats={getPartialStatsArray(\n\t\t\t\t\t\t\t\t\tweapon.modifiers.stats\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)}\n\t\t\t\t</Grid>\n\n\t\t\t\t<Divider />\n\t\t\t</Box>\n\n\t\t\t<Box>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tEffects\n\t\t\t\t</Typography>\n\n\t\t\t\t{weapon.effects ? (\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t{weapon.effects.map((effect, index) => (\n\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\tkey={`${effect.type}-${index}`}\n\t\t\t\t\t\t\t\titem\n\t\t\t\t\t\t\t\txs={12}\n\t\t\t\t\t\t\t\tmd={6}\n\t\t\t\t\t\t\t\tlg={3}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<EffectCard {...effect} />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Grid>\n\t\t\t\t) : (\n\t\t\t\t\t<Typography>No weapon effects</Typography>\n\t\t\t\t)}\n\t\t\t</Box>\n\n\t\t\t<ConfirmationModal\n\t\t\t\topen={confirmationModalOpen}\n\t\t\t\ttitle=\"Are you sure?\"\n\t\t\t\tcontent={`This action will permanently delete ${weapon.name} from the database.`}\n\t\t\t\thandleClose={handleCloseConfirmationModal}\n\t\t\t\thandleConfirm={handleConfirmDelete}\n\t\t\t\tdisabled={isLoading}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { Box, Button, Typography } from \"@mui/material\";\nimport { useContext } from \"react\";\nimport { useAppDispatch } from \"common/hooks\";\nimport { AuthContext } from \"common/context/AuthContext\";\nimport { openWeaponModal } from \"features/modals\";\nimport { WeaponsTable } from \"common/components\";\n\nexport const Weapons: React.FC = () => {\n\tconst user = useContext(AuthContext);\n\tconst dispatch = useAppDispatch();\n\n\tconst handleOpenWeaponModal = () => {\n\t\tdispatch(openWeaponModal());\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tflexWrap: \"wrap\",\n\t\t\t\t\tgap: 1,\n\t\t\t\t\tmarginBottom: 2,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography variant=\"h2\">Weapons</Typography>\n\n\t\t\t\t{user && (\n\t\t\t\t\t<Button variant=\"contained\" onClick={handleOpenWeaponModal}>\n\t\t\t\t\t\tAdd Weapon\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<WeaponsTable />\n\t\t</div>\n\t);\n};\n","import { createSelector } from \"@reduxjs/toolkit\";\nimport { armoursSelector } from \"features/armours\";\nimport { weaponsSelector } from \"features/weapons\";\n\nexport const equipmentSelector = createSelector(\n\tarmoursSelector,\n\tweaponsSelector,\n\t({ armours }, { weapons }) => [...armours, ...weapons]\n);\n\nexport const selectEquipmentById = createSelector(\n\tequipmentSelector,\n\t(equipment) => (id: string) => equipment.find((item) => item.id === id)\n);\n","import { EquipmentSlot, EQUIPMENT_SLOT_NAME_MAP } from \"common/utils\";\n\ninterface IProps {\n\tslot: EquipmentSlot;\n\twidth?: number;\n}\n\nexport const EquipmentSlotIcon: React.FC<IProps> = ({ slot, width = 40 }) => {\n\treturn (\n\t\t<img\n\t\t\tsrc={`https://via.placeholder.com/${width}`}\n\t\t\talt={EQUIPMENT_SLOT_NAME_MAP[slot]}\n\t\t/>\n\t);\n};\n","import { Card, CardHeader, IconButton } from \"@mui/material\";\nimport { useSelector } from \"react-redux\";\nimport { selectEquipmentById } from \"./equipmentSlice\";\nimport { EquipmentSlot, EQUIPMENT_SLOT_NAME_MAP } from \"common/utils\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport { Link } from \"react-router-dom\";\nimport { EquipmentSlotIcon } from \"./EquipmentSlotIcon\";\n\ninterface IProps {\n\tid: string;\n\tslot: EquipmentSlot;\n}\n\nexport const EquipmentCard: React.FC<IProps> = ({ id, slot }) => {\n\tconst equipment = useSelector(selectEquipmentById)(id);\n\n\tif (!equipment) {\n\t\treturn null;\n\t}\n\n\tconst equipmentLink =\n\t\t\"weaponType\" in equipment\n\t\t\t? `/weapons/${equipment.id}`\n\t\t\t: `/armours/${equipment.id}`;\n\n\treturn (\n\t\t<Card variant=\"outlined\">\n\t\t\t<CardHeader\n\t\t\t\tavatar={<EquipmentSlotIcon slot={slot} />}\n\t\t\t\ttitle={EQUIPMENT_SLOT_NAME_MAP[slot]}\n\t\t\t\tsubheader={equipment.name}\n\t\t\t\taction={\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\taria-label=\"view\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\tto={equipmentLink}\n\t\t\t\t\t>\n\t\t\t\t\t\t<VisibilityIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n","import {\n\tBox,\n\tDivider,\n\tGrid,\n\tIconButton,\n\tPaper,\n\tTypography,\n} from \"@mui/material\";\nimport { Fragment, useContext, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport {\n\tdeleteMonster,\n\tfetchMonsterImagePath,\n\tselectMonsterById,\n\tselectMonsterImagePathById,\n} from \"./monstersSlice\";\nimport {\n\tEQUIPMENT_SLOTS,\n\tgetAuxillaryResistancesArray,\n\tgetElementalResistancesArray,\n\tgetPhysicalResistancesArray,\n\tgetStatsArray,\n} from \"common/utils\";\nimport { StatsTable } from \"common/components\";\nimport { Delete, Edit } from \"@mui/icons-material\";\nimport {\n\tcloseConfirmationModal,\n\topenConfirmationModal,\n\topenMonsterModal,\n} from \"features/modals\";\nimport { ConfirmationModal } from \"features/modals\";\nimport { AuthContext } from \"common/context\";\nimport { SkillCard } from \"features/skills\";\nimport { EquipmentCard } from \"features/equipment\";\n\ninterface IRouteParams {\n\tid: string;\n}\n\nexport const Monster: React.FC = () => {\n\tconst dispatch = useAppDispatch();\n\tlet { id } = useParams<IRouteParams>();\n\tconst user = useContext(AuthContext);\n\tconst monster = useSelector(selectMonsterById)(id);\n\tconst monsterImagePath = useSelector(selectMonsterImagePathById)(id);\n\tconst confirmationModalOpen = useAppSelector(\n\t\t(state) => state.modals.confirmationModalOpen\n\t);\n\tconst isLoading = useAppSelector(\n\t\t(state) => state.monsters.status === \"loading\"\n\t);\n\n\tuseEffect(() => {\n\t\tif (monster?.portrait) {\n\t\t\tdispatch(fetchMonsterImagePath(monster));\n\t\t}\n\t}, [dispatch, monster]);\n\n\tif (!monster) {\n\t\treturn null;\n\t}\n\n\tconst handleUpdateMonster = () => {\n\t\tdispatch(openMonsterModal(monster));\n\t};\n\n\tconst handleDeleteMonster = async () => {\n\t\tdispatch(openConfirmationModal());\n\t};\n\n\tconst handleCloseConfirmationModal = () => {\n\t\tdispatch(closeConfirmationModal());\n\t};\n\n\tconst handleConfirmDeleteMonster = async () => {\n\t\ttry {\n\t\t\tawait dispatch(deleteMonster(monster)).unwrap();\n\t\t\tdispatch(closeConfirmationModal());\n\t\t} catch (error) {\n\t\t\t// TODO: Show error popup\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tflexWrap: \"wrap\",\n\t\t\t\t\tmarginBottom: 2,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography variant=\"h2\">{monster.name}</Typography>\n\t\t\t\t{user && (\n\t\t\t\t\t<Box sx={{ display: \"flex\" }}>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={handleUpdateMonster}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Edit fontSize=\"large\" />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\t\t\tcolor=\"warning\"\n\t\t\t\t\t\t\tonClick={handleDeleteMonster}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Delete fontSize=\"large\" />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t{monsterImagePath && (\n\t\t\t\t<Box\n\t\t\t\t\tcomponent=\"img\"\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tmarginBottom: 3,\n\t\t\t\t\t\tmaxWidth: \"100%\",\n\t\t\t\t\t\tmaxHeight: 600,\n\t\t\t\t\t}}\n\t\t\t\t\tsrc={monsterImagePath}\n\t\t\t\t\talt={monster.name}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t<Box marginBottom={4}>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tDescription\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"h5\" paragraph>\n\t\t\t\t\t{monster.description || \"No description available.\"}\n\t\t\t\t</Typography>\n\t\t\t\t<Divider />\n\t\t\t</Box>\n\n\t\t\t<Box marginBottom={4}>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tAttributes\n\t\t\t\t</Typography>\n\t\t\t\t<Paper\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tmarginBottom: 3,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"space-around\",\n\t\t\t\t\t\t\tflexWrap: {\n\t\t\t\t\t\t\t\txs: \"wrap\",\n\t\t\t\t\t\t\t\tlg: \"nowrap\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgridGap: 16,\n\t\t\t\t\t\t\tpadding: 2,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{getStatsArray(monster.stats).map((stat) => (\n\t\t\t\t\t\t\t<Fragment key={stat.key}>\n\t\t\t\t\t\t\t\t<Box sx={{ textAlign: \"center\", flex: 1 }}>\n\t\t\t\t\t\t\t\t\t<Typography>{stat.name}</Typography>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"h5\" component=\"p\">\n\t\t\t\t\t\t\t\t\t\t{stat.value}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t\t<Divider\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\tdisplay: { xs: \"none\", lg: \"block\" },\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\t\t\tflexItem\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t))}\n\n\t\t\t\t\t\t<Box sx={{ textAlign: \"center\", flex: 1 }}>\n\t\t\t\t\t\t\t<Typography color=\"primary\">Challenge</Typography>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tvariant=\"h5\"\n\t\t\t\t\t\t\t\tcomponent=\"p\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{monster.challenge}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\t\t\t\t<Divider />\n\t\t\t</Box>\n\n\t\t\t<Box marginBottom={4}>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tResistances\n\t\t\t\t</Typography>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tspacing={3}\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tmarginBottom: 3,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Grid item xs={12} sm={6} md={4}>\n\t\t\t\t\t\t<StatsTable\n\t\t\t\t\t\t\ttitle=\"Physical\"\n\t\t\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t\t\t\tstats={getPhysicalResistancesArray(\n\t\t\t\t\t\t\t\tmonster.resistances\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={6} md={4}>\n\t\t\t\t\t\t<StatsTable\n\t\t\t\t\t\t\ttitle=\"Elemental\"\n\t\t\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t\t\t\tstats={getElementalResistancesArray(\n\t\t\t\t\t\t\t\tmonster.resistances\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} sm={6} md={4}>\n\t\t\t\t\t\t<StatsTable\n\t\t\t\t\t\t\ttitle=\"Auxillary\"\n\t\t\t\t\t\t\tsuffix=\"%\"\n\t\t\t\t\t\t\tstats={getAuxillaryResistancesArray(\n\t\t\t\t\t\t\t\tmonster.resistances\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Divider />\n\t\t\t</Box>\n\n\t\t\t<Box marginBottom={4}>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tEquipment\n\t\t\t\t</Typography>\n\t\t\t\t<Grid\n\t\t\t\t\tcontainer\n\t\t\t\t\tspacing={2}\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tmarginBottom: 3,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{EQUIPMENT_SLOTS.map((slot) => {\n\t\t\t\t\t\tconst equipment =\n\t\t\t\t\t\t\tmonster.equipment && monster.equipment[slot];\n\n\t\t\t\t\t\tif (equipment) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Grid key={slot} item xs={12} md={6} lg={3}>\n\t\t\t\t\t\t\t\t\t<EquipmentCard id={equipment} slot={slot} />\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t})}\n\t\t\t\t</Grid>\n\t\t\t\t<Divider />\n\t\t\t</Box>\n\n\t\t\t<Box marginBottom={4}>\n\t\t\t\t<Typography\n\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tSkills\n\t\t\t\t</Typography>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t{monster.skills.map((skill) => (\n\t\t\t\t\t\t<Grid key={skill} item xs={12} md={6} lg={3}>\n\t\t\t\t\t\t\t<SkillCard id={skill} />\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t))}\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\n\t\t\t<ConfirmationModal\n\t\t\t\topen={confirmationModalOpen}\n\t\t\t\ttitle=\"Are you sure?\"\n\t\t\t\tcontent={`This action will permanently delete ${monster.name} from the database.`}\n\t\t\t\thandleClose={handleCloseConfirmationModal}\n\t\t\t\thandleConfirm={handleConfirmDeleteMonster}\n\t\t\t\tdisabled={isLoading}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","import { Box, Button, Typography } from \"@mui/material\";\nimport { useContext } from \"react\";\nimport { useAppDispatch } from \"common/hooks\";\nimport { AuthContext } from \"common/context\";\nimport { openMonsterModal } from \"features/modals\";\nimport { MonstersTable } from \"common/components\";\n\nexport const Monsters: React.FC = () => {\n\tconst user = useContext(AuthContext);\n\tconst dispatch = useAppDispatch();\n\n\tconst handleOpenMonsterModal = () => {\n\t\tdispatch(openMonsterModal());\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tflexWrap: \"wrap\",\n\t\t\t\t\tgap: 1,\n\t\t\t\t\tmarginBottom: 2,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography variant=\"h2\">Monsters</Typography>\n\n\t\t\t\t{user && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tonClick={handleOpenMonsterModal}\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd Monster\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t\t<MonstersTable />\n\t\t</div>\n\t);\n};\n","import {\n\tAvatar,\n\tIconButton,\n\tListItem,\n\tListItemAvatar,\n\tListItemText,\n} from \"@mui/material\";\nimport { useSelector } from \"react-redux\";\nimport { EquipmentSlot, EQUIPMENT_TYPE_NAME_MAP } from \"common/utils\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport { selectEquipmentById } from \"features/equipment\";\nimport { EquipmentSlotIcon } from \"features/equipment/EquipmentSlotIcon\";\n\ninterface IProps {\n\tid: string;\n\tslot: EquipmentSlot;\n\tonRemove: (equipment: string) => void;\n}\n\nexport const EquipmentItem: React.FC<IProps> = ({ id, slot, onRemove }) => {\n\tconst equipment = useSelector(selectEquipmentById)(id);\n\n\tconst handleRemove = () => {\n\t\tif (id) {\n\t\t\tonRemove(id);\n\t\t}\n\t};\n\n\tif (!equipment) {\n\t\treturn null;\n\t}\n\n\tconst secondaryText = `Level ${equipment.level} ${\n\t\tEQUIPMENT_TYPE_NAME_MAP[equipment.type]\n\t}`;\n\n\treturn (\n\t\t<ListItem\n\t\t\tsecondaryAction={\n\t\t\t\t<IconButton\n\t\t\t\t\tedge=\"end\"\n\t\t\t\t\taria-label=\"remove equipment\"\n\t\t\t\t\tcolor=\"warning\"\n\t\t\t\t\tonClick={handleRemove}\n\t\t\t\t>\n\t\t\t\t\t<DeleteIcon />\n\t\t\t\t</IconButton>\n\t\t\t}\n\t\t>\n\t\t\t<ListItemAvatar>\n\t\t\t\t<Avatar variant=\"square\">\n\t\t\t\t\t<EquipmentSlotIcon slot={slot} />\n\t\t\t\t</Avatar>\n\t\t\t</ListItemAvatar>\n\t\t\t<ListItemText primary={equipment.name} secondary={secondaryText} />\n\t\t</ListItem>\n\t);\n};\n","import {\n\tAvatar,\n\tIconButton,\n\tListItem,\n\tListItemAvatar,\n\tListItemText,\n} from \"@mui/material\";\nimport { useSelector } from \"react-redux\";\nimport { selectSkillById } from \"features/skills/skillsSlice\";\nimport { getSkillType, SKILL_TYPE_NAME_MAP } from \"common/utils\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport { SkillIcon } from \"features/skills/SkillIcon\";\n\ninterface IProps {\n\tid: string;\n\tonRemoveSkill: (skill: string) => void;\n}\n\nexport const SkillItem: React.FC<IProps> = ({ id, onRemoveSkill }) => {\n\tconst skill = useSelector(selectSkillById)(id);\n\n\tconst handleRemoveSkill = () => {\n\t\tonRemoveSkill(id);\n\t};\n\n\tif (!skill) {\n\t\treturn null;\n\t}\n\n\tconst secondaryText = `Level ${skill.level} ${\n\t\tSKILL_TYPE_NAME_MAP[getSkillType(skill)]\n\t}`;\n\n\treturn (\n\t\t<ListItem\n\t\t\tsecondaryAction={\n\t\t\t\t<IconButton\n\t\t\t\t\tedge=\"end\"\n\t\t\t\t\taria-label=\"remove skill\"\n\t\t\t\t\tcolor=\"warning\"\n\t\t\t\t\tonClick={handleRemoveSkill}\n\t\t\t\t>\n\t\t\t\t\t<DeleteIcon />\n\t\t\t\t</IconButton>\n\t\t\t}\n\t\t>\n\t\t\t<ListItemAvatar>\n\t\t\t\t<Avatar variant=\"square\">\n\t\t\t\t\t<SkillIcon skill={skill} />\n\t\t\t\t</Avatar>\n\t\t\t</ListItemAvatar>\n\t\t\t<ListItemText primary={skill.name} secondary={secondaryText} />\n\t\t</ListItem>\n\t);\n};\n","import { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport {\n\tcloseMonsterModal,\n\topenAddEquipmentModal,\n\topenAddSkillsModal,\n\topenErrorModal,\n} from \"features/modals/modalsSlice\";\nimport { Fragment, useEffect, useMemo, useState } from \"react\";\nimport {\n\tBox,\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n\tFormControl,\n\tGrid,\n\tList,\n\tTextField,\n\tTypography,\n} from \"@mui/material\";\nimport { saveMonster, updateMonster } from \"features/monsters\";\nimport { IBaseMonster, IMonster, ISaveMonster, TEquipment } from \"common/types\";\nimport { StatGroup } from \"common/components\";\nimport {\n\tDamageType,\n\tEquipmentSlot,\n\tEQUIPMENT_SLOTS,\n\tgetResistancesArray,\n\tgetStatsArray,\n} from \"common/utils\";\nimport { AddSkillsModal } from \"./AddSkillsModal\";\nimport { EquipmentItem, SkillItem } from \"./monsterModalComponents\";\nimport { AddEquipmentModal } from \"./AddEquipmentModal\";\n\nconst defaultMonsterValues: IBaseMonster = {\n\tchallenge: 1,\n\tresistances: {\n\t\t[DamageType.Slashing]: 0,\n\t\t[DamageType.Crushing]: 0,\n\t\t[DamageType.Piercing]: 0,\n\t\t[DamageType.Fire]: 0,\n\t\t[DamageType.Cold]: 0,\n\t\t[DamageType.Lighting]: 0,\n\t\t[DamageType.Radiant]: 0,\n\t\t[DamageType.Necrotic]: 0,\n\t\t[DamageType.Poison]: 0,\n\t\t[DamageType.Acid]: 0,\n\t},\n\tdescription: \"\",\n\tname: \"\",\n\tportrait: \"\",\n\tskills: [],\n\tstats: {\n\t\tstrength: 10,\n\t\tdexterity: 10,\n\t\tconstitution: 10,\n\t\tintelligence: 10,\n\t\twisdom: 10,\n\t\tcharisma: 10,\n\t},\n\tequipment: {},\n};\n\nconst defaultFormValues: ISaveMonster = {\n\tmonster: defaultMonsterValues,\n\timage: null,\n};\n\nconst getBaseMonsterValues = (monster: IMonster) => {\n\tconst { id, ...baseMonster } = monster;\n\treturn baseMonster as IBaseMonster;\n};\n\nexport const MonsterModal: React.FC = () => {\n\tconst dispatch = useAppDispatch();\n\tconst open = useAppSelector((state) => state.modals.monsterModal.open);\n\tconst monster = useAppSelector(\n\t\t(state) => state.modals.monsterModal.monster\n\t);\n\tconst isLoading = useAppSelector(\n\t\t(state) => state.monsters.status === \"loading\"\n\t);\n\tconst [formValues, setFormValues] = useState(defaultFormValues);\n\tconst monsterValues = useMemo(\n\t\t() => monster && getBaseMonsterValues(monster),\n\t\t[monster]\n\t);\n\n\tconst title = monster ? \"Update Monster\" : \"Add Monster\";\n\tconst subtitle = monster\n\t\t? `Updating ${monster?.name}`\n\t\t: \"Add a new monster to the database.\";\n\tconst hasSkills = formValues.monster.skills.length > 0;\n\tconst hasEquipment =\n\t\tformValues.monster.equipment &&\n\t\tObject.values(formValues.monster.equipment).filter(Boolean).length > 0;\n\n\tuseEffect(() => {\n\t\tsetFormValues({\n\t\t\tmonster: monsterValues || defaultMonsterValues,\n\t\t\timage: null,\n\t\t});\n\t}, [monsterValues]);\n\n\tconst handleClose = () => {\n\t\tdispatch(closeMonsterModal());\n\t};\n\n\tconst handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { name, type, value, valueAsNumber } = e.currentTarget;\n\t\tconst finalValue = type === \"number\" ? valueAsNumber : value;\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tmonster: {\n\t\t\t\t...formValues.monster,\n\t\t\t\t[name]: finalValue,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleChangeImage = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst image = e.currentTarget.files?.item(0) || null;\n\t\tconst portrait = image?.name || \"\";\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\timage,\n\t\t\tmonster: {\n\t\t\t\t...formValues.monster,\n\t\t\t\tportrait,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleChangeResistances = (\n\t\te: React.ChangeEvent<HTMLInputElement>\n\t) => {\n\t\tconst { name, valueAsNumber } = e.currentTarget;\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tmonster: {\n\t\t\t\t...formValues.monster,\n\t\t\t\tresistances: {\n\t\t\t\t\t...formValues.monster.resistances,\n\t\t\t\t\t[name]: valueAsNumber,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleChangeStats = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { name, valueAsNumber } = e.currentTarget;\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tmonster: {\n\t\t\t\t...formValues.monster,\n\t\t\t\tstats: {\n\t\t\t\t\t...formValues.monster.stats,\n\t\t\t\t\t[name]: valueAsNumber,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleSaveMonster = async (e: React.FormEvent<HTMLFormElement>) => {\n\t\ttry {\n\t\t\te.preventDefault();\n\n\t\t\tif (!hasSkills) {\n\t\t\t\tdispatch(\n\t\t\t\t\topenErrorModal({ message: \"Please add at least 1 skill.\" })\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (monster) {\n\t\t\t\tconst payload = {\n\t\t\t\t\t...formValues,\n\t\t\t\t\tid: monster.id,\n\t\t\t\t\toldImage: monster.portrait,\n\t\t\t\t};\n\t\t\t\tawait dispatch(updateMonster(payload)).unwrap();\n\t\t\t} else {\n\t\t\t\tawait dispatch(saveMonster(formValues)).unwrap();\n\t\t\t}\n\t\t\tdispatch(closeMonsterModal());\n\t\t\tsetFormValues(defaultFormValues);\n\t\t} catch (error) {\n\t\t\t// TODO: Show error popup\n\t\t}\n\t};\n\n\tconst handleOpenAddEquipmentModal = () => {\n\t\tdispatch(openAddEquipmentModal());\n\t};\n\n\tconst handleSetEquipment = (equipment: Partial<TEquipment>) => {\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tmonster: {\n\t\t\t\t...formValues.monster,\n\t\t\t\tequipment,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleRemoveEquipment = (slot: EquipmentSlot) => {\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tmonster: {\n\t\t\t\t...formValues.monster,\n\t\t\t\tequipment: {\n\t\t\t\t\t...formValues.monster.equipment,\n\t\t\t\t\t[slot]: null,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleOpenAddSkillsModal = () => {\n\t\tdispatch(openAddSkillsModal());\n\t};\n\n\tconst handleSetSkills = (skills: string[]) => {\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tmonster: {\n\t\t\t\t...formValues.monster,\n\t\t\t\tskills,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleRemoveSkill = (skill: string) => {\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tmonster: {\n\t\t\t\t...formValues.monster,\n\t\t\t\tskills: formValues.monster.skills.filter((sk) => sk !== skill),\n\t\t\t},\n\t\t});\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"sm\"\n\t\t\t\tfullWidth\n\t\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\n\t\t\t\t<form onSubmit={handleSaveMonster}>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<DialogContentText>{subtitle}</DialogContentText>\n\t\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t\t\t\t\tid=\"contained-button-file\"\n\t\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\tonChange={handleChangeImage}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label htmlFor=\"contained-button-file\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tUpload Image\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t{formValues.image && (\n\t\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: 2,\n\t\t\t\t\t\t\t\t\t\t\t\tdisplay: \"inline\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{formValues.image.name}\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\t\tvalue={formValues.monster.name}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\tminLength: 3,\n\t\t\t\t\t\t\t\t\tmaxLength: 25,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\t\t\tvalue={formValues.monster.description}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\tminRows={4}\n\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\tmaxLength: 200,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<StatGroup\n\t\t\t\t\t\t\ttitle=\"Stats (1-30)\"\n\t\t\t\t\t\t\tstats={getStatsArray(formValues.monster.stats)}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={30}\n\t\t\t\t\t\t\thandleChange={handleChangeStats}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<StatGroup\n\t\t\t\t\t\t\ttitle=\"Resistances (%)\"\n\t\t\t\t\t\t\tstats={getResistancesArray(\n\t\t\t\t\t\t\t\tformValues.monster.resistances\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tmin={-1000}\n\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\thandleChange={handleChangeResistances}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tDifficulty Rating (1-30)\n\t\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={6} md={4}>\n\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tname=\"challenge\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Rating\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tvalue={formValues.monster.challenge}\n\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\t\t\tmax: 30,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tEquipment\n\t\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t\t{hasEquipment ? (\n\t\t\t\t\t\t\t\t<List\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\t\tbgcolor: \"background.paper\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{EQUIPMENT_SLOTS.map((slot) => {\n\t\t\t\t\t\t\t\t\t\tconst equipment =\n\t\t\t\t\t\t\t\t\t\t\tformValues.monster.equipment &&\n\t\t\t\t\t\t\t\t\t\t\tformValues.monster.equipment[slot];\n\n\t\t\t\t\t\t\t\t\t\tconst handleRemove = () => {\n\t\t\t\t\t\t\t\t\t\t\thandleRemoveEquipment(slot);\n\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t\tif (!equipment) {\n\t\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<EquipmentItem\n\t\t\t\t\t\t\t\t\t\t\t\tkey={slot}\n\t\t\t\t\t\t\t\t\t\t\t\tid={equipment}\n\t\t\t\t\t\t\t\t\t\t\t\tslot={slot}\n\t\t\t\t\t\t\t\t\t\t\t\tonRemove={handleRemove}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\tPlease add some equipment!\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSkills\n\t\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t\t{hasSkills ? (\n\t\t\t\t\t\t\t\t<List\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\t\tbgcolor: \"background.paper\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{formValues.monster.skills.map((skill) => (\n\t\t\t\t\t\t\t\t\t\t<SkillItem\n\t\t\t\t\t\t\t\t\t\t\tkey={skill}\n\t\t\t\t\t\t\t\t\t\t\tid={skill}\n\t\t\t\t\t\t\t\t\t\t\tonRemoveSkill={handleRemoveSkill}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Typography>Please add some skills!</Typography>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={handleOpenAddEquipmentModal}\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdd Equipment\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={handleOpenAddSkillsModal}\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tAdd Skills\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tdisabled={isLoading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</form>\n\t\t\t</Dialog>\n\n\t\t\t<AddEquipmentModal\n\t\t\t\tequipment={formValues.monster.equipment || {}}\n\t\t\t\tonSetEquipment={handleSetEquipment}\n\t\t\t/>\n\t\t\t<AddSkillsModal\n\t\t\t\tskills={formValues.monster.skills}\n\t\t\t\tonSetSkills={handleSetSkills}\n\t\t\t/>\n\t\t</Fragment>\n\t);\n};\n","import { Fragment } from \"react\";\nimport {\n\tBox,\n\tDialogContentText,\n\tGrid,\n\tMenuItem,\n\tTextField,\n} from \"@mui/material\";\nimport { useEffectContext } from \"common/context\";\nimport {\n\tAUXILIARY_EFFECTS,\n\tAUXILIARY_EFFECTS_NAME_MAP,\n\tMAX_DURATION,\n} from \"common/utils\";\n\nexport const AuxiliaryEffect: React.FC = () => {\n\tconst {\n\t\tstate: { auxiliaryEffectForm },\n\t\tdispatch,\n\t} = useEffectContext();\n\n\tconst handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { name, type, value, valueAsNumber } = e.target;\n\t\tconst finalValue = type === \"number\" ? valueAsNumber : value;\n\n\t\tdispatch({\n\t\t\ttype: \"UPDATE\",\n\t\t\tpayload: {\n\t\t\t\t...auxiliaryEffectForm,\n\t\t\t\t[name as string]: finalValue,\n\t\t\t},\n\t\t});\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box my={3}>\n\t\t\t\t<DialogContentText\n\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tEffect Properties\n\t\t\t\t</DialogContentText>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tlabel=\"Type\"\n\t\t\t\t\t\t\tname=\"effect\"\n\t\t\t\t\t\t\tvalue={auxiliaryEffectForm.effect}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{AUXILIARY_EFFECTS.map((effect) => (\n\t\t\t\t\t\t\t\t<MenuItem key={effect} value={effect}>\n\t\t\t\t\t\t\t\t\t{AUXILIARY_EFFECTS_NAME_MAP[effect]}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TextField>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t\t<Box my={3}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tname=\"accuracy\"\n\t\t\t\t\t\t\tlabel=\"Accuracy (%)\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={auxiliaryEffectForm.accuracy}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tname=\"duration\"\n\t\t\t\t\t\t\tlabel={`Duration (1-${MAX_DURATION})`}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={auxiliaryEffectForm.duration}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\tmax: MAX_DURATION,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t</Fragment>\n\t);\n};\n","import { Fragment } from \"react\";\nimport {\n\tBox,\n\tDialogContentText,\n\tGrid,\n\tMenuItem,\n\tTextField,\n} from \"@mui/material\";\nimport {\n\tMAX_DAMAGE,\n\tMAX_MULTIPLIER,\n\tRESISTANCES,\n\tRESISTANCES_NAME_MAP,\n\tSTATS,\n\tSTATS_NAME_MAP,\n} from \"common/utils\";\nimport { useEffectContext } from \"common/context\";\n\nexport const DamageEffect: React.FC = () => {\n\tconst {\n\t\tstate: { damageEffectForm },\n\t\tdispatch,\n\t} = useEffectContext();\n\n\tconst handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { name, type, value, valueAsNumber } = e.target;\n\t\tconst finalValue = type === \"number\" ? valueAsNumber : value;\n\n\t\tdispatch({\n\t\t\ttype: \"UPDATE\",\n\t\t\tpayload: {\n\t\t\t\t...damageEffectForm,\n\t\t\t\t[name as string]: finalValue,\n\t\t\t},\n\t\t});\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box my={3}>\n\t\t\t\t<DialogContentText\n\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tEffect Properties\n\t\t\t\t</DialogContentText>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tlabel=\"Modifier\"\n\t\t\t\t\t\t\tname=\"modifier\"\n\t\t\t\t\t\t\tvalue={damageEffectForm.modifier}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{STATS.map((stat) => (\n\t\t\t\t\t\t\t\t<MenuItem key={stat} value={stat}>\n\t\t\t\t\t\t\t\t\t{STATS_NAME_MAP[stat]}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TextField>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tlabel=\"Damage Type\"\n\t\t\t\t\t\t\tname=\"damageType\"\n\t\t\t\t\t\t\tvalue={damageEffectForm.damageType}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{RESISTANCES.map((resistance) => (\n\t\t\t\t\t\t\t\t<MenuItem key={resistance} value={resistance}>\n\t\t\t\t\t\t\t\t\t{RESISTANCES_NAME_MAP[resistance]}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TextField>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t\t<Box my={3}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={6} md={4}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tname=\"min\"\n\t\t\t\t\t\t\tlabel={`Minimum Roll (1-${MAX_DAMAGE})`}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={damageEffectForm.min}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\tmax: MAX_DAMAGE,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={6} md={4}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tname=\"max\"\n\t\t\t\t\t\t\tlabel={`Maximum Roll (1-${MAX_DAMAGE})`}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={damageEffectForm.max}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\tmax: MAX_DAMAGE,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={6} md={4}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tname=\"multiplier\"\n\t\t\t\t\t\t\tlabel={`Multiplier (0-${MAX_MULTIPLIER})`}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={damageEffectForm.multiplier}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: MAX_MULTIPLIER,\n\t\t\t\t\t\t\t\tstep: \".01\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t</Fragment>\n\t);\n};\n","import { Fragment } from \"react\";\nimport {\n\tBox,\n\tDialogContentText,\n\tGrid,\n\tMenuItem,\n\tTextField,\n} from \"@mui/material\";\nimport {\n\tMAX_DAMAGE,\n\tMAX_MULTIPLIER,\n\tSTATS,\n\tSTATS_NAME_MAP,\n} from \"common/utils\";\nimport { useEffectContext } from \"common/context\";\n\nexport const HealEffect: React.FC = () => {\n\tconst {\n\t\tstate: { healEffectForm },\n\t\tdispatch,\n\t} = useEffectContext();\n\n\tconst handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { name, type, value, valueAsNumber } = e.target;\n\t\tconst finalValue = type === \"number\" ? valueAsNumber : value;\n\n\t\tdispatch({\n\t\t\ttype: \"UPDATE\",\n\t\t\tpayload: {\n\t\t\t\t...healEffectForm,\n\t\t\t\t[name as string]: finalValue,\n\t\t\t},\n\t\t});\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box my={3}>\n\t\t\t\t<DialogContentText\n\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tEffect Properties\n\t\t\t\t</DialogContentText>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tlabel=\"Modifier\"\n\t\t\t\t\t\t\tname=\"modifier\"\n\t\t\t\t\t\t\tvalue={healEffectForm.modifier}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{STATS.map((stat) => (\n\t\t\t\t\t\t\t\t<MenuItem key={stat} value={stat}>\n\t\t\t\t\t\t\t\t\t{STATS_NAME_MAP[stat]}\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TextField>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t\t<Box my={3}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={6} md={4}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tname=\"min\"\n\t\t\t\t\t\t\tlabel={`Minimum Roll (1-${MAX_DAMAGE})`}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={healEffectForm.min}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\tmax: MAX_DAMAGE,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={6} md={4}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tname=\"max\"\n\t\t\t\t\t\t\tlabel={`Maximum Roll (1-${MAX_DAMAGE})`}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={healEffectForm.max}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\tmax: MAX_DAMAGE,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={6} md={4}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tname=\"multiplier\"\n\t\t\t\t\t\t\tlabel={`Multiplier (0-${MAX_MULTIPLIER})`}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={healEffectForm.multiplier}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: MAX_MULTIPLIER,\n\t\t\t\t\t\t\t\tstep: \".01\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t</Fragment>\n\t);\n};\n","import { Fragment, useState } from \"react\";\nimport { Box, Grid, TextField } from \"@mui/material\";\nimport {\n\tDamageType,\n\tgetResistancesArray,\n\tgetStatsArray,\n\tMAX_DURATION,\n\tStat,\n} from \"common/utils\";\nimport { StatGroup } from \"common/components\";\nimport { TDamageTypes, TStats } from \"common/types\";\nimport { useEffectContext } from \"common/context\";\n\nconst DEFAULT_STAT_VALUES = {\n\t[Stat.Strength]: 0,\n\t[Stat.Dexterity]: 0,\n\t[Stat.Constitution]: 0,\n\t[Stat.Intelligence]: 0,\n\t[Stat.Wisdom]: 0,\n\t[Stat.Charisma]: 0,\n};\n\nconst DEFAULT_RESISTANCE_VALUES = {\n\t[DamageType.Slashing]: 0,\n\t[DamageType.Crushing]: 0,\n\t[DamageType.Piercing]: 0,\n\t[DamageType.Cold]: 0,\n\t[DamageType.Fire]: 0,\n\t[DamageType.Lighting]: 0,\n\t[DamageType.Radiant]: 0,\n\t[DamageType.Necrotic]: 0,\n\t[DamageType.Poison]: 0,\n\t[DamageType.Acid]: 0,\n};\n\nexport const StatusEffect: React.FC = () => {\n\tconst {\n\t\tstate: { statusEffectForm },\n\t\tdispatch,\n\t} = useEffectContext();\n\tconst [stats, setStats] = useState<TStats>({\n\t\t...DEFAULT_STAT_VALUES,\n\t\t...statusEffectForm.modifiers.stats,\n\t});\n\tconst [resistances, setResistances] = useState<TDamageTypes>({\n\t\t...DEFAULT_RESISTANCE_VALUES,\n\t\t...statusEffectForm.modifiers.resistances,\n\t});\n\n\tconst handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { name, type, value, valueAsNumber } = e.target;\n\t\tconst finalValue = type === \"number\" ? valueAsNumber : value;\n\n\t\tdispatch({\n\t\t\ttype: \"UPDATE\",\n\t\t\tpayload: {\n\t\t\t\t...statusEffectForm,\n\t\t\t\t[name as string]: finalValue,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleChangeStats = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { name, valueAsNumber } = e.currentTarget;\n\n\t\tsetStats({\n\t\t\t...stats,\n\t\t\t[name as string]: valueAsNumber,\n\t\t});\n\n\t\tconst newStats = {\n\t\t\t...statusEffectForm.modifiers.stats,\n\t\t\t[name as string]: valueAsNumber,\n\t\t};\n\n\t\tObject.keys(newStats).forEach((key) => {\n\t\t\tif (!newStats[key as Stat]) {\n\t\t\t\tdelete newStats[key as Stat];\n\t\t\t}\n\t\t});\n\n\t\tdispatch({\n\t\t\ttype: \"UPDATE\",\n\t\t\tpayload: {\n\t\t\t\t...statusEffectForm,\n\t\t\t\tmodifiers: {\n\t\t\t\t\t...statusEffectForm.modifiers,\n\t\t\t\t\tstats: newStats,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleChangeResistances = (\n\t\te: React.ChangeEvent<HTMLInputElement>\n\t) => {\n\t\tconst { name, valueAsNumber } = e.currentTarget;\n\n\t\tsetResistances({\n\t\t\t...resistances,\n\t\t\t[name as string]: valueAsNumber,\n\t\t});\n\n\t\tconst newResistances = {\n\t\t\t...statusEffectForm.modifiers.resistances,\n\t\t\t[name as string]: valueAsNumber,\n\t\t};\n\n\t\tObject.keys(newResistances).forEach((key) => {\n\t\t\tif (!newResistances[key as DamageType]) {\n\t\t\t\tdelete newResistances[key as DamageType];\n\t\t\t}\n\t\t});\n\n\t\tdispatch({\n\t\t\ttype: \"UPDATE\",\n\t\t\tpayload: {\n\t\t\t\t...statusEffectForm,\n\t\t\t\tmodifiers: {\n\t\t\t\t\t...statusEffectForm.modifiers,\n\t\t\t\t\tresistances: newResistances,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box my={3}>\n\t\t\t\t<StatGroup\n\t\t\t\t\ttitle=\"Stats (-30-30)\"\n\t\t\t\t\tstats={getStatsArray(stats)}\n\t\t\t\t\tmin={-30}\n\t\t\t\t\tmax={30}\n\t\t\t\t\thandleChange={handleChangeStats}\n\t\t\t\t/>\n\t\t\t\t<StatGroup\n\t\t\t\t\ttitle=\"Resistances (%)\"\n\t\t\t\t\tstats={getResistancesArray(resistances)}\n\t\t\t\t\tmin={-100}\n\t\t\t\t\tmax={100}\n\t\t\t\t\thandleChange={handleChangeResistances}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t\t<Box my={3}>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tname=\"accuracy\"\n\t\t\t\t\t\t\tlabel=\"Accuracy (%)\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={statusEffectForm.accuracy}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\tmax: 100,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tname=\"duration\"\n\t\t\t\t\t\t\tlabel={`Duration (1-${MAX_DURATION})`}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={statusEffectForm.duration}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\tmax: MAX_DURATION,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t</Fragment>\n\t);\n};\n","import { Fragment } from \"react\";\nimport { Box, DialogContentText, Grid, TextField } from \"@mui/material\";\nimport { useEffectContext } from \"common/context\";\nimport { MAX_MULTIPLIER } from \"common/utils\";\n\nexport const WeaponDamageEffect: React.FC = () => {\n\tconst {\n\t\tstate: { weaponDamageEffectForm },\n\t\tdispatch,\n\t} = useEffectContext();\n\n\tconst handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { name, type, value, valueAsNumber } = e.target;\n\t\tconst finalValue = type === \"number\" ? valueAsNumber : value;\n\n\t\tdispatch({\n\t\t\ttype: \"UPDATE\",\n\t\t\tpayload: {\n\t\t\t\t...weaponDamageEffectForm,\n\t\t\t\t[name as string]: finalValue,\n\t\t\t},\n\t\t});\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box my={3}>\n\t\t\t\t<DialogContentText\n\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\tEffect Properties\n\t\t\t\t</DialogContentText>\n\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t<Grid item xs={6} md={4}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tname=\"multiplier\"\n\t\t\t\t\t\t\tlabel={`Multiplier (0-${MAX_MULTIPLIER})`}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tvalue={weaponDamageEffectForm.multiplier}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tmax: MAX_MULTIPLIER,\n\t\t\t\t\t\t\t\tstep: \".01\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t</Fragment>\n\t);\n};\n","import { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { closeEffectModal } from \"./modalsSlice\";\nimport { useEffect, useReducer, useState } from \"react\";\nimport {\n\tBox,\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n\tGrid,\n\tMenuItem,\n\tTextField,\n} from \"@mui/material\";\nimport { ISkillEffect } from \"common/types\";\nimport { EFFECTS_NAME_MAP, EffectType } from \"common/utils\";\nimport {\n\tEffectContext,\n\teffectReducer,\n\tinitialEffectState,\n} from \"common/context\";\nimport {\n\tAuxiliaryEffect,\n\tDamageEffect,\n\tHealEffect,\n\tStatusEffect,\n\tWeaponDamageEffect,\n} from \"./effectModalComponents\";\n\ninterface IProps {\n\teffects: Readonly<EffectType[]>;\n\tonAddEffect: (effect: ISkillEffect) => void;\n\tonUpdateEffect: (effect: ISkillEffect, index: number) => void;\n}\n\nexport const EffectModal: React.FC<IProps> = ({\n\teffects,\n\tonAddEffect,\n\tonUpdateEffect,\n}) => {\n\tconst dispatch = useAppDispatch();\n\tconst open = useAppSelector((state) => state.modals.effectModal.open);\n\tconst effect = useAppSelector((state) => state.modals.effectModal.effect);\n\tconst index = useAppSelector((state) => state.modals.effectModal.index);\n\tconst [effectType, setEffectType] = useState(effects[0]);\n\tconst [state, localDispatch] = useReducer(\n\t\teffectReducer,\n\t\tinitialEffectState\n\t);\n\tconst title = effect ? \"Update Effect\" : \"Add Effect\";\n\tconst confirm = effect ? \"Update\" : \"Add\";\n\n\tconst providerState = {\n\t\tstate,\n\t\tdispatch: localDispatch,\n\t};\n\n\tuseEffect(() => {\n\t\tif (effect) {\n\t\t\tsetEffectType(effect.type);\n\t\t\tlocalDispatch({ type: \"UPDATE\", payload: effect });\n\t\t}\n\t}, [effect]);\n\n\tuseEffect(() => {\n\t\tif (!open) {\n\t\t\tlocalDispatch({ type: \"RESET\" });\n\t\t}\n\t}, [open]);\n\n\tconst handleClose = () => {\n\t\tdispatch(closeEffectModal());\n\t};\n\n\tconst handleChangeType = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { value } = e.target;\n\t\tsetEffectType(value as EffectType);\n\t};\n\n\tconst handleAddEffect = (e: React.FormEvent<HTMLFormElement>) => {\n\t\te.preventDefault();\n\n\t\tconst formValues = {\n\t\t\t[EffectType.WeaponDamage]: state.weaponDamageEffectForm,\n\t\t\t[EffectType.Damage]: state.damageEffectForm,\n\t\t\t[EffectType.Heal]: state.healEffectForm,\n\t\t\t[EffectType.Status]: state.statusEffectForm,\n\t\t\t[EffectType.Auxiliary]: state.auxiliaryEffectForm,\n\t\t}[effectType];\n\n\t\tif (effect && typeof index === \"number\") {\n\t\t\tonUpdateEffect(formValues, index);\n\t\t} else {\n\t\t\tonAddEffect(formValues);\n\t\t}\n\n\t\tdispatch(closeEffectModal());\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={handleClose}\n\t\t\tmaxWidth=\"sm\"\n\t\t\tfullWidth\n\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t>\n\t\t\t<DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\n\t\t\t<form onSubmit={handleAddEffect}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<Box mb={3}>\n\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEffect Type\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tlabel=\"Type\"\n\t\t\t\t\t\t\t\t\tname=\"effectType\"\n\t\t\t\t\t\t\t\t\tvalue={effectType}\n\t\t\t\t\t\t\t\t\tonChange={handleChangeType}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{effects.map((effect, index) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={effect}>\n\t\t\t\t\t\t\t\t\t\t\t{EFFECTS_NAME_MAP[effect]}\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<EffectContext.Provider value={providerState}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t[EffectType.WeaponDamage]: (\n\t\t\t\t\t\t\t\t\t<WeaponDamageEffect />\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t[EffectType.Damage]: <DamageEffect />,\n\t\t\t\t\t\t\t\t[EffectType.Heal]: <HealEffect />,\n\t\t\t\t\t\t\t\t[EffectType.Status]: <StatusEffect />,\n\t\t\t\t\t\t\t\t[EffectType.Auxiliary]: <AuxiliaryEffect />,\n\t\t\t\t\t\t\t}[effectType]\n\t\t\t\t\t\t}\n\t\t\t\t\t</EffectContext.Provider>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button type=\"submit\" color=\"primary\">\n\t\t\t\t\t\t{confirm}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</form>\n\t\t</Dialog>\n\t);\n};\n","import { Box, Typography } from \"@mui/material\";\nimport { IStatusEffect } from \"common/types\";\nimport {\n\tDamageType,\n\tRESISTANCES_NAME_MAP,\n\tStat,\n\tSTATS_NAME_MAP,\n} from \"common/utils\";\n\nexport const StatusEffect: React.FC<IStatusEffect> = ({\n\tmodifiers,\n\taccuracy,\n\tduration,\n}) => {\n\tconst { stats, resistances } = modifiers;\n\n\treturn (\n\t\t<Box component=\"ul\" sx={{ margin: 0 }}>\n\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tAccuracy:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{accuracy}%\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tDuration:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{duration} turns\n\t\t\t</Typography>\n\t\t\t{stats && (\n\t\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\t\tStat Modifiers\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box component=\"ul\">\n\t\t\t\t\t\t{Object.keys(stats).map((stat) => (\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tkey={stat}\n\t\t\t\t\t\t\t\tcomponent=\"li\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{STATS_NAME_MAP[stat as Stat]}:{\" \"}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{stats[stat as Stat]}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Box>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t\t{resistances && (\n\t\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\t\tResistance Modifiers\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box component=\"ul\">\n\t\t\t\t\t\t{Object.keys(resistances).map((resistance) => (\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tkey={resistance}\n\t\t\t\t\t\t\t\tcomponent=\"li\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\tsx={{ fontWeight: \"medium\" }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tRESISTANCES_NAME_MAP[\n\t\t\t\t\t\t\t\t\t\t\tresistance as DamageType\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t:{\" \"}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{resistances[resistance as DamageType]}%\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Box>\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</Box>\n\t);\n};\n","import { Box, Typography } from \"@mui/material\";\nimport { IDamageEffect } from \"common/types\";\nimport { RESISTANCES_NAME_MAP, STATS_NAME_MAP } from \"common/utils\";\n\nexport const DamageEffect: React.FC<IDamageEffect> = ({\n\tdamageType,\n\tmodifier,\n\tmultiplier,\n\tmin,\n\tmax,\n}) => {\n\treturn (\n\t\t<Box component=\"ul\" sx={{ margin: 0 }}>\n\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tDamage Type:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{RESISTANCES_NAME_MAP[damageType]}\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tModifier:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{STATS_NAME_MAP[modifier]}\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tMultiplier:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\tx{multiplier}\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tDamage:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{min}-{max}\n\t\t\t</Typography>\n\t\t</Box>\n\t);\n};\n","import { Box, Typography } from \"@mui/material\";\nimport { IHealEffect } from \"common/types\";\nimport { STATS_NAME_MAP } from \"common/utils\";\n\nexport const HealEffect: React.FC<IHealEffect> = ({\n\tmodifier,\n\tmultiplier,\n\tmin,\n\tmax,\n}) => {\n\treturn (\n\t\t<Box component=\"ul\" sx={{ margin: 0 }}>\n\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tModifier:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{STATS_NAME_MAP[modifier]}\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tMultiplier:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\tx{multiplier}\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tHealth:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{min}-{max}\n\t\t\t</Typography>\n\t\t</Box>\n\t);\n};\n","import { Box, Typography } from \"@mui/material\";\nimport { IAuxiliaryEffect } from \"common/types\";\nimport { AUXILIARY_EFFECTS_NAME_MAP } from \"common/utils\";\n\nexport const AuxiliaryEffect: React.FC<IAuxiliaryEffect> = ({\n\teffect,\n\taccuracy,\n\tduration,\n}) => {\n\treturn (\n\t\t<Box component=\"ul\" sx={{ margin: 0 }}>\n\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tAccuracy:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{accuracy}%\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tDuration:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{duration} turns\n\t\t\t</Typography>\n\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tEffect:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\t{AUXILIARY_EFFECTS_NAME_MAP[effect]}\n\t\t\t</Typography>\n\t\t</Box>\n\t);\n};\n","import { Box, Typography } from \"@mui/material\";\nimport { IWeaponDamageEffect } from \"common/types\";\n\nexport const WeaponDamageEffect: React.FC<IWeaponDamageEffect> = ({\n\tmultiplier,\n}) => {\n\treturn (\n\t\t<Box component=\"ul\" sx={{ margin: 0 }}>\n\t\t\t<Typography component=\"li\" variant=\"body2\">\n\t\t\t\t<Box component=\"span\" sx={{ fontWeight: \"medium\" }}>\n\t\t\t\t\tMultiplier:{\" \"}\n\t\t\t\t</Box>\n\t\t\t\tx{multiplier}\n\t\t\t</Typography>\n\t\t</Box>\n\t);\n};\n","import {\n\tCard,\n\tCardActions,\n\tCardContent,\n\tIconButton,\n\tTypography,\n} from \"@mui/material\";\nimport { Delete, Edit } from \"@mui/icons-material\";\nimport { useAppDispatch } from \"common/hooks\";\nimport { openEffectModal } from \"features/modals\";\nimport { ISkillEffect } from \"common/types\";\nimport { EffectType, EFFECTS_NAME_MAP } from \"common/utils\";\nimport { StatusEffect } from \"./StatusEffect\";\nimport { DamageEffect } from \"./DamageEffect\";\nimport { HealEffect } from \"./HealEffect\";\nimport { AuxiliaryEffect } from \"./AuxiliaryEffect\";\nimport { WeaponDamageEffect } from \"./WeaponDamageEffect\";\n\ninterface IProps {\n\teffect: ISkillEffect;\n\tindex: number;\n\tonRemove: (effect: ISkillEffect, index: number) => void;\n}\n\nexport const EffectCard: React.FC<IProps> = ({ effect, index, onRemove }) => {\n\tconst dispatch = useAppDispatch();\n\n\tconst getEffectDetails = () => {\n\t\tswitch (effect.type) {\n\t\t\tcase EffectType.WeaponDamage:\n\t\t\t\treturn <WeaponDamageEffect {...effect} />;\n\t\t\tcase EffectType.Damage:\n\t\t\t\treturn <DamageEffect {...effect} />;\n\t\t\tcase EffectType.Heal:\n\t\t\t\treturn <HealEffect {...effect} />;\n\t\t\tcase EffectType.Status:\n\t\t\t\treturn <StatusEffect {...effect} />;\n\t\t\tcase EffectType.Auxiliary:\n\t\t\t\treturn <AuxiliaryEffect {...effect} />;\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t};\n\n\tconst handleOpenEffectModal = () => {\n\t\tdispatch(openEffectModal({ effect, index }));\n\t};\n\n\tconst handleRemoveEffect = () => {\n\t\tonRemove(effect, index);\n\t};\n\n\treturn (\n\t\t<Card variant=\"outlined\">\n\t\t\t<CardContent>\n\t\t\t\t<Typography\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tfontSize: 14,\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\tgutterBottom\n\t\t\t\t>\n\t\t\t\t\t{EFFECTS_NAME_MAP[effect.type]}\n\t\t\t\t</Typography>\n\t\t\t\t{getEffectDetails()}\n\t\t\t</CardContent>\n\t\t\t<CardActions>\n\t\t\t\t<IconButton\n\t\t\t\t\taria-label=\"Edit effect\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\tonClick={handleOpenEffectModal}\n\t\t\t\t>\n\t\t\t\t\t<Edit fontSize=\"small\" />\n\t\t\t\t</IconButton>\n\t\t\t\t<IconButton\n\t\t\t\t\taria-label=\"Delete effect\"\n\t\t\t\t\tcolor=\"warning\"\n\t\t\t\t\tonClick={handleRemoveEffect}\n\t\t\t\t>\n\t\t\t\t\t<Delete fontSize=\"small\" />\n\t\t\t\t</IconButton>\n\t\t\t</CardActions>\n\t\t</Card>\n\t);\n};\n","import { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport {\n\tcloseSkillModal,\n\topenEffectModal,\n\topenErrorModal,\n} from \"features/modals/modalsSlice\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport {\n\tBox,\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n\tFormControl,\n\tGrid,\n\tMenuItem,\n\tTextField,\n\tTypography,\n} from \"@mui/material\";\nimport { saveSkill, updateSkill } from \"features/skills\";\nimport { IBaseSkill, ISaveSkill, ISkill, ISkillEffect } from \"common/types\";\nimport { EffectModal } from \"./EffectModal\";\nimport { EffectCard } from \"./EffectCard\";\nimport {\n\tCharacterClass,\n\tCLASSES,\n\tCLASS_NAME_MAP,\n\tMAX_GOLD_VALUE,\n\tMAX_SKILL_LEVEL,\n\tMAX_SKILL_USES,\n\tSKILL_EFFECTS,\n\tTarget,\n} from \"common/utils\";\n\nconst defaultSkillValues: IBaseSkill = {\n\tname: \"\",\n\tdescription: \"\",\n\ticon: \"\",\n\tclass: CharacterClass.Common,\n\teffects: [],\n\tprice: 0,\n\tmaxUses: 0,\n\tlevel: 0,\n\ttarget: Target.Enemy,\n};\n\nconst defaultFormValues: ISaveSkill = {\n\tskill: defaultSkillValues,\n\timage: null,\n};\n\nconst getBaseSkillValues = (skill: ISkill) => {\n\tconst { id, ...baseSkill } = skill;\n\treturn baseSkill as IBaseSkill;\n};\n\nexport const SkillModal: React.FC = () => {\n\tconst dispatch = useAppDispatch();\n\tconst open = useAppSelector((state) => state.modals.skillModal.open);\n\tconst skill = useAppSelector((state) => state.modals.skillModal.skill);\n\tconst isLoading = useAppSelector(\n\t\t(state) => state.skills.status === \"loading\"\n\t);\n\tconst [formValues, setFormValues] = useState(defaultFormValues);\n\tconst skillValues = useMemo(\n\t\t() => skill && getBaseSkillValues(skill),\n\t\t[skill]\n\t);\n\n\tconst title = skill ? \"Update Skill\" : \"Add Skill\";\n\tconst subtitle = skill\n\t\t? `Updating ${skill?.name}`\n\t\t: \"Add a new skill to the database.\";\n\tconst hasEffects = formValues.skill.effects.length > 0;\n\n\tuseEffect(() => {\n\t\tsetFormValues({\n\t\t\tskill: skillValues || defaultSkillValues,\n\t\t\timage: null,\n\t\t});\n\t}, [skillValues]);\n\n\tconst handleClose = () => {\n\t\tdispatch(closeSkillModal());\n\t};\n\n\tconst handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { name, type, value, valueAsNumber } = e.target;\n\t\tconst finalValue = type === \"number\" ? valueAsNumber : value;\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tskill: {\n\t\t\t\t...formValues.skill,\n\t\t\t\t[name as string]: finalValue,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleChangeImage = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst image = e.currentTarget.files?.item(0) || null;\n\t\tconst icon = image?.name || \"\";\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\timage,\n\t\t\tskill: {\n\t\t\t\t...formValues.skill,\n\t\t\t\ticon,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleOpenEffectModal = () => {\n\t\tdispatch(openEffectModal({}));\n\t};\n\n\tconst handleAddEffect = (effect: ISkillEffect) => {\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tskill: {\n\t\t\t\t...formValues.skill,\n\t\t\t\teffects: formValues.skill.effects.concat(effect),\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleUpdateEffect = (effect: ISkillEffect, index: number) => {\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tskill: {\n\t\t\t\t...formValues.skill,\n\t\t\t\teffects: formValues.skill.effects.map((e, i) =>\n\t\t\t\t\tindex === i ? effect : e\n\t\t\t\t),\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleRemoveEffect = (effect: ISkillEffect, index: number) => {\n\t\tconst newEffects = [...formValues.skill.effects];\n\t\tnewEffects.splice(index, 1);\n\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tskill: {\n\t\t\t\t...formValues.skill,\n\t\t\t\teffects: newEffects,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleSaveSkill = async (e: React.FormEvent<HTMLFormElement>) => {\n\t\ttry {\n\t\t\te.preventDefault();\n\n\t\t\tif (!hasEffects) {\n\t\t\t\tdispatch(\n\t\t\t\t\topenErrorModal({ message: \"Please add at least 1 effect.\" })\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (skill) {\n\t\t\t\tconst payload = {\n\t\t\t\t\t...formValues,\n\t\t\t\t\tid: skill.id,\n\t\t\t\t\toldImage: skill.icon,\n\t\t\t\t};\n\t\t\t\tawait dispatch(updateSkill(payload)).unwrap();\n\t\t\t} else {\n\t\t\t\tawait dispatch(saveSkill(formValues)).unwrap();\n\t\t\t}\n\t\t\tdispatch(closeSkillModal());\n\t\t\tsetFormValues(defaultFormValues);\n\t\t} catch (error) {\n\t\t\t// TODO: Show error popup\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={handleClose}\n\t\t\tmaxWidth=\"sm\"\n\t\t\tfullWidth\n\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t>\n\t\t\t<DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\n\t\t\t<form onSubmit={handleSaveSkill}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>{subtitle}</DialogContentText>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t\t\t\tid=\"contained-button-file\"\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\tonChange={handleChangeImage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label htmlFor=\"contained-button-file\">\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" component=\"span\">\n\t\t\t\t\t\t\t\t\tUpload Image\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{formValues.image && (\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tmarginLeft: 2,\n\t\t\t\t\t\t\t\t\t\t\tdisplay: \"inline\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{formValues.image.name}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\tvalue={formValues.skill.name}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tminLength: 3,\n\t\t\t\t\t\t\t\tmaxLength: 25,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\t\tvalue={formValues.skill.description}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\tminRows={4}\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmaxLength: 200,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSkill Type\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tlabel=\"Class\"\n\t\t\t\t\t\t\t\t\tname=\"class\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.skill.class}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{CLASSES.map((cl) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem key={cl} value={cl}>\n\t\t\t\t\t\t\t\t\t\t\t{CLASS_NAME_MAP[cl]}\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSkill Properties\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tname=\"target\"\n\t\t\t\t\t\t\t\t\tlabel=\"Target\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.skill.target}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<MenuItem value=\"self\">Self</MenuItem>\n\t\t\t\t\t\t\t\t\t<MenuItem value=\"enemy\">Enemy</MenuItem>\n\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tname=\"level\"\n\t\t\t\t\t\t\t\t\tlabel={`Level (0-${MAX_SKILL_LEVEL})`}\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.skill.level}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\t\tmax: MAX_SKILL_LEVEL,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\t\t\t\tlabel={`Price (0-${MAX_GOLD_VALUE})`}\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.skill.price}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\t\tmax: MAX_GOLD_VALUE,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tname=\"maxUses\"\n\t\t\t\t\t\t\t\t\tlabel={`Max Uses (0-${MAX_SKILL_USES})`}\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.skill.maxUses}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\t\t\tmax: MAX_SKILL_USES,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSkill Effects\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t{hasEffects ? (\n\t\t\t\t\t\t\t\tformValues.skill.effects.map(\n\t\t\t\t\t\t\t\t\t(effect, index) => (\n\t\t\t\t\t\t\t\t\t\t<Grid key={index} item xs={12} sm={6}>\n\t\t\t\t\t\t\t\t\t\t\t<EffectCard\n\t\t\t\t\t\t\t\t\t\t\t\teffect={effect}\n\t\t\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\t\t\tonRemove={handleRemoveEffect}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\tPlease add some effects!\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tonClick={handleOpenEffectModal}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd Effect\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button type=\"submit\" color=\"primary\" disabled={isLoading}>\n\t\t\t\t\t\tSave\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</form>\n\n\t\t\t<EffectModal\n\t\t\t\teffects={SKILL_EFFECTS}\n\t\t\t\tonAddEffect={handleAddEffect}\n\t\t\t\tonUpdateEffect={handleUpdateEffect}\n\t\t\t/>\n\t\t</Dialog>\n\t);\n};\n","import { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { closeWeaponModal, openEffectModal } from \"features/modals/modalsSlice\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport {\n\tBox,\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogContentText,\n\tDialogTitle,\n\tFormControl,\n\tGrid,\n\tMenuItem,\n\tTextField,\n\tTypography,\n} from \"@mui/material\";\nimport {\n\tIBaseWeapon,\n\tISaveWeapon,\n\tISkillEffect,\n\tIWeapon,\n\tIWeaponEffect,\n\tTDamageTypes,\n\tTStats,\n} from \"common/types\";\nimport { EffectModal } from \"./EffectModal\";\nimport { EffectCard } from \"./EffectCard\";\nimport { StatGroup } from \"common/components\";\nimport {\n\tDamageType,\n\tEquipmentType,\n\tgetResistancesArray,\n\tgetStatsArray,\n\tMAX_DAMAGE,\n\tMAX_GOLD_VALUE,\n\tMAX_ITEM_LEVEL,\n\tRESISTANCES,\n\tRESISTANCES_NAME_MAP,\n\tStat,\n\tWeaponSize,\n\tWeaponType,\n\tWEAPON_EFFECTS,\n\tWEAPON_SIZES,\n\tWEAPON_SIZE_NAME_MAP,\n\tWEAPON_TYPES,\n\tWEAPON_TYPE_NAME_MAP,\n} from \"common/utils\";\nimport { saveWeapon, updateWeapon } from \"features/weapons\";\n\nconst DEFAULT_STAT_VALUES = {\n\t[Stat.Strength]: 0,\n\t[Stat.Dexterity]: 0,\n\t[Stat.Constitution]: 0,\n\t[Stat.Intelligence]: 0,\n\t[Stat.Wisdom]: 0,\n\t[Stat.Charisma]: 0,\n};\n\nconst DEFAULT_RESISTANCE_VALUES = {\n\t[DamageType.Slashing]: 0,\n\t[DamageType.Crushing]: 0,\n\t[DamageType.Piercing]: 0,\n\t[DamageType.Cold]: 0,\n\t[DamageType.Fire]: 0,\n\t[DamageType.Lighting]: 0,\n\t[DamageType.Radiant]: 0,\n\t[DamageType.Necrotic]: 0,\n\t[DamageType.Poison]: 0,\n\t[DamageType.Acid]: 0,\n};\n\nconst defaultWeaponValues: IBaseWeapon = {\n\ttype: EquipmentType.Weapon,\n\tweaponType: WeaponType.Sword,\n\tsize: WeaponSize.OneHanded,\n\tname: \"\",\n\tdescription: \"\",\n\ticon: \"\",\n\teffects: [],\n\tprice: 100,\n\tlevel: 1,\n\tdamageType: DamageType.Slashing,\n\tmin: 1,\n\tmax: 6,\n\tmodifiers: {\n\t\tstats: {},\n\t\tresistances: {},\n\t},\n};\n\nconst defaultFormValues: ISaveWeapon = {\n\tweapon: defaultWeaponValues,\n\timage: null,\n};\n\nconst getBaseWeaponValues = (weapon: IWeapon) => {\n\tconst { id, ...baseWeapon } = weapon;\n\treturn baseWeapon as IBaseWeapon;\n};\n\nexport const WeaponModal: React.FC = () => {\n\tconst dispatch = useAppDispatch();\n\tconst open = useAppSelector((state) => state.modals.weaponModal.open);\n\tconst weapon = useAppSelector((state) => state.modals.weaponModal.weapon);\n\tconst isLoading = useAppSelector(\n\t\t(state) => state.weapons.status === \"loading\"\n\t);\n\tconst [formValues, setFormValues] = useState(defaultFormValues);\n\tconst weaponValues = useMemo(\n\t\t() => weapon && getBaseWeaponValues(weapon),\n\t\t[weapon]\n\t);\n\tconst [stats, setStats] = useState<TStats>({\n\t\t...DEFAULT_STAT_VALUES,\n\t\t...formValues.weapon.modifiers?.stats,\n\t});\n\tconst [resistances, setResistances] = useState<TDamageTypes>({\n\t\t...DEFAULT_RESISTANCE_VALUES,\n\t\t...formValues.weapon.modifiers?.resistances,\n\t});\n\n\tconst title = weapon ? \"Update Weapon\" : \"Add Weapon\";\n\tconst subtitle = weapon\n\t\t? `Updating ${weapon?.name}`\n\t\t: \"Add a new weapon to the database.\";\n\tconst weaponEffects = formValues.weapon.effects || [];\n\tconst hasEffects = weaponEffects.length > 0;\n\n\tuseEffect(() => {\n\t\tsetFormValues({\n\t\t\tweapon: weaponValues || defaultWeaponValues,\n\t\t\timage: null,\n\t\t});\n\t}, [weaponValues]);\n\n\tconst handleClose = () => {\n\t\tdispatch(closeWeaponModal());\n\t};\n\n\tconst handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { name, type, value, valueAsNumber } = e.target;\n\t\tconst finalValue = type === \"number\" ? valueAsNumber : value;\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tweapon: {\n\t\t\t\t...formValues.weapon,\n\t\t\t\t[name as string]: finalValue,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleChangeImage = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst image = e.currentTarget.files?.item(0) || null;\n\t\tconst icon = image?.name || \"\";\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\timage,\n\t\t\tweapon: {\n\t\t\t\t...formValues.weapon,\n\t\t\t\ticon,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleChangeStats = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst { name, valueAsNumber } = e.currentTarget;\n\n\t\tsetStats({\n\t\t\t...stats,\n\t\t\t[name as string]: valueAsNumber,\n\t\t});\n\n\t\tconst newStats = {\n\t\t\t...formValues.weapon.modifiers?.stats,\n\t\t\t[name as string]: valueAsNumber,\n\t\t};\n\n\t\tObject.keys(newStats).forEach((key) => {\n\t\t\tif (!newStats[key as Stat]) {\n\t\t\t\tdelete newStats[key as Stat];\n\t\t\t}\n\t\t});\n\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tweapon: {\n\t\t\t\t...formValues.weapon,\n\t\t\t\tmodifiers: {\n\t\t\t\t\t...formValues.weapon.modifiers,\n\t\t\t\t\tstats: newStats,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleChangeResistances = (\n\t\te: React.ChangeEvent<HTMLInputElement>\n\t) => {\n\t\tconst { name, valueAsNumber } = e.currentTarget;\n\n\t\tsetResistances({\n\t\t\t...resistances,\n\t\t\t[name as string]: valueAsNumber,\n\t\t});\n\n\t\tconst newResistances = {\n\t\t\t...formValues.weapon.modifiers?.resistances,\n\t\t\t[name as string]: valueAsNumber,\n\t\t};\n\n\t\tObject.keys(newResistances).forEach((key) => {\n\t\t\tif (!newResistances[key as DamageType]) {\n\t\t\t\tdelete newResistances[key as DamageType];\n\t\t\t}\n\t\t});\n\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tweapon: {\n\t\t\t\t...formValues.weapon,\n\t\t\t\tmodifiers: {\n\t\t\t\t\t...formValues.weapon.modifiers,\n\t\t\t\t\tresistances: newResistances,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleOpenEffectModal = () => {\n\t\tdispatch(openEffectModal({}));\n\t};\n\n\tconst handleAddEffect = (effect: ISkillEffect) => {\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tweapon: {\n\t\t\t\t...formValues.weapon,\n\t\t\t\teffects: weaponEffects.concat(effect as IWeaponEffect),\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleUpdateEffect = (effect: ISkillEffect, index: number) => {\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tweapon: {\n\t\t\t\t...formValues.weapon,\n\t\t\t\teffects: weaponEffects.map((e, i) =>\n\t\t\t\t\tindex === i ? (effect as IWeaponEffect) : e\n\t\t\t\t),\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleRemoveEffect = (effect: ISkillEffect, index: number) => {\n\t\tconst newEffects = [...weaponEffects];\n\t\tnewEffects.splice(index, 1);\n\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tweapon: {\n\t\t\t\t...formValues.weapon,\n\t\t\t\teffects: newEffects,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleSaveWeapon = async (e: React.FormEvent<HTMLFormElement>) => {\n\t\ttry {\n\t\t\te.preventDefault();\n\n\t\t\tif (weapon) {\n\t\t\t\tconst payload = {\n\t\t\t\t\t...formValues,\n\t\t\t\t\tid: weapon.id,\n\t\t\t\t\toldImage: weapon.icon,\n\t\t\t\t};\n\t\t\t\tawait dispatch(updateWeapon(payload)).unwrap();\n\t\t\t} else {\n\t\t\t\tawait dispatch(saveWeapon(formValues)).unwrap();\n\t\t\t}\n\t\t\tdispatch(closeWeaponModal());\n\t\t\tsetFormValues(defaultFormValues);\n\t\t} catch (error) {\n\t\t\t// TODO: Show error popup\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={handleClose}\n\t\t\tmaxWidth=\"sm\"\n\t\t\tfullWidth\n\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t>\n\t\t\t<DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\n\t\t\t<form onSubmit={handleSaveWeapon}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>{subtitle}</DialogContentText>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<FormControl>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t\t\t\tid=\"contained-button-file\"\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\tonChange={handleChangeImage}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label htmlFor=\"contained-button-file\">\n\t\t\t\t\t\t\t\t<Button variant=\"contained\" component=\"span\">\n\t\t\t\t\t\t\t\t\tUpload Image\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{formValues.image && (\n\t\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tmarginLeft: 2,\n\t\t\t\t\t\t\t\t\t\t\tdisplay: \"inline\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{formValues.image.name}\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\tvalue={formValues.weapon.name}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tminLength: 3,\n\t\t\t\t\t\t\t\tmaxLength: 25,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\tlabel=\"Description\"\n\t\t\t\t\t\t\tvalue={formValues.weapon.description}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\tminRows={4}\n\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\tmaxLength: 200,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tWeapon Type\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tlabel=\"Type\"\n\t\t\t\t\t\t\t\t\tname=\"weaponType\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.weapon.weaponType}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{WEAPON_TYPES.map((type) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem key={type} value={type}>\n\t\t\t\t\t\t\t\t\t\t\t{WEAPON_TYPE_NAME_MAP[type]}\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tlabel=\"Size\"\n\t\t\t\t\t\t\t\t\tname=\"size\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.weapon.size}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{WEAPON_SIZES.map((size) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem key={size} value={size}>\n\t\t\t\t\t\t\t\t\t\t\t{WEAPON_SIZE_NAME_MAP[size]}\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tWeapon Properties\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t<Grid item xs={12} md={4}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tselect\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tlabel=\"Damage Type\"\n\t\t\t\t\t\t\t\t\tname=\"damageType\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.weapon.damageType}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{RESISTANCES.map((resistance) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tkey={resistance}\n\t\t\t\t\t\t\t\t\t\t\tvalue={resistance}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{RESISTANCES_NAME_MAP[resistance]}\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={6} md={4}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tname=\"min\"\n\t\t\t\t\t\t\t\t\tlabel={`Minimum Roll (1-${MAX_DAMAGE})`}\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.weapon.min}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\t\t\tmax: MAX_DAMAGE,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={6} md={4}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tname=\"max\"\n\t\t\t\t\t\t\t\t\tlabel={`Maximum Roll (1-${MAX_DAMAGE})`}\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.weapon.max}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\t\t\tmax: MAX_DAMAGE,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tname=\"level\"\n\t\t\t\t\t\t\t\t\tlabel={`Level (1-${MAX_ITEM_LEVEL})`}\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.weapon.level}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\t\t\tmax: MAX_ITEM_LEVEL,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={6}>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\t\t\t\tlabel={`Price (1-${MAX_GOLD_VALUE})`}\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={formValues.weapon.price}\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\t\t\t\tmax: MAX_GOLD_VALUE,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<StatGroup\n\t\t\t\t\t\ttitle=\"Stats (0-30)\"\n\t\t\t\t\t\tstats={getStatsArray(stats)}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={30}\n\t\t\t\t\t\thandleChange={handleChangeStats}\n\t\t\t\t\t/>\n\t\t\t\t\t<StatGroup\n\t\t\t\t\t\ttitle=\"Resistances (%)\"\n\t\t\t\t\t\tstats={getResistancesArray(resistances)}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\thandleChange={handleChangeResistances}\n\t\t\t\t\t/>\n\t\t\t\t\t<Box my={3}>\n\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\tcomponent=\"h5\"\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tWeapon Effects\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t{hasEffects ? (\n\t\t\t\t\t\t\t\tweaponEffects.map((effect, index) => (\n\t\t\t\t\t\t\t\t\t<Grid key={index} item xs={12} sm={6}>\n\t\t\t\t\t\t\t\t\t\t<EffectCard\n\t\t\t\t\t\t\t\t\t\t\teffect={effect}\n\t\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\t\tonRemove={handleRemoveEffect}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\t\t\tPlease add some effects!\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Box>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tonClick={handleOpenEffectModal}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd Effect\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={handleClose} color=\"primary\">\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button type=\"submit\" color=\"primary\" disabled={isLoading}>\n\t\t\t\t\t\tSave\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</form>\n\n\t\t\t<EffectModal\n\t\t\t\teffects={WEAPON_EFFECTS}\n\t\t\t\tonAddEffect={handleAddEffect}\n\t\t\t\tonUpdateEffect={handleUpdateEffect}\n\t\t\t/>\n\t\t</Dialog>\n\t);\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const sidedrawerSlice = createSlice({\r\n\tname: \"sidedrawer\",\r\n\tinitialState: {\r\n\t\topen: false,\r\n\t},\r\n\treducers: {\r\n\t\topenSidedrawer: (state) => {\r\n\t\t\tstate.open = true;\r\n\t\t},\r\n\t\tcloseSidedrawer: (state) => {\r\n\t\t\tstate.open = false;\r\n\t\t},\r\n\t},\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { openSidedrawer, closeSidedrawer } = sidedrawerSlice.actions;\r\n\r\nexport default sidedrawerSlice.reducer;\r\n","import { Add } from \"@mui/icons-material\";\nimport {\n\tBox,\n\tCollapse,\n\tDivider,\n\tIconButton,\n\tList,\n\tListItemButton,\n\tListItemSecondaryAction,\n\tListItemText,\n} from \"@mui/material\";\nimport { useContext } from \"react\";\nimport { Link, useRouteMatch } from \"react-router-dom\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { AuthContext } from \"common/context\";\nimport {\n\topenArmourModal,\n\topenMonsterModal,\n\topenSkillModal,\n\topenWeaponModal,\n} from \"features/modals\";\n\ninterface ISideDrawerItemProps {\n\ttitle: string;\n\tlink: string;\n\tonAddItem: () => void;\n}\n\nconst SideDrawerItem: React.FC<ISideDrawerItemProps> = ({\n\ttitle,\n\tlink,\n\tonAddItem,\n}) => {\n\tconst user = useContext(AuthContext);\n\n\treturn (\n\t\t<ListItemButton component={Link} to={link}>\n\t\t\t<ListItemText>{title}</ListItemText>\n\t\t\t{user && (\n\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={onAddItem}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Add />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</ListItemSecondaryAction>\n\t\t\t)}\n\t\t</ListItemButton>\n\t);\n};\n\nexport const SideDrawerContent: React.FC = () => {\n\tconst dispatch = useAppDispatch();\n\tconst monstersList = useAppSelector((state) => state.monsters.monsters);\n\tconst skillsList = useAppSelector((state) => state.skills.skills);\n\tconst weaponsList = useAppSelector((state) => state.weapons.weapons);\n\tconst armoursList = useAppSelector((state) => state.armours.armours);\n\tconst isMonsters = useRouteMatch(\"/monsters\");\n\tconst isSkills = useRouteMatch(\"/skills\");\n\tconst isWeapons = useRouteMatch(\"/weapons\");\n\tconst isArmours = useRouteMatch(\"/armours\");\n\n\tconst addMonster = () => {\n\t\tdispatch(openMonsterModal());\n\t};\n\n\tconst addSkill = () => {\n\t\tdispatch(openSkillModal());\n\t};\n\n\tconst addWeapon = () => {\n\t\tdispatch(openWeaponModal());\n\t};\n\n\tconst addArmour = () => {\n\t\tdispatch(openArmourModal());\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Box sx={(theme) => theme.mixins.toolbar} />\n\t\t\t<Divider />\n\t\t\t<List>\n\t\t\t\t<ListItemButton component={Link} to=\"/\">\n\t\t\t\t\t<ListItemText>Dashboard</ListItemText>\n\t\t\t\t</ListItemButton>\n\t\t\t\t<SideDrawerItem\n\t\t\t\t\ttitle=\"Monsters\"\n\t\t\t\t\tlink=\"/monsters\"\n\t\t\t\t\tonAddItem={addMonster}\n\t\t\t\t/>\n\t\t\t\t<Collapse in={Boolean(isMonsters)} unmountOnExit>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{monstersList.map((monster, index) => (\n\t\t\t\t\t\t\t<ListItemButton\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tpaddingLeft: 4,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\tto={`/monsters/${monster.id}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText primary={monster.name} />\n\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</Collapse>\n\t\t\t\t<SideDrawerItem\n\t\t\t\t\ttitle=\"Skills\"\n\t\t\t\t\tlink=\"/skills\"\n\t\t\t\t\tonAddItem={addSkill}\n\t\t\t\t/>\n\t\t\t\t<Collapse in={Boolean(isSkills)} unmountOnExit>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{skillsList.map((skill, index) => (\n\t\t\t\t\t\t\t<ListItemButton\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tpaddingLeft: 4,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\tto={`/skills/${skill.id}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText primary={skill.name} />\n\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</Collapse>\n\t\t\t\t<SideDrawerItem\n\t\t\t\t\ttitle=\"Weapons\"\n\t\t\t\t\tlink=\"/weapons\"\n\t\t\t\t\tonAddItem={addWeapon}\n\t\t\t\t/>\n\t\t\t\t<Collapse in={Boolean(isWeapons)} unmountOnExit>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{weaponsList.map((weapon, index) => (\n\t\t\t\t\t\t\t<ListItemButton\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tpaddingLeft: 4,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\tto={`/weapons/${weapon.id}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText primary={weapon.name} />\n\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</Collapse>\n\t\t\t\t<SideDrawerItem\n\t\t\t\t\ttitle=\"Armours\"\n\t\t\t\t\tlink=\"/armours\"\n\t\t\t\t\tonAddItem={addArmour}\n\t\t\t\t/>\n\t\t\t\t<Collapse in={Boolean(isArmours)} unmountOnExit>\n\t\t\t\t\t<List>\n\t\t\t\t\t\t{armoursList.map((armour, index) => (\n\t\t\t\t\t\t\t<ListItemButton\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tpaddingLeft: 4,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\tto={`/armours/${armour.id}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ListItemText primary={armour.name} />\n\t\t\t\t\t\t\t</ListItemButton>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</List>\n\t\t\t\t</Collapse>\n\t\t\t\t<ListItemButton component={Link} to=\"/classes\">\n\t\t\t\t\t<ListItemText>Classes</ListItemText>\n\t\t\t\t</ListItemButton>\n\t\t\t\t<ListItemButton component={Link} to=\"/settings\">\n\t\t\t\t\t<ListItemText>Settings</ListItemText>\n\t\t\t\t</ListItemButton>\n\t\t\t</List>\n\t\t</div>\n\t);\n};\n","import { Box, Drawer } from \"@mui/material\";\nimport { DRAWER_WIDTH } from \"common/utils/constants\";\nimport { closeSidedrawer } from \"./sidedrawerSlice\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { SideDrawerContent } from \"./SideDrawerContent\";\n\nexport const SideDrawer: React.FC = () => {\n\tconst dispatch = useAppDispatch();\n\tconst mobileOpen = useAppSelector((state) => state.sidedrawer.open);\n\n\tconst handleDrawerToggle = () => {\n\t\tdispatch(closeSidedrawer());\n\t};\n\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\twidth: {\n\t\t\t\t\tsm: DRAWER_WIDTH,\n\t\t\t\t},\n\t\t\t\tflexShrink: {\n\t\t\t\t\tsm: 0,\n\t\t\t\t},\n\t\t\t}}\n\t\t\taria-label=\"monsters list\"\n\t\t>\n\t\t\t<Drawer\n\t\t\t\tsx={{ display: { sm: \"none\", xs: \"block\" } }}\n\t\t\t\tvariant=\"temporary\"\n\t\t\t\topen={mobileOpen}\n\t\t\t\tonClose={handleDrawerToggle}\n\t\t\t\tPaperProps={{\n\t\t\t\t\tsx: {\n\t\t\t\t\t\twidth: DRAWER_WIDTH,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tModalProps={{\n\t\t\t\t\tkeepMounted: true, // Better open performance on mobile.\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<SideDrawerContent />\n\t\t\t</Drawer>\n\t\t\t<Drawer\n\t\t\t\tsx={{ display: { xs: \"none\", sm: \"block\" } }}\n\t\t\t\tvariant=\"permanent\"\n\t\t\t\tPaperProps={{\n\t\t\t\t\tsx: {\n\t\t\t\t\t\twidth: DRAWER_WIDTH,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\topen\n\t\t\t>\n\t\t\t\t<SideDrawerContent />\n\t\t\t</Drawer>\n\t\t</Box>\n\t);\n};\n","import { useContext } from \"react\";\nimport { AppBar, Button, IconButton, Toolbar, Typography } from \"@mui/material\";\nimport { Menu } from \"@mui/icons-material\";\nimport { useAppDispatch } from \"common/hooks\";\nimport { DRAWER_WIDTH } from \"common/utils\";\nimport { openLoginModal } from \"features/modals\";\nimport { openSidedrawer } from \"features/sidedrawer\";\nimport { AuthContext } from \"common/context\";\nimport { auth } from \"firebaseSetup\";\n\nexport const Header = () => {\n\tconst dispatch = useAppDispatch();\n\tconst user = useContext(AuthContext);\n\n\tconst handleDrawerToggle = () => {\n\t\tdispatch(openSidedrawer());\n\t};\n\n\tconst handleOpenLogin = () => {\n\t\tdispatch(openLoginModal());\n\t};\n\n\tconst signOut = async () => {\n\t\tawait auth.signOut();\n\t};\n\n\treturn (\n\t\t<AppBar\n\t\t\tsx={{\n\t\t\t\twidth: {\n\t\t\t\t\tsm: `calc(100% - ${DRAWER_WIDTH}px)`,\n\t\t\t\t},\n\t\t\t\tmarginLeft: {\n\t\t\t\t\tsm: DRAWER_WIDTH,\n\t\t\t\t},\n\t\t\t}}\n\t\t\tposition=\"fixed\"\n\t\t>\n\t\t\t<Toolbar\n\t\t\t\tsx={{\n\t\t\t\t\tbackgroundColor: \"primary.main\",\n\t\t\t\t\tcolor: \"common.black\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<IconButton\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tmarginRight: 2,\n\t\t\t\t\t\tdisplay: {\n\t\t\t\t\t\t\tsm: \"none\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\taria-label=\"open drawer\"\n\t\t\t\t\tedge=\"start\"\n\t\t\t\t\tonClick={handleDrawerToggle}\n\t\t\t\t>\n\t\t\t\t\t<Menu />\n\t\t\t\t</IconButton>\n\t\t\t\t<Typography sx={{ flexGrow: 1 }} variant=\"h6\">\n\t\t\t\t\tMonster Manual\n\t\t\t\t</Typography>\n\t\t\t\t{user ? (\n\t\t\t\t\t<Button color=\"inherit\" type=\"button\" onClick={signOut}>\n\t\t\t\t\t\tLogout\n\t\t\t\t\t</Button>\n\t\t\t\t) : (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tonClick={handleOpenLogin}\n\t\t\t\t\t>\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</Toolbar>\n\t\t</AppBar>\n\t);\n};\n","import { Box, Container } from \"@mui/material\";\nimport { Header } from \"common/components/Header\";\nimport { SideDrawer } from \"features/sidedrawer/SideDrawer\";\n\nexport const HOCLayout: React.FC = ({ children }) => {\n\treturn (\n\t\t<div style={{ display: \"flex\" }}>\n\t\t\t<Header />\n\t\t\t<SideDrawer />\n\t\t\t<Container sx={{ flexGrow: 1, padding: 3 }} maxWidth=\"lg\">\n\t\t\t\t<Box sx={(theme) => theme.mixins.toolbar} />\n\t\t\t\t{children}\n\t\t\t</Container>\n\t\t</div>\n\t);\n};\n","import {\n\tBox,\n\tCollapse,\n\tDialogContentText,\n\tGrid,\n\tIconButton,\n\tIconButtonProps,\n\tPaper,\n\tstyled,\n\tTextField,\n} from \"@mui/material\";\nimport { useState } from \"react\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\n\ninterface ExpandMoreProps extends IconButtonProps {\n\texpand: boolean;\n}\n\nconst ExpandMore = styled((props: ExpandMoreProps) => {\n\tconst { expand, ...other } = props;\n\treturn <IconButton {...other} />;\n})(({ theme, expand }) => ({\n\ttransform: !expand ? \"rotate(0deg)\" : \"rotate(180deg)\",\n\tmarginLeft: \"auto\",\n\ttransition: theme.transitions.create(\"transform\", {\n\t\tduration: theme.transitions.duration.shortest,\n\t}),\n}));\n\ninterface ITableStat {\n\tkey: string;\n\tname: string;\n\tvalue: number;\n}\n\ninterface IProps {\n\ttitle: string;\n\tstats: ITableStat[];\n\tmin: number;\n\tmax: number;\n\thandleChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nexport const StatGroup: React.FC<IProps> = ({\n\ttitle,\n\tstats,\n\tmin,\n\tmax,\n\thandleChange,\n}) => {\n\tconst [expanded, setExpanded] = useState(false);\n\n\tconst handleExpandClick = () => {\n\t\tsetExpanded(!expanded);\n\t};\n\n\treturn (\n\t\t<Paper sx={{ p: 1, my: 3 }}>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogContentText variant=\"subtitle1\" component=\"h5\">\n\t\t\t\t\t{title}\n\t\t\t\t</DialogContentText>\n\n\t\t\t\t<ExpandMore\n\t\t\t\t\texpand={expanded}\n\t\t\t\t\tonClick={handleExpandClick}\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\taria-label=\"show more\"\n\t\t\t\t>\n\t\t\t\t\t<ExpandMoreIcon fontSize=\"small\" />\n\t\t\t\t</ExpandMore>\n\t\t\t</Box>\n\t\t\t<Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t{stats.map((stat) => (\n\t\t\t\t\t\t<Grid key={stat.key} item xs={6} md={4}>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tkey={stat.key}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\tname={stat.key}\n\t\t\t\t\t\t\t\tlabel={stat.name}\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tvalue={stat.value}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\tmin,\n\t\t\t\t\t\t\t\t\tmax,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t))}\n\t\t\t\t</Grid>\n\t\t\t</Collapse>\n\t\t</Paper>\n\t);\n};\n","import {\n\tPaper,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTableRow,\n} from \"@mui/material\";\n\ninterface ITableStat {\n\tkey: string;\n\tname: string;\n\tvalue: number;\n}\n\ninterface IProps {\n\ttitle: string;\n\tstats: ITableStat[];\n\tprefix?: string;\n\tsuffix?: string;\n}\n\nexport const StatsTable: React.FC<IProps> = ({\n\ttitle,\n\tstats,\n\tprefix = \"\",\n\tsuffix = \"\",\n}) => {\n\treturn (\n\t\t<TableContainer component={Paper}>\n\t\t\t<Table aria-label=\"stats table\">\n\t\t\t\t<TableHead>\n\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tbackgroundColor: \"common.black\",\n\t\t\t\t\t\t\t\tcolor: \"common.white\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcolSpan={2}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableHead>\n\t\t\t\t<TableBody>\n\t\t\t\t\t{stats.map((stat) => (\n\t\t\t\t\t\t<TableRow key={stat.name}>\n\t\t\t\t\t\t\t<TableCell component=\"th\" scope=\"row\">\n\t\t\t\t\t\t\t\t{stat.name}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"right\">\n\t\t\t\t\t\t\t\t{prefix}\n\t\t\t\t\t\t\t\t{stat.value}\n\t\t\t\t\t\t\t\t{suffix}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t))}\n\t\t\t\t</TableBody>\n\t\t\t</Table>\n\t\t</TableContainer>\n\t);\n};\n","import { Box, IconButton } from \"@mui/material\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport { Link } from \"react-router-dom\";\nimport { useAppDispatch } from \"common/hooks\";\nimport { openArmourModal } from \"features/modals\";\nimport { IArmour } from \"common/types\";\n\ninterface IProps {\n\tarmour: IArmour;\n\tonDelete: () => void;\n}\n\nexport const TableDefaultActions: React.FC<IProps> = ({ armour, onDelete }) => {\n\tconst dispatch = useAppDispatch();\n\n\tconst handleUpdate = () => {\n\t\tdispatch(openArmourModal(armour));\n\t};\n\n\tconst handleDelete = () => {\n\t\tonDelete();\n\t};\n\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t\tgap: 2,\n\t\t\t}}\n\t\t>\n\t\t\t<IconButton\n\t\t\t\taria-label=\"view\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tcomponent={Link}\n\t\t\t\tto={`/armours/${armour.id}`}\n\t\t\t>\n\t\t\t\t<VisibilityIcon />\n\t\t\t</IconButton>\n\t\t\t<IconButton\n\t\t\t\taria-label=\"update\"\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tonClick={handleUpdate}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</IconButton>\n\t\t\t<IconButton\n\t\t\t\taria-label=\"delete\"\n\t\t\t\tcolor=\"warning\"\n\t\t\t\tonClick={handleDelete}\n\t\t\t>\n\t\t\t\t<DeleteIcon />\n\t\t\t</IconButton>\n\t\t</Box>\n\t);\n};\n","import { Box, IconButton } from \"@mui/material\";\nimport AddCircleIcon from \"@mui/icons-material/AddCircle\";\nimport RemoveCircleIcon from \"@mui/icons-material/RemoveCircle\";\nimport { IArmour } from \"common/types\";\nimport { useAddEquipmentContext } from \"common/context\";\nimport { EQUIPMENT_SLOT_TYPE_MAP } from \"common/utils\";\n\ninterface IProps {\n\tarmour: IArmour;\n}\n\nexport const TableAddActions: React.FC<IProps> = ({ armour }) => {\n\tconst { state, dispatch } = useAddEquipmentContext();\n\n\tconst slots = EQUIPMENT_SLOT_TYPE_MAP[armour.type];\n\tconst availableSlot = slots.find((slot) => state[slot] === undefined);\n\tconst currentSlot = slots.find((slot) => state[slot] === armour.id);\n\n\tconst handleAdd = () => {\n\t\tif (availableSlot) {\n\t\t\tdispatch({\n\t\t\t\ttype: \"ADD\",\n\t\t\t\tpayload: {\n\t\t\t\t\tslot: availableSlot,\n\t\t\t\t\tvalue: armour.id,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleRemove = () => {\n\t\tif (currentSlot) {\n\t\t\tdispatch({\n\t\t\t\ttype: \"REMOVE\",\n\t\t\t\tpayload: {\n\t\t\t\t\tslot: currentSlot,\n\t\t\t\t\tvalue: armour.id,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t\tgap: 2,\n\t\t\t}}\n\t\t>\n\t\t\t{availableSlot ? (\n\t\t\t\t<IconButton\n\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={handleAdd}\n\t\t\t\t>\n\t\t\t\t\t<AddCircleIcon />\n\t\t\t\t</IconButton>\n\t\t\t) : (\n\t\t\t\t<IconButton\n\t\t\t\t\taria-label=\"remove\"\n\t\t\t\t\tcolor=\"warning\"\n\t\t\t\t\tonClick={handleRemove}\n\t\t\t\t>\n\t\t\t\t\t<RemoveCircleIcon />\n\t\t\t\t</IconButton>\n\t\t\t)}\n\t\t</Box>\n\t);\n};\n","import { TableCell, TableRow as MUITableRow } from \"@mui/material\";\nimport { Fragment, useContext, useState } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { IArmour } from \"common/types\";\nimport { EQUIPMENT_TYPE_NAME_MAP } from \"common/utils\";\nimport { ConfirmationModal } from \"features/modals\";\nimport { TableDefaultActions } from \"./TableDefaultActions\";\nimport { TableAddActions } from \"./TableAddActions\";\nimport { AuthContext } from \"common/context\";\nimport { deleteArmour } from \"features/armours\";\n\ninterface IProps {\n\tarmour: IArmour;\n\ttype?: \"default\" | \"addArmours\";\n}\n\nexport const TableRow: React.FC<IProps> = ({ armour, type }) => {\n\tconst dispatch = useAppDispatch();\n\tconst user = useContext(AuthContext);\n\tconst [confirmationModalOpen, setConfirmationModalOpen] = useState(false);\n\tconst isLoading = useAppSelector(\n\t\t(state) => state.skills.status === \"loading\"\n\t);\n\n\tconst handleDelete = () => {\n\t\tsetConfirmationModalOpen(true);\n\t};\n\n\tconst handleCloseConfirmationModal = () => {\n\t\tsetConfirmationModalOpen(false);\n\t};\n\n\tconst handleConfirmDelete = async () => {\n\t\ttry {\n\t\t\tawait dispatch(deleteArmour(armour)).unwrap();\n\t\t\tsetConfirmationModalOpen(false);\n\t\t} catch (error) {\n\t\t\t// TODO: Show error popup\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<MUITableRow hover tabIndex={-1}>\n\t\t\t\t<TableCell\n\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\tid={`table-${armour.name}`}\n\t\t\t\t\tscope=\"row\"\n\t\t\t\t>\n\t\t\t\t\t{armour.name}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>{EQUIPMENT_TYPE_NAME_MAP[armour.type]}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{armour.defense}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{armour.price}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{armour.level}</TableCell>\n\t\t\t\t{user && (\n\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t{type === \"addArmours\" ? (\n\t\t\t\t\t\t\t<TableAddActions armour={armour} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<TableDefaultActions\n\t\t\t\t\t\t\t\tarmour={armour}\n\t\t\t\t\t\t\t\tonDelete={handleDelete}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</MUITableRow>\n\n\t\t\t<ConfirmationModal\n\t\t\t\topen={confirmationModalOpen}\n\t\t\t\ttitle=\"Are you sure?\"\n\t\t\t\tcontent={`This action will permanently delete ${armour.name} from the database.`}\n\t\t\t\thandleClose={handleCloseConfirmationModal}\n\t\t\t\thandleConfirm={handleConfirmDelete}\n\t\t\t\tdisabled={isLoading}\n\t\t\t/>\n\t\t</Fragment>\n\t);\n};\n","import {\n\tBox,\n\tGrid,\n\tInputAdornment,\n\tMenuItem,\n\tSlider,\n\tTextField,\n\tTypography,\n} from \"@mui/material\";\nimport { IArmourFilters } from \"common/types\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport {\n\tARMOUR_TYPES,\n\tEQUIPMENT_TYPE_NAME_MAP,\n\tMAX_GOLD_VALUE,\n\tMAX_SKILL_LEVEL,\n} from \"common/utils\";\n\ninterface IProps {\n\tfilters: IArmourFilters;\n\tonChangeFilters: (e: React.ChangeEvent<HTMLInputElement>) => void;\n\tonChangeSlider: (e: Event, value: number | number[]) => void;\n}\n\nexport const TableFilters: React.FC<IProps> = ({\n\tfilters,\n\tonChangeFilters,\n\tonChangeSlider,\n}) => {\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\tp: 2,\n\t\t\t}}\n\t\t>\n\t\t\t<Grid container spacing={2} alignItems=\"center\">\n\t\t\t\t<Grid item xs={12} md={2}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tlabel=\"Search\"\n\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\tvalue={filters.name}\n\t\t\t\t\t\tonChange={onChangeFilters}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} md={2}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tselect\n\t\t\t\t\t\tlabel=\"Type\"\n\t\t\t\t\t\tname=\"type\"\n\t\t\t\t\t\tvalue={filters.type}\n\t\t\t\t\t\tonChange={onChangeFilters}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuItem value=\"all\">All</MenuItem>\n\t\t\t\t\t\t{ARMOUR_TYPES.map((type) => (\n\t\t\t\t\t\t\t<MenuItem key={type} value={type}>\n\t\t\t\t\t\t\t\t{EQUIPMENT_TYPE_NAME_MAP[type]}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TextField>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} md={3}>\n\t\t\t\t\t<Typography variant=\"body2\">Price</Typography>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\tvalue={filters.price}\n\t\t\t\t\t\tonChange={onChangeSlider}\n\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\tstep={100}\n\t\t\t\t\t\tmin={100}\n\t\t\t\t\t\tmax={MAX_GOLD_VALUE}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} md={3}>\n\t\t\t\t\t<Typography variant=\"body2\">Level</Typography>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tname=\"level\"\n\t\t\t\t\t\tvalue={filters.level}\n\t\t\t\t\t\tonChange={onChangeSlider}\n\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={MAX_SKILL_LEVEL}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t);\n};\n","import {\n\tBox,\n\tPaper,\n\tSxProps,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTablePagination,\n\tTableRow as MUITableRow,\n\tTableSortLabel,\n} from \"@mui/material\";\nimport { visuallyHidden } from \"@mui/utils\";\nimport { IArmourFilters, TArmoursOrderBy, TOrder } from \"common/types\";\nimport { Fragment, useContext, useState } from \"react\";\nimport { useAppSelector } from \"common/hooks\";\nimport { TableRow } from \"./TableRow\";\nimport { TableFilters } from \"./TableFilters\";\nimport { applyArmoursFilters, getArmoursComparator } from \"common/utils\";\nimport { AuthContext } from \"common/context\";\n\ninterface HeadCell {\n\tid: TArmoursOrderBy;\n\tlabel: string;\n\talign?: \"right\";\n}\n\nconst headCells: readonly HeadCell[] = [\n\t{\n\t\tid: \"name\",\n\t\tlabel: \"Name\",\n\t},\n\t{\n\t\tid: \"type\",\n\t\tlabel: \"Type\",\n\t},\n\t{\n\t\tid: \"defense\",\n\t\talign: \"right\",\n\t\tlabel: \"Defense\",\n\t},\n\t{\n\t\tid: \"price\",\n\t\talign: \"right\",\n\t\tlabel: \"Value\",\n\t},\n\t{\n\t\tid: \"level\",\n\t\talign: \"right\",\n\t\tlabel: \"Level\",\n\t},\n];\n\ninterface EnhancedTableProps {\n\tonRequestSort: (\n\t\tevent: React.MouseEvent<unknown>,\n\t\tproperty: TArmoursOrderBy\n\t) => void;\n\torder: TOrder;\n\torderBy: TArmoursOrderBy;\n}\n\nconst EnhancedTableHead: React.FC<EnhancedTableProps> = (props) => {\n\tconst { order, orderBy, onRequestSort } = props;\n\tconst user = useContext(AuthContext);\n\n\tconst createSortHandler =\n\t\t(property: TArmoursOrderBy) => (event: React.MouseEvent<unknown>) => {\n\t\t\tonRequestSort(event, property);\n\t\t};\n\n\treturn (\n\t\t<TableHead>\n\t\t\t<MUITableRow>\n\t\t\t\t{headCells.map((headCell) => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={headCell.align}\n\t\t\t\t\t\tsortDirection={orderBy === headCell.id ? order : false}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\tactive={orderBy === headCell.id}\n\t\t\t\t\t\t\tdirection={orderBy === headCell.id ? order : \"asc\"}\n\t\t\t\t\t\t\tonClick={createSortHandler(headCell.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t\t\t{orderBy === headCell.id ? (\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\tsx={visuallyHidden as SxProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{order === \"desc\"\n\t\t\t\t\t\t\t\t\t\t? \"sorted descending\"\n\t\t\t\t\t\t\t\t\t\t: \"sorted ascending\"}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\n\t\t\t\t{user && <TableCell align=\"right\">Actions</TableCell>}\n\t\t\t</MUITableRow>\n\t\t</TableHead>\n\t);\n};\n\nconst defaultFilters: IArmourFilters = {\n\tname: \"\",\n\ttype: \"all\",\n\tprice: 10000,\n\tlevel: 9,\n};\n\ninterface IProps {\n\ttype?: \"default\" | \"addArmours\";\n}\n\nexport const ArmoursTable: React.FC<IProps> = ({ type = \"default\" }) => {\n\tconst armoursList = useAppSelector((state) => state.armours.armours);\n\tconst [order, setOrder] = useState<TOrder>(\"asc\");\n\tconst [orderBy, setOrderBy] = useState<TArmoursOrderBy>(\"name\");\n\tconst [page, setPage] = useState(0);\n\tconst [rowsPerPage, setRowsPerPage] = useState(25);\n\tconst [filters, setFilters] = useState<IArmourFilters>(defaultFilters);\n\n\tconst handleRequestSort = (\n\t\tevent: React.MouseEvent<unknown>,\n\t\tproperty: TArmoursOrderBy\n\t) => {\n\t\tconst isAsc = orderBy === property && order === \"asc\";\n\t\tsetOrder(isAsc ? \"desc\" : \"asc\");\n\t\tsetOrderBy(property);\n\t};\n\n\tconst handleChangePage = (event: unknown, newPage: number) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (\n\t\tevent: React.ChangeEvent<HTMLInputElement>\n\t) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst handleChangeFilters = (\n\t\tevent: React.ChangeEvent<HTMLInputElement>\n\t) => {\n\t\tconst { name, value } = event.target;\n\t\tsetFilters({\n\t\t\t...filters,\n\t\t\t[name]: value,\n\t\t});\n\t};\n\n\tconst handleChangeSlider = (event: Event, value: number | number[]) => {\n\t\tconst { name } = event.target as HTMLInputElement;\n\t\tsetFilters({\n\t\t\t...filters,\n\t\t\t[name]: value,\n\t\t});\n\t};\n\n\t// Avoid a layout jump when reaching the last page with empty rows.\n\tconst emptyRows =\n\t\tpage > 0\n\t\t\t? Math.max(0, (1 + page) * rowsPerPage - armoursList.length)\n\t\t\t: 0;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box sx={{ width: \"100%\" }}>\n\t\t\t\t<Paper sx={{ width: \"100%\", mb: 2 }}>\n\t\t\t\t\t<TableFilters\n\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\tonChangeFilters={handleChangeFilters}\n\t\t\t\t\t\tonChangeSlider={handleChangeSlider}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableContainer>\n\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\tsx={{ minWidth: 750 }}\n\t\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\t\torder={order}\n\t\t\t\t\t\t\t\torderBy={orderBy}\n\t\t\t\t\t\t\t\tonRequestSort={handleRequestSort}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{armoursList\n\t\t\t\t\t\t\t\t\t.slice()\n\t\t\t\t\t\t\t\t\t.filter(applyArmoursFilters(filters))\n\t\t\t\t\t\t\t\t\t.sort(getArmoursComparator(order, orderBy))\n\t\t\t\t\t\t\t\t\t.slice(\n\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\n\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.map((row) => (\n\t\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\t\tkey={row.id}\n\t\t\t\t\t\t\t\t\t\t\tarmour={row}\n\t\t\t\t\t\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t\t<MUITableRow\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\theight: 53 * emptyRows,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t\t\t</MUITableRow>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t\t<TablePagination\n\t\t\t\t\t\trowsPerPageOptions={[5, 10, 25]}\n\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\tcount={armoursList.length}\n\t\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\t\tpage={page}\n\t\t\t\t\t\tonPageChange={handleChangePage}\n\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</Fragment>\n\t);\n};\n","import { Box, IconButton } from \"@mui/material\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport { Link } from \"react-router-dom\";\nimport { useAppDispatch } from \"common/hooks\";\nimport { openMonsterModal } from \"features/modals\";\nimport { IMonster } from \"common/types\";\n\ninterface IProps {\n\tmonster: IMonster;\n\tonDelete: () => void;\n}\n\nexport const TableDefaultActions: React.FC<IProps> = ({\n\tmonster,\n\tonDelete,\n}) => {\n\tconst dispatch = useAppDispatch();\n\n\tconst handleUpdate = () => {\n\t\tdispatch(openMonsterModal(monster));\n\t};\n\n\tconst handleDelete = () => {\n\t\tonDelete();\n\t};\n\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t\tgap: 2,\n\t\t\t}}\n\t\t>\n\t\t\t<IconButton\n\t\t\t\taria-label=\"view\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tcomponent={Link}\n\t\t\t\tto={`/monsters/${monster.id}`}\n\t\t\t>\n\t\t\t\t<VisibilityIcon />\n\t\t\t</IconButton>\n\t\t\t<IconButton\n\t\t\t\taria-label=\"update\"\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tonClick={handleUpdate}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</IconButton>\n\t\t\t<IconButton\n\t\t\t\taria-label=\"delete\"\n\t\t\t\tcolor=\"warning\"\n\t\t\t\tonClick={handleDelete}\n\t\t\t>\n\t\t\t\t<DeleteIcon />\n\t\t\t</IconButton>\n\t\t</Box>\n\t);\n};\n","import { TableCell, TableRow as MUITableRow } from \"@mui/material\";\nimport { Fragment, useContext, useState } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { IMonster } from \"common/types\";\nimport { STATS } from \"common/utils\";\nimport { ConfirmationModal } from \"features/modals\";\nimport { AuthContext } from \"common/context\";\nimport { deleteMonster } from \"features/monsters\";\nimport { TableDefaultActions } from \"./TableDefaultActions\";\n\ninterface IProps {\n\tmonster: IMonster;\n}\n\nexport const TableRow: React.FC<IProps> = ({ monster }) => {\n\tconst dispatch = useAppDispatch();\n\tconst user = useContext(AuthContext);\n\tconst [confirmationModalOpen, setConfirmationModalOpen] = useState(false);\n\tconst isLoading = useAppSelector(\n\t\t(state) => state.monsters.status === \"loading\"\n\t);\n\n\tconst handleDelete = () => {\n\t\tsetConfirmationModalOpen(true);\n\t};\n\n\tconst handleCloseConfirmationModal = () => {\n\t\tsetConfirmationModalOpen(false);\n\t};\n\n\tconst handleConfirmDelete = async () => {\n\t\ttry {\n\t\t\tawait dispatch(deleteMonster(monster)).unwrap();\n\t\t\tsetConfirmationModalOpen(false);\n\t\t} catch (error) {\n\t\t\t// TODO: Show error popup\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<MUITableRow hover tabIndex={-1}>\n\t\t\t\t<TableCell\n\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\tid={`monster-table-${monster.name}`}\n\t\t\t\t\tscope=\"row\"\n\t\t\t\t>\n\t\t\t\t\t{monster.name}\n\t\t\t\t</TableCell>\n\t\t\t\t{STATS.map((stat) => (\n\t\t\t\t\t<TableCell key={stat} align=\"right\">\n\t\t\t\t\t\t{monster.stats[stat]}\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t\t<TableCell align=\"right\">{monster.challenge}</TableCell>\n\t\t\t\t{user && (\n\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t<TableDefaultActions\n\t\t\t\t\t\t\tmonster={monster}\n\t\t\t\t\t\t\tonDelete={handleDelete}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</MUITableRow>\n\n\t\t\t<ConfirmationModal\n\t\t\t\topen={confirmationModalOpen}\n\t\t\t\ttitle=\"Are you sure?\"\n\t\t\t\tcontent={`This action will permanently delete ${monster.name} from the database.`}\n\t\t\t\thandleClose={handleCloseConfirmationModal}\n\t\t\t\thandleConfirm={handleConfirmDelete}\n\t\t\t\tdisabled={isLoading}\n\t\t\t/>\n\t\t</Fragment>\n\t);\n};\n","import {\n\tBox,\n\tGrid,\n\tInputAdornment,\n\tSlider,\n\tTextField,\n\tTypography,\n} from \"@mui/material\";\nimport { IMonsterFilters } from \"common/types\";\nimport SearchIcon from \"@mui/icons-material/Search\";\n\ninterface IProps {\n\tfilters: IMonsterFilters;\n\tonChangeFilters: (e: React.ChangeEvent<HTMLInputElement>) => void;\n\tonChangeSlider: (e: Event, value: number | number[]) => void;\n}\n\nexport const TableFilters: React.FC<IProps> = ({\n\tfilters,\n\tonChangeFilters,\n\tonChangeSlider,\n}) => {\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\tp: 2,\n\t\t\t}}\n\t\t>\n\t\t\t<Grid container spacing={2} alignItems=\"center\">\n\t\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tlabel=\"Search\"\n\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\tvalue={filters.name}\n\t\t\t\t\t\tonChange={onChangeFilters}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t\t<Typography variant=\"body2\">Challenge</Typography>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tname=\"challenge\"\n\t\t\t\t\t\tvalue={filters.challenge}\n\t\t\t\t\t\tonChange={onChangeSlider}\n\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tmax={30}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t);\n};\n","import {\n\tBox,\n\tPaper,\n\tSxProps,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTablePagination,\n\tTableRow as MUITableRow,\n\tTableSortLabel,\n} from \"@mui/material\";\nimport { visuallyHidden } from \"@mui/utils\";\nimport { IMonsterFilters, TMonstersOrderBy, TOrder } from \"common/types\";\nimport { Fragment, useContext, useState } from \"react\";\nimport { useAppSelector } from \"common/hooks\";\nimport { TableRow } from \"./TableRow\";\nimport { TableFilters } from \"./TableFilters\";\nimport {\n\tapplyMonstersFilters,\n\tgetMonstersComparator,\n\tStat,\n} from \"common/utils\";\nimport { AuthContext } from \"common/context\";\n\ninterface HeadCell {\n\tid: TMonstersOrderBy;\n\tlabel: string;\n\talign?: \"right\";\n}\n\nconst headCells: readonly HeadCell[] = [\n\t{\n\t\tid: \"name\",\n\t\tlabel: \"Name\",\n\t},\n\t{\n\t\tid: Stat.Strength,\n\t\talign: \"right\",\n\t\tlabel: \"Strength\",\n\t},\n\t{\n\t\tid: Stat.Dexterity,\n\t\talign: \"right\",\n\t\tlabel: \"Dexterity\",\n\t},\n\t{\n\t\tid: Stat.Constitution,\n\t\talign: \"right\",\n\t\tlabel: \"Constitution\",\n\t},\n\t{\n\t\tid: Stat.Intelligence,\n\t\talign: \"right\",\n\t\tlabel: \"Intelligence\",\n\t},\n\t{\n\t\tid: Stat.Wisdom,\n\t\talign: \"right\",\n\t\tlabel: \"Wisdom\",\n\t},\n\t{\n\t\tid: Stat.Charisma,\n\t\talign: \"right\",\n\t\tlabel: \"Charisma\",\n\t},\n\t{\n\t\tid: \"challenge\",\n\t\talign: \"right\",\n\t\tlabel: \"Challenge\",\n\t},\n];\n\ninterface EnhancedTableProps {\n\tonRequestSort: (\n\t\tevent: React.MouseEvent<unknown>,\n\t\tproperty: TMonstersOrderBy\n\t) => void;\n\torder: TOrder;\n\torderBy: TMonstersOrderBy;\n}\n\nconst EnhancedTableHead: React.FC<EnhancedTableProps> = (props) => {\n\tconst { order, orderBy, onRequestSort } = props;\n\tconst user = useContext(AuthContext);\n\n\tconst createSortHandler =\n\t\t(property: TMonstersOrderBy) => (event: React.MouseEvent<unknown>) => {\n\t\t\tonRequestSort(event, property);\n\t\t};\n\n\treturn (\n\t\t<TableHead>\n\t\t\t<MUITableRow>\n\t\t\t\t{headCells.map((headCell) => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={headCell.align}\n\t\t\t\t\t\tsortDirection={orderBy === headCell.id ? order : false}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\tactive={orderBy === headCell.id}\n\t\t\t\t\t\t\tdirection={orderBy === headCell.id ? order : \"asc\"}\n\t\t\t\t\t\t\tonClick={createSortHandler(headCell.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t\t\t{orderBy === headCell.id ? (\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\tsx={visuallyHidden as SxProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{order === \"desc\"\n\t\t\t\t\t\t\t\t\t\t? \"sorted descending\"\n\t\t\t\t\t\t\t\t\t\t: \"sorted ascending\"}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\n\t\t\t\t{user && <TableCell align=\"right\">Actions</TableCell>}\n\t\t\t</MUITableRow>\n\t\t</TableHead>\n\t);\n};\n\nconst defaultFilters: IMonsterFilters = {\n\tname: \"\",\n\tchallenge: 30,\n};\n\nexport const MonstersTable: React.FC = () => {\n\tconst monstersList = useAppSelector((state) => state.monsters.monsters);\n\tconst [order, setOrder] = useState<TOrder>(\"asc\");\n\tconst [orderBy, setOrderBy] = useState<TMonstersOrderBy>(\"name\");\n\tconst [page, setPage] = useState(0);\n\tconst [rowsPerPage, setRowsPerPage] = useState(25);\n\tconst [filters, setFilters] = useState<IMonsterFilters>(defaultFilters);\n\n\tconst handleRequestSort = (\n\t\tevent: React.MouseEvent<unknown>,\n\t\tproperty: TMonstersOrderBy\n\t) => {\n\t\tconst isAsc = orderBy === property && order === \"asc\";\n\t\tsetOrder(isAsc ? \"desc\" : \"asc\");\n\t\tsetOrderBy(property);\n\t};\n\n\tconst handleChangePage = (event: unknown, newPage: number) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (\n\t\tevent: React.ChangeEvent<HTMLInputElement>\n\t) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst handleChangeFilters = (\n\t\tevent: React.ChangeEvent<HTMLInputElement>\n\t) => {\n\t\tconst { name, value } = event.target;\n\t\tsetFilters({\n\t\t\t...filters,\n\t\t\t[name]: value,\n\t\t});\n\t};\n\n\tconst handleChangeSlider = (event: Event, value: number | number[]) => {\n\t\tconst { name } = event.target as HTMLInputElement;\n\t\tsetFilters({\n\t\t\t...filters,\n\t\t\t[name]: value,\n\t\t});\n\t};\n\n\t// Avoid a layout jump when reaching the last page with empty rows.\n\tconst emptyRows =\n\t\tpage > 0\n\t\t\t? Math.max(0, (1 + page) * rowsPerPage - monstersList.length)\n\t\t\t: 0;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box sx={{ width: \"100%\" }}>\n\t\t\t\t<Paper sx={{ width: \"100%\", mb: 2 }}>\n\t\t\t\t\t<TableFilters\n\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\tonChangeFilters={handleChangeFilters}\n\t\t\t\t\t\tonChangeSlider={handleChangeSlider}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableContainer>\n\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\tsx={{ minWidth: 750 }}\n\t\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\t\torder={order}\n\t\t\t\t\t\t\t\torderBy={orderBy}\n\t\t\t\t\t\t\t\tonRequestSort={handleRequestSort}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{monstersList\n\t\t\t\t\t\t\t\t\t.slice()\n\t\t\t\t\t\t\t\t\t.filter(applyMonstersFilters(filters))\n\t\t\t\t\t\t\t\t\t.sort(getMonstersComparator(order, orderBy))\n\t\t\t\t\t\t\t\t\t.slice(\n\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\n\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.map((row) => (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={row.id} monster={row} />\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t\t<MUITableRow\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\theight: 53 * emptyRows,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t\t\t</MUITableRow>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t\t<TablePagination\n\t\t\t\t\t\trowsPerPageOptions={[5, 10, 25]}\n\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\tcount={monstersList.length}\n\t\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\t\tpage={page}\n\t\t\t\t\t\tonPageChange={handleChangePage}\n\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</Fragment>\n\t);\n};\n","import { Box, IconButton } from \"@mui/material\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport { Link } from \"react-router-dom\";\nimport { useAppDispatch } from \"common/hooks\";\nimport { openSkillModal } from \"features/modals\";\nimport { ISkill } from \"common/types\";\n\ninterface IProps {\n\tskill: ISkill;\n\tonDelete: () => void;\n}\n\nexport const TableDefaultActions: React.FC<IProps> = ({ skill, onDelete }) => {\n\tconst dispatch = useAppDispatch();\n\n\tconst handleUpdate = () => {\n\t\tdispatch(openSkillModal(skill));\n\t};\n\n\tconst handleDelete = () => {\n\t\tonDelete();\n\t};\n\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t\tgap: 2,\n\t\t\t}}\n\t\t>\n\t\t\t<IconButton\n\t\t\t\taria-label=\"view\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tcomponent={Link}\n\t\t\t\tto={`/skills/${skill.id}`}\n\t\t\t>\n\t\t\t\t<VisibilityIcon />\n\t\t\t</IconButton>\n\t\t\t<IconButton\n\t\t\t\taria-label=\"update\"\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tonClick={handleUpdate}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</IconButton>\n\t\t\t<IconButton\n\t\t\t\taria-label=\"delete\"\n\t\t\t\tcolor=\"warning\"\n\t\t\t\tonClick={handleDelete}\n\t\t\t>\n\t\t\t\t<DeleteIcon />\n\t\t\t</IconButton>\n\t\t</Box>\n\t);\n};\n","import { Box, IconButton } from \"@mui/material\";\nimport AddCircleIcon from \"@mui/icons-material/AddCircle\";\nimport RemoveCircleIcon from \"@mui/icons-material/RemoveCircle\";\nimport { ISkill } from \"common/types\";\nimport { useAddSkillsContext } from \"common/context\";\n\ninterface IProps {\n\tskill: ISkill;\n}\n\nexport const TableAddActions: React.FC<IProps> = ({ skill }) => {\n\tconst { state, dispatch } = useAddSkillsContext();\n\n\tconst handleAdd = () => {\n\t\tdispatch({\n\t\t\ttype: \"ADD\",\n\t\t\tpayload: skill.id,\n\t\t});\n\t};\n\n\tconst handleRemove = () => {\n\t\tdispatch({\n\t\t\ttype: \"REMOVE\",\n\t\t\tpayload: skill.id,\n\t\t});\n\t};\n\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t\tgap: 2,\n\t\t\t}}\n\t\t>\n\t\t\t{state.includes(skill.id) ? (\n\t\t\t\t<IconButton\n\t\t\t\t\taria-label=\"remove\"\n\t\t\t\t\tcolor=\"warning\"\n\t\t\t\t\tonClick={handleRemove}\n\t\t\t\t>\n\t\t\t\t\t<RemoveCircleIcon />\n\t\t\t\t</IconButton>\n\t\t\t) : (\n\t\t\t\t<IconButton\n\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={handleAdd}\n\t\t\t\t>\n\t\t\t\t\t<AddCircleIcon />\n\t\t\t\t</IconButton>\n\t\t\t)}\n\t\t</Box>\n\t);\n};\n","import { TableCell, TableRow as MUITableRow } from \"@mui/material\";\nimport { Fragment, useContext, useState } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { deleteSkill } from \"features/skills/skillsSlice\";\nimport { ISkill } from \"common/types\";\nimport {\n\tCLASS_NAME_MAP,\n\tgetSkillType,\n\tSKILL_TYPE_NAME_MAP,\n} from \"common/utils\";\nimport { ConfirmationModal } from \"features/modals\";\nimport { TableDefaultActions } from \"./TableDefaultActions\";\nimport { TableAddActions } from \"./TableAddActions\";\nimport { AuthContext } from \"common/context\";\n\ninterface IProps {\n\tskill: ISkill;\n\ttype?: \"default\" | \"addSkills\";\n}\n\nexport const TableRow: React.FC<IProps> = ({ skill, type }) => {\n\tconst dispatch = useAppDispatch();\n\tconst user = useContext(AuthContext);\n\tconst [confirmationModalOpen, setConfirmationModalOpen] = useState(false);\n\tconst isLoading = useAppSelector(\n\t\t(state) => state.skills.status === \"loading\"\n\t);\n\n\tconst handleDelete = () => {\n\t\tsetConfirmationModalOpen(true);\n\t};\n\n\tconst handleCloseConfirmationModal = () => {\n\t\tsetConfirmationModalOpen(false);\n\t};\n\n\tconst handleConfirmDelete = async () => {\n\t\ttry {\n\t\t\tawait dispatch(deleteSkill(skill)).unwrap();\n\t\t\tsetConfirmationModalOpen(false);\n\t\t} catch (error) {\n\t\t\t// TODO: Show error popup\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<MUITableRow hover tabIndex={-1}>\n\t\t\t\t<TableCell\n\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\tid={`skill-table-${skill.name}`}\n\t\t\t\t\tscope=\"row\"\n\t\t\t\t>\n\t\t\t\t\t{skill.name}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>{CLASS_NAME_MAP[skill.class]}</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{SKILL_TYPE_NAME_MAP[getSkillType(skill)]}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell align=\"right\">{skill.maxUses}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{skill.price}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{skill.level}</TableCell>\n\t\t\t\t{user && (\n\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t{type === \"addSkills\" ? (\n\t\t\t\t\t\t\t<TableAddActions skill={skill} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<TableDefaultActions\n\t\t\t\t\t\t\t\tskill={skill}\n\t\t\t\t\t\t\t\tonDelete={handleDelete}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</MUITableRow>\n\n\t\t\t<ConfirmationModal\n\t\t\t\topen={confirmationModalOpen}\n\t\t\t\ttitle=\"Are you sure?\"\n\t\t\t\tcontent={`This action will permanently delete ${skill.name} from the database.`}\n\t\t\t\thandleClose={handleCloseConfirmationModal}\n\t\t\t\thandleConfirm={handleConfirmDelete}\n\t\t\t\tdisabled={isLoading}\n\t\t\t/>\n\t\t</Fragment>\n\t);\n};\n","import {\n\tBox,\n\tGrid,\n\tInputAdornment,\n\tMenuItem,\n\tSlider,\n\tTextField,\n\tTypography,\n} from \"@mui/material\";\nimport { ISkillFilters } from \"common/types\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport {\n\tCLASSES,\n\tCLASS_NAME_MAP,\n\tMAX_GOLD_VALUE,\n\tMAX_SKILL_LEVEL,\n\tSKILL_TYPES,\n\tSKILL_TYPE_NAME_MAP,\n} from \"common/utils\";\n\ninterface IProps {\n\tfilters: ISkillFilters;\n\tonChangeFilters: (e: React.ChangeEvent<HTMLInputElement>) => void;\n\tonChangeSlider: (e: Event, value: number | number[]) => void;\n}\n\nexport const TableFilters: React.FC<IProps> = ({\n\tfilters,\n\tonChangeFilters,\n\tonChangeSlider,\n}) => {\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\tp: 2,\n\t\t\t}}\n\t\t>\n\t\t\t<Grid container spacing={2} alignItems=\"center\">\n\t\t\t\t<Grid item xs={12} md={2}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tlabel=\"Search\"\n\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\tvalue={filters.name}\n\t\t\t\t\t\tonChange={onChangeFilters}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} md={2}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tselect\n\t\t\t\t\t\tlabel=\"Class\"\n\t\t\t\t\t\tname=\"class\"\n\t\t\t\t\t\tvalue={filters.class}\n\t\t\t\t\t\tonChange={onChangeFilters}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuItem value=\"all\">All</MenuItem>\n\t\t\t\t\t\t{CLASSES.map((cl) => (\n\t\t\t\t\t\t\t<MenuItem key={cl} value={cl}>\n\t\t\t\t\t\t\t\t{CLASS_NAME_MAP[cl]}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TextField>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} md={2}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tselect\n\t\t\t\t\t\tlabel=\"Type\"\n\t\t\t\t\t\tname=\"type\"\n\t\t\t\t\t\tvalue={filters.type}\n\t\t\t\t\t\tonChange={onChangeFilters}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuItem value=\"all\">All</MenuItem>\n\t\t\t\t\t\t{SKILL_TYPES.map((type) => (\n\t\t\t\t\t\t\t<MenuItem key={type} value={type}>\n\t\t\t\t\t\t\t\t{SKILL_TYPE_NAME_MAP[type]}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TextField>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} md={3}>\n\t\t\t\t\t<Typography variant=\"body2\">Price</Typography>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\tvalue={filters.price}\n\t\t\t\t\t\tonChange={onChangeSlider}\n\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\tstep={100}\n\t\t\t\t\t\tmin={100}\n\t\t\t\t\t\tmax={MAX_GOLD_VALUE}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} md={3}>\n\t\t\t\t\t<Typography variant=\"body2\">Level</Typography>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tname=\"level\"\n\t\t\t\t\t\tvalue={filters.level}\n\t\t\t\t\t\tonChange={onChangeSlider}\n\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={MAX_SKILL_LEVEL}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t);\n};\n","import {\n\tBox,\n\tPaper,\n\tSxProps,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTablePagination,\n\tTableRow as MUITableRow,\n\tTableSortLabel,\n} from \"@mui/material\";\nimport { visuallyHidden } from \"@mui/utils\";\nimport { ISkillFilters, TOrder, TSkillsOrderBy } from \"common/types\";\nimport { Fragment, useContext, useState } from \"react\";\nimport { useAppSelector } from \"common/hooks\";\nimport { TableRow } from \"./TableRow\";\nimport { TableFilters } from \"./TableFilters\";\nimport { applySkillsFilters, getSkillsComparator } from \"common/utils\";\nimport { AuthContext } from \"common/context\";\n\ninterface HeadCell {\n\tid: TSkillsOrderBy;\n\tlabel: string;\n\talign?: \"right\";\n}\n\nconst headCells: readonly HeadCell[] = [\n\t{\n\t\tid: \"name\",\n\t\tlabel: \"Name\",\n\t},\n\t{\n\t\tid: \"class\",\n\t\tlabel: \"Class\",\n\t},\n\t{\n\t\tid: \"type\",\n\t\tlabel: \"Type\",\n\t},\n\t{\n\t\tid: \"maxUses\",\n\t\talign: \"right\",\n\t\tlabel: \"Max Uses\",\n\t},\n\t{\n\t\tid: \"price\",\n\t\talign: \"right\",\n\t\tlabel: \"Value\",\n\t},\n\t{\n\t\tid: \"level\",\n\t\talign: \"right\",\n\t\tlabel: \"Level\",\n\t},\n];\n\ninterface EnhancedTableProps {\n\tonRequestSort: (\n\t\tevent: React.MouseEvent<unknown>,\n\t\tproperty: TSkillsOrderBy\n\t) => void;\n\torder: TOrder;\n\torderBy: TSkillsOrderBy;\n}\n\nconst EnhancedTableHead: React.FC<EnhancedTableProps> = (props) => {\n\tconst { order, orderBy, onRequestSort } = props;\n\tconst user = useContext(AuthContext);\n\n\tconst createSortHandler =\n\t\t(property: TSkillsOrderBy) => (event: React.MouseEvent<unknown>) => {\n\t\t\tonRequestSort(event, property);\n\t\t};\n\n\treturn (\n\t\t<TableHead>\n\t\t\t<MUITableRow>\n\t\t\t\t{headCells.map((headCell) => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={headCell.align}\n\t\t\t\t\t\tsortDirection={orderBy === headCell.id ? order : false}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\tactive={orderBy === headCell.id}\n\t\t\t\t\t\t\tdirection={orderBy === headCell.id ? order : \"asc\"}\n\t\t\t\t\t\t\tonClick={createSortHandler(headCell.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t\t\t{orderBy === headCell.id ? (\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\tsx={visuallyHidden as SxProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{order === \"desc\"\n\t\t\t\t\t\t\t\t\t\t? \"sorted descending\"\n\t\t\t\t\t\t\t\t\t\t: \"sorted ascending\"}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\n\t\t\t\t{user && <TableCell align=\"right\">Actions</TableCell>}\n\t\t\t</MUITableRow>\n\t\t</TableHead>\n\t);\n};\n\nconst defaultFilters: ISkillFilters = {\n\tname: \"\",\n\tclass: \"all\",\n\ttype: \"all\",\n\tprice: 10000,\n\tlevel: 9,\n};\n\ninterface IProps {\n\ttype?: \"default\" | \"addSkills\";\n}\n\nexport const SkillsTable: React.FC<IProps> = ({ type = \"default\" }) => {\n\tconst skillsList = useAppSelector((state) => state.skills.skills);\n\tconst [order, setOrder] = useState<TOrder>(\"asc\");\n\tconst [orderBy, setOrderBy] = useState<TSkillsOrderBy>(\"name\");\n\tconst [page, setPage] = useState(0);\n\tconst [rowsPerPage, setRowsPerPage] = useState(25);\n\tconst [filters, setFilters] = useState<ISkillFilters>(defaultFilters);\n\n\tconst handleRequestSort = (\n\t\tevent: React.MouseEvent<unknown>,\n\t\tproperty: TSkillsOrderBy\n\t) => {\n\t\tconst isAsc = orderBy === property && order === \"asc\";\n\t\tsetOrder(isAsc ? \"desc\" : \"asc\");\n\t\tsetOrderBy(property);\n\t};\n\n\tconst handleChangePage = (event: unknown, newPage: number) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (\n\t\tevent: React.ChangeEvent<HTMLInputElement>\n\t) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst handleChangeFilters = (\n\t\tevent: React.ChangeEvent<HTMLInputElement>\n\t) => {\n\t\tconst { name, value } = event.target;\n\t\tsetFilters({\n\t\t\t...filters,\n\t\t\t[name]: value,\n\t\t});\n\t};\n\n\tconst handleChangeSlider = (event: Event, value: number | number[]) => {\n\t\tconst { name } = event.target as HTMLInputElement;\n\t\tsetFilters({\n\t\t\t...filters,\n\t\t\t[name]: value,\n\t\t});\n\t};\n\n\t// Avoid a layout jump when reaching the last page with empty rows.\n\tconst emptyRows =\n\t\tpage > 0\n\t\t\t? Math.max(0, (1 + page) * rowsPerPage - skillsList.length)\n\t\t\t: 0;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box sx={{ width: \"100%\" }}>\n\t\t\t\t<Paper sx={{ width: \"100%\", mb: 2 }}>\n\t\t\t\t\t<TableFilters\n\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\tonChangeFilters={handleChangeFilters}\n\t\t\t\t\t\tonChangeSlider={handleChangeSlider}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableContainer>\n\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\tsx={{ minWidth: 750 }}\n\t\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\t\torder={order}\n\t\t\t\t\t\t\t\torderBy={orderBy}\n\t\t\t\t\t\t\t\tonRequestSort={handleRequestSort}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{skillsList\n\t\t\t\t\t\t\t\t\t.slice()\n\t\t\t\t\t\t\t\t\t.filter(applySkillsFilters(filters))\n\t\t\t\t\t\t\t\t\t.sort(getSkillsComparator(order, orderBy))\n\t\t\t\t\t\t\t\t\t.slice(\n\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\n\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.map((row) => (\n\t\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\t\tkey={row.id}\n\t\t\t\t\t\t\t\t\t\t\tskill={row}\n\t\t\t\t\t\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t\t<MUITableRow\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\theight: 53 * emptyRows,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t\t\t</MUITableRow>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t\t<TablePagination\n\t\t\t\t\t\trowsPerPageOptions={[5, 10, 25]}\n\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\tcount={skillsList.length}\n\t\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\t\tpage={page}\n\t\t\t\t\t\tonPageChange={handleChangePage}\n\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</Fragment>\n\t);\n};\n","import { Box, IconButton } from \"@mui/material\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport DeleteIcon from \"@mui/icons-material/Delete\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport { Link } from \"react-router-dom\";\nimport { useAppDispatch } from \"common/hooks\";\nimport { openWeaponModal } from \"features/modals/modalsSlice\";\nimport { IWeapon } from \"common/types\";\n\ninterface IProps {\n\tweapon: IWeapon;\n\tonDelete: () => void;\n}\n\nexport const TableDefaultActions: React.FC<IProps> = ({ weapon, onDelete }) => {\n\tconst dispatch = useAppDispatch();\n\n\tconst handleUpdate = () => {\n\t\tdispatch(openWeaponModal(weapon));\n\t};\n\n\tconst handleDelete = () => {\n\t\tonDelete();\n\t};\n\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t\tgap: 2,\n\t\t\t}}\n\t\t>\n\t\t\t<IconButton\n\t\t\t\taria-label=\"view\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tcomponent={Link}\n\t\t\t\tto={`/weapons/${weapon.id}`}\n\t\t\t>\n\t\t\t\t<VisibilityIcon />\n\t\t\t</IconButton>\n\t\t\t<IconButton\n\t\t\t\taria-label=\"update\"\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tonClick={handleUpdate}\n\t\t\t>\n\t\t\t\t<EditIcon />\n\t\t\t</IconButton>\n\t\t\t<IconButton\n\t\t\t\taria-label=\"delete\"\n\t\t\t\tcolor=\"warning\"\n\t\t\t\tonClick={handleDelete}\n\t\t\t>\n\t\t\t\t<DeleteIcon />\n\t\t\t</IconButton>\n\t\t</Box>\n\t);\n};\n","import { Box, IconButton } from \"@mui/material\";\nimport AddCircleIcon from \"@mui/icons-material/AddCircle\";\nimport RemoveCircleIcon from \"@mui/icons-material/RemoveCircle\";\nimport { IWeapon } from \"common/types\";\nimport { useAddEquipmentContext } from \"common/context\";\nimport { EQUIPMENT_SLOT_TYPE_MAP } from \"common/utils\";\n\ninterface IProps {\n\tweapon: IWeapon;\n}\n\nexport const TableAddActions: React.FC<IProps> = ({ weapon }) => {\n\tconst { state, dispatch } = useAddEquipmentContext();\n\n\tconst slots = EQUIPMENT_SLOT_TYPE_MAP[weapon.type];\n\tconst availableSlot = slots.find((slot) => state[slot] === undefined);\n\tconst currentSlot = slots.find((slot) => state[slot] === weapon.id);\n\n\tconst handleAdd = () => {\n\t\tif (availableSlot) {\n\t\t\tdispatch({\n\t\t\t\ttype: \"ADD\",\n\t\t\t\tpayload: {\n\t\t\t\t\tslot: availableSlot,\n\t\t\t\t\tvalue: weapon.id,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleRemove = () => {\n\t\tif (currentSlot) {\n\t\t\tdispatch({\n\t\t\t\ttype: \"REMOVE\",\n\t\t\t\tpayload: {\n\t\t\t\t\tslot: currentSlot,\n\t\t\t\t\tvalue: weapon.id,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tjustifyContent: \"flex-end\",\n\t\t\t\tgap: 2,\n\t\t\t}}\n\t\t>\n\t\t\t{availableSlot ? (\n\t\t\t\t<IconButton\n\t\t\t\t\taria-label=\"add\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={handleAdd}\n\t\t\t\t>\n\t\t\t\t\t<AddCircleIcon />\n\t\t\t\t</IconButton>\n\t\t\t) : (\n\t\t\t\t<IconButton\n\t\t\t\t\taria-label=\"remove\"\n\t\t\t\t\tcolor=\"warning\"\n\t\t\t\t\tonClick={handleRemove}\n\t\t\t\t>\n\t\t\t\t\t<RemoveCircleIcon />\n\t\t\t\t</IconButton>\n\t\t\t)}\n\t\t</Box>\n\t);\n};\n","import { TableCell, TableRow as MUITableRow } from \"@mui/material\";\nimport { Fragment, useContext, useState } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"common/hooks\";\nimport { IWeapon } from \"common/types\";\nimport {\n\tRESISTANCES_NAME_MAP,\n\tWEAPON_SIZE_NAME_MAP,\n\tWEAPON_TYPE_NAME_MAP,\n} from \"common/utils\";\nimport { ConfirmationModal } from \"features/modals\";\nimport { TableDefaultActions } from \"./TableDefaultActions\";\nimport { TableAddActions } from \"./TableAddActions\";\nimport { AuthContext } from \"common/context\";\nimport { deleteWeapon } from \"features/weapons\";\n\ninterface IProps {\n\tweapon: IWeapon;\n\ttype?: \"default\" | \"addWeapons\";\n}\n\nexport const TableRow: React.FC<IProps> = ({ weapon, type }) => {\n\tconst dispatch = useAppDispatch();\n\tconst user = useContext(AuthContext);\n\tconst [confirmationModalOpen, setConfirmationModalOpen] = useState(false);\n\tconst isLoading = useAppSelector(\n\t\t(state) => state.skills.status === \"loading\"\n\t);\n\n\tconst handleDelete = () => {\n\t\tsetConfirmationModalOpen(true);\n\t};\n\n\tconst handleCloseConfirmationModal = () => {\n\t\tsetConfirmationModalOpen(false);\n\t};\n\n\tconst handleConfirmDelete = async () => {\n\t\ttry {\n\t\t\tawait dispatch(deleteWeapon(weapon)).unwrap();\n\t\t\tsetConfirmationModalOpen(false);\n\t\t} catch (error) {\n\t\t\t// TODO: Show error popup\n\t\t}\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<MUITableRow hover tabIndex={-1}>\n\t\t\t\t<TableCell\n\t\t\t\t\tcomponent=\"th\"\n\t\t\t\t\tid={`table-${weapon.name}`}\n\t\t\t\t\tscope=\"row\"\n\t\t\t\t>\n\t\t\t\t\t{weapon.name}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>{WEAPON_TYPE_NAME_MAP[weapon.weaponType]}</TableCell>\n\t\t\t\t<TableCell>{RESISTANCES_NAME_MAP[weapon.damageType]}</TableCell>\n\t\t\t\t<TableCell>{WEAPON_SIZE_NAME_MAP[weapon.size]}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{weapon.price}</TableCell>\n\t\t\t\t<TableCell align=\"right\">{weapon.level}</TableCell>\n\t\t\t\t{user && (\n\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t{type === \"addWeapons\" ? (\n\t\t\t\t\t\t\t<TableAddActions weapon={weapon} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<TableDefaultActions\n\t\t\t\t\t\t\t\tweapon={weapon}\n\t\t\t\t\t\t\t\tonDelete={handleDelete}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableCell>\n\t\t\t\t)}\n\t\t\t</MUITableRow>\n\n\t\t\t<ConfirmationModal\n\t\t\t\topen={confirmationModalOpen}\n\t\t\t\ttitle=\"Are you sure?\"\n\t\t\t\tcontent={`This action will permanently delete ${weapon.name} from the database.`}\n\t\t\t\thandleClose={handleCloseConfirmationModal}\n\t\t\t\thandleConfirm={handleConfirmDelete}\n\t\t\t\tdisabled={isLoading}\n\t\t\t/>\n\t\t</Fragment>\n\t);\n};\n","import {\n\tBox,\n\tGrid,\n\tInputAdornment,\n\tMenuItem,\n\tSlider,\n\tTextField,\n\tTypography,\n} from \"@mui/material\";\nimport { IWeaponFilters } from \"common/types\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport {\n\tMAX_GOLD_VALUE,\n\tMAX_SKILL_LEVEL,\n\tRESISTANCES,\n\tRESISTANCES_NAME_MAP,\n\tWEAPON_TYPES,\n\tWEAPON_TYPE_NAME_MAP,\n} from \"common/utils\";\n\ninterface IProps {\n\tfilters: IWeaponFilters;\n\tonChangeFilters: (e: React.ChangeEvent<HTMLInputElement>) => void;\n\tonChangeSlider: (e: Event, value: number | number[]) => void;\n}\n\nexport const TableFilters: React.FC<IProps> = ({\n\tfilters,\n\tonChangeFilters,\n\tonChangeSlider,\n}) => {\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\tp: 2,\n\t\t\t}}\n\t\t>\n\t\t\t<Grid container spacing={2} alignItems=\"center\">\n\t\t\t\t<Grid item xs={12} md={2}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tlabel=\"Search\"\n\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\tvalue={filters.name}\n\t\t\t\t\t\tonChange={onChangeFilters}\n\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t<SearchIcon />\n\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} md={2}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tselect\n\t\t\t\t\t\tlabel=\"Type\"\n\t\t\t\t\t\tname=\"type\"\n\t\t\t\t\t\tvalue={filters.type}\n\t\t\t\t\t\tonChange={onChangeFilters}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuItem value=\"all\">All</MenuItem>\n\t\t\t\t\t\t{WEAPON_TYPES.map((type) => (\n\t\t\t\t\t\t\t<MenuItem key={type} value={type}>\n\t\t\t\t\t\t\t\t{WEAPON_TYPE_NAME_MAP[type]}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TextField>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} md={2}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tselect\n\t\t\t\t\t\tlabel=\"Damage Type\"\n\t\t\t\t\t\tname=\"damageType\"\n\t\t\t\t\t\tvalue={filters.damageType}\n\t\t\t\t\t\tonChange={onChangeFilters}\n\t\t\t\t\t>\n\t\t\t\t\t\t<MenuItem value=\"all\">All</MenuItem>\n\t\t\t\t\t\t{RESISTANCES.map((resistance) => (\n\t\t\t\t\t\t\t<MenuItem key={resistance} value={resistance}>\n\t\t\t\t\t\t\t\t{RESISTANCES_NAME_MAP[resistance]}\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TextField>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} md={3}>\n\t\t\t\t\t<Typography variant=\"body2\">Price</Typography>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\tvalue={filters.price}\n\t\t\t\t\t\tonChange={onChangeSlider}\n\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\tstep={100}\n\t\t\t\t\t\tmin={100}\n\t\t\t\t\t\tmax={MAX_GOLD_VALUE}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={6} md={3}>\n\t\t\t\t\t<Typography variant=\"body2\">Level</Typography>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tname=\"level\"\n\t\t\t\t\t\tvalue={filters.level}\n\t\t\t\t\t\tonChange={onChangeSlider}\n\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\n\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={MAX_SKILL_LEVEL}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Box>\n\t);\n};\n","import {\n\tBox,\n\tPaper,\n\tSxProps,\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableContainer,\n\tTableHead,\n\tTablePagination,\n\tTableRow as MUITableRow,\n\tTableSortLabel,\n} from \"@mui/material\";\nimport { visuallyHidden } from \"@mui/utils\";\nimport { IWeaponFilters, TOrder, TWeaponsOrderBy } from \"common/types\";\nimport { Fragment, useContext, useState } from \"react\";\nimport { useAppSelector } from \"common/hooks\";\nimport { TableRow } from \"./TableRow\";\nimport { TableFilters } from \"./TableFilters\";\nimport { applyWeaponsFilters, getWeaponsComparator } from \"common/utils\";\nimport { AuthContext } from \"common/context\";\n\ninterface HeadCell {\n\tid: TWeaponsOrderBy;\n\tlabel: string;\n\talign?: \"right\";\n}\n\nconst headCells: readonly HeadCell[] = [\n\t{\n\t\tid: \"name\",\n\t\tlabel: \"Name\",\n\t},\n\t{\n\t\tid: \"weaponType\",\n\t\tlabel: \"Type\",\n\t},\n\t{\n\t\tid: \"damageType\",\n\t\tlabel: \"Damage Type\",\n\t},\n\t{\n\t\tid: \"size\",\n\t\tlabel: \"Size\",\n\t},\n\t{\n\t\tid: \"price\",\n\t\talign: \"right\",\n\t\tlabel: \"Value\",\n\t},\n\t{\n\t\tid: \"level\",\n\t\talign: \"right\",\n\t\tlabel: \"Level\",\n\t},\n];\n\ninterface EnhancedTableProps {\n\tonRequestSort: (\n\t\tevent: React.MouseEvent<unknown>,\n\t\tproperty: TWeaponsOrderBy\n\t) => void;\n\torder: TOrder;\n\torderBy: TWeaponsOrderBy;\n}\n\nconst EnhancedTableHead: React.FC<EnhancedTableProps> = (props) => {\n\tconst { order, orderBy, onRequestSort } = props;\n\tconst user = useContext(AuthContext);\n\n\tconst createSortHandler =\n\t\t(property: TWeaponsOrderBy) => (event: React.MouseEvent<unknown>) => {\n\t\t\tonRequestSort(event, property);\n\t\t};\n\n\treturn (\n\t\t<TableHead>\n\t\t\t<MUITableRow>\n\t\t\t\t{headCells.map((headCell) => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={headCell.id}\n\t\t\t\t\t\talign={headCell.align}\n\t\t\t\t\t\tsortDirection={orderBy === headCell.id ? order : false}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\tactive={orderBy === headCell.id}\n\t\t\t\t\t\t\tdirection={orderBy === headCell.id ? order : \"asc\"}\n\t\t\t\t\t\t\tonClick={createSortHandler(headCell.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t\t\t{orderBy === headCell.id ? (\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\tsx={visuallyHidden as SxProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{order === \"desc\"\n\t\t\t\t\t\t\t\t\t\t? \"sorted descending\"\n\t\t\t\t\t\t\t\t\t\t: \"sorted ascending\"}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\n\t\t\t\t{user && <TableCell align=\"right\">Actions</TableCell>}\n\t\t\t</MUITableRow>\n\t\t</TableHead>\n\t);\n};\n\nconst defaultFilters: IWeaponFilters = {\n\tname: \"\",\n\ttype: \"all\",\n\tdamageType: \"all\",\n\tprice: 10000,\n\tlevel: 9,\n};\n\ninterface IProps {\n\ttype?: \"default\" | \"addWeapons\";\n}\n\nexport const WeaponsTable: React.FC<IProps> = ({ type = \"default\" }) => {\n\tconst weaponsList = useAppSelector((state) => state.weapons.weapons);\n\tconst [order, setOrder] = useState<TOrder>(\"asc\");\n\tconst [orderBy, setOrderBy] = useState<TWeaponsOrderBy>(\"name\");\n\tconst [page, setPage] = useState(0);\n\tconst [rowsPerPage, setRowsPerPage] = useState(25);\n\tconst [filters, setFilters] = useState<IWeaponFilters>(defaultFilters);\n\n\tconst handleRequestSort = (\n\t\tevent: React.MouseEvent<unknown>,\n\t\tproperty: TWeaponsOrderBy\n\t) => {\n\t\tconst isAsc = orderBy === property && order === \"asc\";\n\t\tsetOrder(isAsc ? \"desc\" : \"asc\");\n\t\tsetOrderBy(property);\n\t};\n\n\tconst handleChangePage = (event: unknown, newPage: number) => {\n\t\tsetPage(newPage);\n\t};\n\n\tconst handleChangeRowsPerPage = (\n\t\tevent: React.ChangeEvent<HTMLInputElement>\n\t) => {\n\t\tsetRowsPerPage(parseInt(event.target.value, 10));\n\t\tsetPage(0);\n\t};\n\n\tconst handleChangeFilters = (\n\t\tevent: React.ChangeEvent<HTMLInputElement>\n\t) => {\n\t\tconst { name, value } = event.target;\n\t\tsetFilters({\n\t\t\t...filters,\n\t\t\t[name]: value,\n\t\t});\n\t};\n\n\tconst handleChangeSlider = (event: Event, value: number | number[]) => {\n\t\tconst { name } = event.target as HTMLInputElement;\n\t\tsetFilters({\n\t\t\t...filters,\n\t\t\t[name]: value,\n\t\t});\n\t};\n\n\t// Avoid a layout jump when reaching the last page with empty rows.\n\tconst emptyRows =\n\t\tpage > 0\n\t\t\t? Math.max(0, (1 + page) * rowsPerPage - weaponsList.length)\n\t\t\t: 0;\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Box sx={{ width: \"100%\" }}>\n\t\t\t\t<Paper sx={{ width: \"100%\", mb: 2 }}>\n\t\t\t\t\t<TableFilters\n\t\t\t\t\t\tfilters={filters}\n\t\t\t\t\t\tonChangeFilters={handleChangeFilters}\n\t\t\t\t\t\tonChangeSlider={handleChangeSlider}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableContainer>\n\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\tsx={{ minWidth: 750 }}\n\t\t\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\t\t\torder={order}\n\t\t\t\t\t\t\t\torderBy={orderBy}\n\t\t\t\t\t\t\t\tonRequestSort={handleRequestSort}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{weaponsList\n\t\t\t\t\t\t\t\t\t.slice()\n\t\t\t\t\t\t\t\t\t.filter(applyWeaponsFilters(filters))\n\t\t\t\t\t\t\t\t\t.sort(getWeaponsComparator(order, orderBy))\n\t\t\t\t\t\t\t\t\t.slice(\n\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage,\n\t\t\t\t\t\t\t\t\t\tpage * rowsPerPage + rowsPerPage\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.map((row) => (\n\t\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\t\tkey={row.id}\n\t\t\t\t\t\t\t\t\t\t\tweapon={row}\n\t\t\t\t\t\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t\t\t<MUITableRow\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\theight: 53 * emptyRows,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t\t\t</MUITableRow>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t\t<TablePagination\n\t\t\t\t\t\trowsPerPageOptions={[5, 10, 25]}\n\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\tcount={weaponsList.length}\n\t\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\t\tpage={page}\n\t\t\t\t\t\tonPageChange={handleChangePage}\n\t\t\t\t\t\tonRowsPerPageChange={handleChangeRowsPerPage}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\t\t\t</Box>\n\t\t</Fragment>\n\t);\n};\n","import { Typography } from \"@mui/material\";\n\nexport const Classes: React.FC = () => {\n\treturn (\n\t\t<div>\n\t\t\t<Typography variant=\"h2\" gutterBottom>\n\t\t\t\tClasses\n\t\t\t</Typography>\n\t\t\t<Typography>Coming soon</Typography>\n\t\t</div>\n\t);\n};\n","import {\n\tButton,\n\tCard,\n\tCardActions,\n\tCardContent,\n\tCardMedia,\n\tTypography,\n} from \"@mui/material\";\nimport { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"common/context/AuthContext\";\n\ninterface IProps {\n\ttitle: string;\n\tdescription: string;\n\timage: string;\n\tlink: string;\n\tonAdd: () => void;\n}\n\nexport const DashboardCard: React.FC<IProps> = ({\n\ttitle,\n\tdescription,\n\timage,\n\tlink,\n\tonAdd,\n}) => {\n\tconst user = useContext(AuthContext);\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardMedia sx={{ height: 200 }} image={image} title={title} />\n\t\t\t<CardContent>\n\t\t\t\t<Typography gutterBottom variant=\"h5\" component=\"div\">\n\t\t\t\t\t{title}\n\t\t\t\t</Typography>\n\t\t\t\t<Typography variant=\"body2\" color=\"text.secondary\">\n\t\t\t\t\t{description}\n\t\t\t\t</Typography>\n\t\t\t</CardContent>\n\t\t\t<CardActions>\n\t\t\t\t<Button size=\"small\" component={Link} to={link}>\n\t\t\t\t\tView\n\t\t\t\t</Button>\n\t\t\t\t{user && (\n\t\t\t\t\t<Button size=\"small\" onClick={onAdd}>\n\t\t\t\t\t\tAdd\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</CardActions>\n\t\t</Card>\n\t);\n};\n","export default __webpack_public_path__ + \"static/media/monsters.55bad24f.jpg\";","export default __webpack_public_path__ + \"static/media/skills.a0419edf.png\";","export default __webpack_public_path__ + \"static/media/weapons.a6e2ac96.webp\";","export default __webpack_public_path__ + \"static/media/armour.5270e88a.jpg\";","import { Grid, Typography } from \"@mui/material\";\nimport { DashboardCard } from \"./DashboardCard\";\nimport monstersImage from \"assets/images/monsters.jpg\";\nimport skillsImage from \"assets/images/skills.png\";\nimport weaponsImage from \"assets/images/weapons.webp\";\nimport armourImage from \"assets/images/armour.jpg\";\nimport { useAppDispatch } from \"common/hooks\";\nimport { openMonsterModal, openSkillModal } from \"features/modals\";\n\nexport const Dashboard: React.FC = () => {\n\tconst dispatch = useAppDispatch();\n\n\tconst handleAddMonster = () => {\n\t\tdispatch(openMonsterModal());\n\t};\n\n\tconst handleAddSkill = () => {\n\t\tdispatch(openSkillModal());\n\t};\n\n\tconst handleAddWeapon = () => {};\n\n\tconst handleAddArmour = () => {};\n\n\treturn (\n\t\t<div>\n\t\t\t<Typography variant=\"h2\" gutterBottom>\n\t\t\t\tDashboard\n\t\t\t</Typography>\n\t\t\t<Grid container spacing={2}>\n\t\t\t\t<Grid item xs={12} sm={6} lg={3}>\n\t\t\t\t\t<DashboardCard\n\t\t\t\t\t\ttitle=\"Monsters\"\n\t\t\t\t\t\tdescription=\"A complete list of monsters\"\n\t\t\t\t\t\timage={monstersImage}\n\t\t\t\t\t\tlink=\"/monsters\"\n\t\t\t\t\t\tonAdd={handleAddMonster}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6} lg={3}>\n\t\t\t\t\t<DashboardCard\n\t\t\t\t\t\ttitle=\"Skills\"\n\t\t\t\t\t\tdescription=\"A complete list of skills\"\n\t\t\t\t\t\timage={skillsImage}\n\t\t\t\t\t\tlink=\"/skills\"\n\t\t\t\t\t\tonAdd={handleAddSkill}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6} lg={3}>\n\t\t\t\t\t<DashboardCard\n\t\t\t\t\t\ttitle=\"Weapons\"\n\t\t\t\t\t\tdescription=\"A complete list of weapons\"\n\t\t\t\t\t\timage={weaponsImage}\n\t\t\t\t\t\tlink=\"/weapons\"\n\t\t\t\t\t\tonAdd={handleAddWeapon}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs={12} sm={6} lg={3}>\n\t\t\t\t\t<DashboardCard\n\t\t\t\t\t\ttitle=\"Armour\"\n\t\t\t\t\t\tdescription=\"A complete list of armour\"\n\t\t\t\t\t\timage={armourImage}\n\t\t\t\t\t\tlink=\"/armour\"\n\t\t\t\t\t\tonAdd={handleAddArmour}\n\t\t\t\t\t/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</div>\n\t);\n};\n","import { Typography } from \"@mui/material\";\n\nexport const Settings: React.FC = () => {\n\treturn (\n\t\t<div>\n\t\t\t<Typography variant=\"h2\" gutterBottom>\n\t\t\t\tSettings\n\t\t\t</Typography>\n\t\t\t<Typography>Coming soon</Typography>\n\t\t</div>\n\t);\n};\n","import { HOCLayout } from \"common/components\";\nimport { Armour, Armours } from \"features/armours\";\nimport { Classes } from \"features/classes\";\nimport { Dashboard } from \"features/dashboard\";\nimport {\n\tArmourModal,\n\tErrorModal,\n\tLoginModal,\n\tMonsterModal,\n\tSkillModal,\n\tWeaponModal,\n} from \"features/modals\";\nimport { Monster, Monsters } from \"features/monsters\";\nimport { Settings } from \"features/settings\";\nimport { Skill, Skills } from \"features/skills\";\nimport { Weapon, Weapons } from \"features/weapons\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nfunction App() {\n\treturn (\n\t\t<Router basename=\"/monster-cms\">\n\t\t\t<HOCLayout>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact={true} path=\"/\" component={Dashboard} />\n\t\t\t\t\t<Route path=\"/settings\" component={Settings} />\n\t\t\t\t\t<Route path=\"/monsters/:id\" component={Monster} />\n\t\t\t\t\t<Route path=\"/monsters\" component={Monsters} />\n\t\t\t\t\t<Route path=\"/skills/:id\" component={Skill} />\n\t\t\t\t\t<Route path=\"/skills\" component={Skills} />\n\t\t\t\t\t<Route path=\"/weapons/:id\" component={Weapon} />\n\t\t\t\t\t<Route path=\"/weapons\" component={Weapons} />\n\t\t\t\t\t<Route path=\"/armours/:id\" component={Armour} />\n\t\t\t\t\t<Route path=\"/armours\" component={Armours} />\n\t\t\t\t\t<Route path=\"/classes\" component={Classes} />\n\t\t\t\t</Switch>\n\t\t\t</HOCLayout>\n\t\t\t<LoginModal />\n\t\t\t<MonsterModal />\n\t\t\t<SkillModal />\n\t\t\t<WeaponModal />\n\t\t\t<ArmourModal />\n\t\t\t<ErrorModal />\n\t\t</Router>\n\t);\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\r\n\t\timport(\"web-vitals\").then(\r\n\t\t\t({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n\t\t\t\tgetCLS(onPerfEntry);\r\n\t\t\t\tgetFID(onPerfEntry);\r\n\t\t\t\tgetFCP(onPerfEntry);\r\n\t\t\t\tgetLCP(onPerfEntry);\r\n\t\t\t\tgetTTFB(onPerfEntry);\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport modalsReducer from \"features/modals/modalsSlice\";\nimport sidedrawerReducer from \"features/sidedrawer/sidedrawerSlice\";\nimport monstersReducer from \"features/monsters/monstersSlice\";\nimport skillsReducer from \"features/skills/skillsSlice\";\nimport weaponsReducer from \"features/weapons/weaponsSlice\";\nimport armoursReducer from \"features/armours/armoursSlice\";\n\nexport const store = configureStore({\n\treducer: {\n\t\tmodals: modalsReducer,\n\t\tsidedrawer: sidedrawerReducer,\n\t\tmonsters: monstersReducer,\n\t\tskills: skillsReducer,\n\t\tweapons: weaponsReducer,\n\t\tarmours: armoursReducer,\n\t},\n});\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>;\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\nexport type AppDispatch = typeof store.dispatch;\n","import { createTheme } from \"@mui/material/styles\";\n\nconst theme = createTheme({\n\tpalette: {\n\t\tbackground: {\n\t\t\tdefault: \"#212121\",\n\t\t\tpaper: \"#424242\",\n\t\t},\n\t\tprimary: {\n\t\t\tmain: \"#90caf9\",\n\t\t},\n\t\tsecondary: {\n\t\t\tmain: \"#f48fb1\",\n\t\t},\n\t\terror: {\n\t\t\tmain: \"#f44336\",\n\t\t},\n\t\twarning: {\n\t\t\tmain: \"#ff9800\",\n\t\t},\n\t\tinfo: {\n\t\t\tmain: \"#2196f3\",\n\t\t},\n\t\tsuccess: {\n\t\t\tmain: \"#4caf50\",\n\t\t},\n\t\tmode: \"dark\",\n\t},\n});\n\nexport default theme;\n","import { useEffect, useState } from \"react\";\nimport { AuthContext } from \"common/context\";\nimport firebase from \"firebase/app\";\nimport { auth } from \"firebaseSetup\";\n\nexport const AuthProvider: React.FC = ({ children }) => {\n\tconst [user, setUser] = useState<firebase.User | null>(null);\n\n\tuseEffect(() => {\n\t\tconst unsubscribe = auth.onAuthStateChanged((firebaseUser) => {\n\t\t\tsetUser(firebaseUser);\n\t\t});\n\n\t\treturn unsubscribe;\n\t}, []);\n\n\treturn <AuthContext.Provider value={user}>{children}</AuthContext.Provider>;\n};\n","import { Fragment, useEffect } from \"react\";\nimport { dbArmours, dbMonsters, dbSkills, dbWeapons } from \"firebaseSetup\";\nimport { useAppDispatch } from \"common/hooks\";\nimport { fetchMonsters } from \"features/monsters\";\nimport { IArmour, IMonster, ISkill, IWeapon } from \"common/types\";\nimport { fetchSkills } from \"features/skills\";\nimport { fetchWeapons } from \"features/weapons\";\nimport { fetchArmours } from \"features/armours\";\n\nexport const DatabaseListener: React.FC = ({ children }) => {\n\tconst dispatch = useAppDispatch();\n\n\tuseEffect(() => {\n\t\tdbMonsters.orderByChild(\"name\").on(\"value\", (snapshot) => {\n\t\t\tconst monsters = [] as IMonster[];\n\t\t\tsnapshot.forEach((childSnapshot) => {\n\t\t\t\tconst monster = {\n\t\t\t\t\t...childSnapshot.val(),\n\t\t\t\t\tid: childSnapshot.key,\n\t\t\t\t};\n\t\t\t\tmonsters.push(monster);\n\t\t\t});\n\t\t\tdispatch(fetchMonsters(monsters));\n\t\t});\n\t}, [dispatch]);\n\n\tuseEffect(() => {\n\t\tdbSkills.orderByChild(\"name\").on(\"value\", (snapshot) => {\n\t\t\tconst skills = [] as ISkill[];\n\t\t\tsnapshot.forEach((childSnapshot) => {\n\t\t\t\tconst skill = {\n\t\t\t\t\t...childSnapshot.val(),\n\t\t\t\t\tid: childSnapshot.key,\n\t\t\t\t};\n\t\t\t\tskills.push(skill);\n\t\t\t});\n\t\t\tdispatch(fetchSkills(skills));\n\t\t});\n\t}, [dispatch]);\n\n\tuseEffect(() => {\n\t\tdbWeapons.orderByChild(\"name\").on(\"value\", (snapshot) => {\n\t\t\tconst weapons = [] as IWeapon[];\n\t\t\tsnapshot.forEach((childSnapshot) => {\n\t\t\t\tconst weapon = {\n\t\t\t\t\t...childSnapshot.val(),\n\t\t\t\t\tid: childSnapshot.key,\n\t\t\t\t};\n\t\t\t\tweapons.push(weapon);\n\t\t\t});\n\t\t\tdispatch(fetchWeapons(weapons));\n\t\t});\n\t}, [dispatch]);\n\n\tuseEffect(() => {\n\t\tdbArmours.orderByChild(\"name\").on(\"value\", (snapshot) => {\n\t\t\tconst armours = [] as IArmour[];\n\t\t\tsnapshot.forEach((childSnapshot) => {\n\t\t\t\tconst armour = {\n\t\t\t\t\t...childSnapshot.val(),\n\t\t\t\t\tid: childSnapshot.key,\n\t\t\t\t};\n\t\t\t\tarmours.push(armour);\n\t\t\t});\n\t\t\tdispatch(fetchArmours(armours));\n\t\t});\n\t}, [dispatch]);\n\n\treturn <Fragment>{children}</Fragment>;\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./app/store\";\nimport { ThemeProvider } from \"@mui/material\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport theme from \"./theme\";\nimport { AuthProvider } from \"./common/provider/AuthProvider\";\nimport { DatabaseListener } from \"./common/components/DatabaseListener\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<AuthProvider>\n\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t<DatabaseListener>\n\t\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t\t<App />\n\t\t\t\t\t</DatabaseListener>\n\t\t\t\t</ThemeProvider>\n\t\t\t</AuthProvider>\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}