(this["webpackJsonpmonster-manual"]=this["webpackJsonpmonster-manual"]||[]).push([[0],{174:function(e,t,n){"use strict";n.r(t);var a,c,r,i,s,o,l,d,j,u,b,m,x,h,O=n(1),f=n.n(O),p=n(45),g=n.n(p),v=n(19),y=n.n(v),k=n(23),C=n(254),w=n(255),S=n(256),M=n(91),W=n(247),P=n(225),A=n(38),E=function(){return Object(A.b)()},D=A.c,B=n(4);!function(e){e.WeaponDamage="weaponDamage",e.Damage="damage",e.Heal="heal",e.Status="status",e.Auxiliary="auxiliary"}(a||(a={})),function(e){e.Self="self",e.Ally="ally",e.Enemy="enemy"}(c||(c={})),(i=r||(r={})).Poison="poison",i.Stun="stun",i.Bleed="bleed",function(e){e.Common="common",e.Warrior="warrior",e.Rogue="rogue",e.Mage="mage",e.Cleric="cleric"}(s||(s={})),function(e){e.Strength="strength",e.Dexterity="dexterity",e.Constitution="constitution",e.Intelligence="intelligence",e.Wisdom="wisdom",e.Charisma="charisma"}(o||(o={})),function(e){e.Slashing="slashing",e.Crushing="crushing",e.Piercing="piercing",e.Cold="cold",e.Fire="fire",e.Lighting="lighting",e.Radiant="radiant",e.Necrotic="necrotic",e.Poison="poison",e.Acid="acid"}(l||(l={})),function(e){e.WeaponAttack="weaponAttack",e.Attack="attack",e.Heal="heal",e.Buff="buff",e.Debuff="debuff",e.Other="other"}(d||(d={}));var F=240,R=1e4,I=100,T=10,L=[o.Strength,o.Dexterity,o.Constitution,o.Intelligence,o.Wisdom,o.Charisma],U=[l.Slashing,l.Crushing,l.Piercing,l.Cold,l.Fire,l.Lighting,l.Radiant,l.Necrotic,l.Poison,l.Acid],N=[l.Slashing,l.Crushing,l.Piercing],q=[l.Cold,l.Fire,l.Lighting],z=[l.Radiant,l.Necrotic,l.Poison,l.Acid],H=(j={},Object(B.a)(j,o.Charisma,"Charisma"),Object(B.a)(j,o.Constitution,"Constitution"),Object(B.a)(j,o.Dexterity,"Dexterity"),Object(B.a)(j,o.Intelligence,"Intelligence"),Object(B.a)(j,o.Strength,"Strength"),Object(B.a)(j,o.Wisdom,"Wisdom"),j),G=(u={},Object(B.a)(u,l.Slashing,"Slashing"),Object(B.a)(u,l.Crushing,"Crushing"),Object(B.a)(u,l.Piercing,"Piercing"),Object(B.a)(u,l.Cold,"Cold"),Object(B.a)(u,l.Fire,"Fire"),Object(B.a)(u,l.Lighting,"Lighting"),Object(B.a)(u,l.Radiant,"Radiant"),Object(B.a)(u,l.Necrotic,"Necrotic"),Object(B.a)(u,l.Poison,"Poison"),Object(B.a)(u,l.Acid,"Acid"),u),V=[a.WeaponDamage,a.Damage,a.Heal,a.Status,a.Auxiliary],J=(b={},Object(B.a)(b,a.WeaponDamage,"Weapon Damage"),Object(B.a)(b,a.Damage,"Damage"),Object(B.a)(b,a.Heal,"Heal"),Object(B.a)(b,a.Status,"Status"),Object(B.a)(b,a.Auxiliary,"Auxiliary"),b),K=[r.Poison,r.Stun,r.Bleed],Z=(m={},Object(B.a)(m,r.Poison,"Poison"),Object(B.a)(m,r.Stun,"Stun"),Object(B.a)(m,r.Bleed,"Bleed"),m),_=[s.Common,s.Warrior,s.Mage,s.Rogue,s.Cleric],Q=(x={},Object(B.a)(x,s.Common,"Common"),Object(B.a)(x,s.Warrior,"Warrior"),Object(B.a)(x,s.Mage,"Mage"),Object(B.a)(x,s.Rogue,"Rogue"),Object(B.a)(x,s.Cleric,"Cleric"),x),X=[d.WeaponAttack,d.Attack,d.Heal,d.Buff,d.Debuff,d.Other],Y=(h={},Object(B.a)(h,d.WeaponAttack,"Weapon Attack"),Object(B.a)(h,d.Attack,"Attack"),Object(B.a)(h,d.Heal,"Heal"),Object(B.a)(h,d.Buff,"Buff"),Object(B.a)(h,d.Debuff,"Debuff"),Object(B.a)(h,d.Other,"Other"),h),$=n(29),ee=Object($.c)({name:"modals",initialState:{loginModalOpen:!1,confirmationModalOpen:!1,errorModal:{open:!1},monsterModal:{open:!1},skillModal:{open:!1},effectModal:{open:!1},addSkillsModalOpen:!1},reducers:{openLoginModal:function(e){e.loginModalOpen=!0},closeLoginModal:function(e){e.loginModalOpen=!1},openConfirmationModal:function(e){e.confirmationModalOpen=!0},closeConfirmationModal:function(e){e.confirmationModalOpen=!1},openErrorModal:function(e,t){e.errorModal.open=!0,e.errorModal.title=t.payload.title,e.errorModal.message=t.payload.message},closeErrorModal:function(e){e.errorModal.open=!1,e.errorModal.title=void 0,e.errorModal.message=void 0},openMonsterModal:function(e,t){e.monsterModal.open=!0,e.monsterModal.monster=t.payload},closeMonsterModal:function(e){e.monsterModal.open=!1,e.monsterModal.monster=void 0},openSkillModal:function(e,t){e.skillModal.open=!0,e.skillModal.skill=t.payload},closeSkillModal:function(e){e.skillModal.open=!1,e.skillModal.skill=void 0},openEffectModal:function(e,t){e.effectModal.open=!0,e.effectModal.effect=t.payload.effect,e.effectModal.index=t.payload.index},closeEffectModal:function(e){e.effectModal.open=!1,e.effectModal.effect=void 0,e.effectModal.index=void 0},openAddSkillsModal:function(e){e.addSkillsModalOpen=!0},closeAddSkillsModal:function(e){e.addSkillsModalOpen=!1}}}),te=ee.actions,ne=te.openLoginModal,ae=te.closeLoginModal,ce=te.openConfirmationModal,re=te.closeConfirmationModal,ie=te.openErrorModal,se=te.closeErrorModal,oe=te.openMonsterModal,le=te.closeMonsterModal,de=te.openSkillModal,je=te.closeSkillModal,ue=te.openEffectModal,be=te.closeEffectModal,me=te.openAddSkillsModal,xe=te.closeAddSkillsModal,he=ee.reducer,Oe=Object($.c)({name:"sidedrawer",initialState:{open:!1},reducers:{openSidedrawer:function(e){e.open=!0},closeSidedrawer:function(e){e.open=!1}}}),fe=Oe.actions,pe=fe.openSidedrawer,ge=fe.closeSidedrawer,ve=Oe.reducer,ye=f.a.createContext(null),ke=n(78);n(163),n(175),n(165);ke.a.initializeApp({apiKey:"AIzaSyAAH_x0j8TgdkLy1isIz9dVewHi4lvOl94",authDomain:"monster-manual.firebaseapp.com",projectId:"monster-manual",storageBucket:"gs://monster-manual.appspot.com",messagingSenderId:"275680531047",appId:"1:275680531047:web:16c523bb6980423ad77ac2",measurementId:"G-L028ZGMC11",databaseURL:"https://monster-manual-default-rtdb.europe-west1.firebasedatabase.app/"});var Ce,we,Se,Me=ke.a.auth(),We=ke.a.storage().ref("images"),Pe=ke.a.database().ref("monsters"),Ae=ke.a.database().ref("skills"),Ee=n(0),De=function(){var e=E(),t=Object(O.useContext)(ye),n=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me.signOut();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Ee.jsx)(C.a,{sx:{width:{sm:"calc(100% - ".concat(F,"px)")},marginLeft:{sm:F}},position:"fixed",children:Object(Ee.jsxs)(w.a,{sx:{backgroundColor:"primary.main",color:"common.black"},children:[Object(Ee.jsx)(S.a,{sx:{marginRight:2,display:{sm:"none"}},color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){e(pe())},children:Object(Ee.jsx)(P.a,{})}),Object(Ee.jsx)(M.a,{sx:{flexGrow:1},variant:"h6",children:"Monster Manual"}),t?Object(Ee.jsx)(W.a,{color:"inherit",type:"button",onClick:n,children:"Logout"}):Object(Ee.jsx)(W.a,{color:"inherit",type:"button",onClick:function(){e(ne())},children:"Login"})]})})},Be=n(257),Fe=n(227),Re=n(258),Ie=n(259),Te=n(228),Le=n(260),Ue=n(261),Ne=n(248),qe=n(229),ze=n(27),He=n(33),Ge=function(){var e=Object(O.useContext)(ye),t=E(),n=D((function(e){return e.sidedrawer.open})),a=D((function(e){return e.monsters.monsters})),c=D((function(e){return e.skills.skills})),r=Object(ze.g)("/monsters"),i=Object(ze.g)("/skills"),s=Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Be.a,{sx:function(e){return e.mixins.toolbar}}),Object(Ee.jsx)(Fe.a,{}),Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ie.a,{component:He.b,to:"/",children:Object(Ee.jsx)(Te.a,{children:"Dashboard"})}),Object(Ee.jsxs)(Ie.a,{component:He.b,to:"/monsters",children:[Object(Ee.jsx)(Te.a,{children:"Monsters"}),e&&Object(Ee.jsx)(Le.a,{children:Object(Ee.jsx)(S.a,{"aria-label":"add",color:"primary",onClick:function(){t(oe())},children:Object(Ee.jsx)(qe.a,{})})})]}),Object(Ee.jsx)(Ue.a,{in:Boolean(r),unmountOnExit:!0,children:Object(Ee.jsx)(Re.a,{children:a.map((function(e,t){return Object(Ee.jsx)(Ie.a,{sx:{paddingLeft:4},component:He.b,to:"/monsters/".concat(e.id),children:Object(Ee.jsx)(Te.a,{primary:e.name})},t)}))})}),Object(Ee.jsxs)(Ie.a,{component:He.b,to:"/skills",children:[Object(Ee.jsx)(Te.a,{children:"Skills"}),e&&Object(Ee.jsx)(Le.a,{children:Object(Ee.jsx)(S.a,{"aria-label":"add",color:"primary",onClick:function(){t(de())},children:Object(Ee.jsx)(qe.a,{})})})]}),Object(Ee.jsx)(Ue.a,{in:Boolean(i),unmountOnExit:!0,children:Object(Ee.jsx)(Re.a,{children:c.map((function(e,t){return Object(Ee.jsx)(Ie.a,{sx:{paddingLeft:4},component:He.b,to:"/skills/".concat(e.id),children:Object(Ee.jsx)(Te.a,{primary:e.name})},t)}))})}),Object(Ee.jsx)(Ie.a,{component:He.b,to:"/weapons",children:Object(Ee.jsx)(Te.a,{children:"Weapons"})}),Object(Ee.jsx)(Ie.a,{component:He.b,to:"/armour",children:Object(Ee.jsx)(Te.a,{children:"Armour"})}),Object(Ee.jsx)(Ie.a,{component:He.b,to:"/classes",children:Object(Ee.jsx)(Te.a,{children:"Classes"})}),Object(Ee.jsx)(Ie.a,{component:He.b,to:"/settings",children:Object(Ee.jsx)(Te.a,{children:"Settings"})})]})]});return Object(Ee.jsxs)(Be.a,{sx:{width:{sm:F},flexShrink:{sm:0}},"aria-label":"monsters list",children:[Object(Ee.jsx)(Ne.a,{sx:{display:{sm:"none",xs:"block"}},variant:"temporary",open:n,onClose:function(){t(ge())},PaperProps:{sx:{width:F}},ModalProps:{keepMounted:!0},children:s}),Object(Ee.jsx)(Ne.a,{sx:{display:{xs:"none",sm:"block"}},variant:"permanent",PaperProps:{sx:{width:F}},open:!0,children:s})]})},Ve=n(246),Je=n(249),Ke=n(97),Ze=Object($.b)("monsters/fetchMonsters",function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_e=Object($.b)("monsters/fetchMonsterImagePath",function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We.child(t.id).child(t.portrait).getDownloadURL();case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Qe=Object($.b)("monsters/saveMonster",function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=Pe.push(),!t.image){e.next=5;break}return e.next=5,We.child(n.key).child(t.image.name).put(t.image);case 5:return e.next=7,n.set(t.monster);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),Xe=Object($.b)("monsters/updateMonster",function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.image||!t.oldImage){e.next=4;break}return e.next=4,We.child(t.id).child(t.oldImage).delete();case 4:if(!t.image){e.next=7;break}return e.next=7,We.child(t.id).child(t.image.name).put(t.image);case 7:return e.next=9,Pe.child(t.id).update(t.monster);case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()),Ye=Object($.b)("monsters/deleteMonster",function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.portrait){e.next=4;break}return e.next=4,We.child(t.id).child(t.portrait).delete();case 4:return e.next=6,Pe.child(t.id).remove();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),$e=function(e){return e.monsters},et=Object(Ke.a)($e,(function(e){var t=e.monsters;return function(e){return t.find((function(t){return t.id===e}))}})),tt=Object(Ke.a)($e,(function(e){var t=e.monsterImagePaths;return function(e){var n;return null===(n=t.find((function(t){return t.id===e})))||void 0===n?void 0:n.imagePath}})),nt=Object($.c)({name:"monsters",initialState:{monsters:[],monsterImagePaths:[],status:"idle"},reducers:{},extraReducers:function(e){e.addCase(Ze.pending,(function(e){e.status="loading"})),e.addCase(Ze.fulfilled,(function(e,t){e.status="succeeded",e.monsters=t.payload})),e.addCase(Ze.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),e.addCase(_e.pending,(function(e){e.status="loading"})),e.addCase(_e.fulfilled,(function(e,t){var n={id:t.meta.arg.id,imagePath:t.payload};e.status="succeeded",e.monsterImagePaths=e.monsterImagePaths.filter((function(e){return e.id!==n.id})).concat(n)})),e.addCase(_e.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),e.addCase(Qe.pending,(function(e){e.status="loading"})),e.addCase(Qe.fulfilled,(function(e){e.status="succeeded"})),e.addCase(Qe.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),e.addCase(Ye.pending,(function(e){e.status="loading"})),e.addCase(Ye.fulfilled,(function(e){e.status="succeeded"})),e.addCase(Ye.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),e.addCase(Xe.pending,(function(e){e.status="loading"})),e.addCase(Xe.fulfilled,(function(e){e.status="succeeded"})),e.addCase(Xe.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}).reducer,at=function(e){var t=e.effects,n=e.target,r=t.map((function(e){return e.type}));if(n===c.Enemy){if(r.includes(a.WeaponDamage))return d.WeaponAttack;if(r.includes(a.Damage))return d.Attack;if(r.includes(a.Status)||r.includes(a.Auxiliary))return d.Debuff}if(n===c.Self){if(r.includes(a.Heal))return d.Heal;if(r.includes(a.Status)||r.includes(a.Auxiliary))return d.Buff}return d.Other},ct=function(e,t,n){var a="type"===n?at(e):e[n],c="type"===n?at(t):t[n];return c<a?-1:c>a?1:0},rt=function(e,t){return"desc"===e?function(e,n){return ct(e,n,t)}:function(e,n){return-ct(e,n,t)}},it=function(e){return function(t){var n=t.name.toLowerCase().includes(e.name.toLowerCase()),a="all"===e.class||t.class===e.class,c="all"===e.type||at(t)===e.type,r=e.price>=t.price,i=e.level>=t.level;return n&&a&&c&&r&&i}},st=function(e,t,n){var a=n in e.stats?e.stats[n]:e[n],c=n in t.stats?t.stats[n]:t[n];return c<a?-1:c>a?1:0},ot=function(e,t){return"desc"===e?function(e,n){return st(e,n,t)}:function(e,n){return-st(e,n,t)}},lt=function(e){return function(t){var n=t.name.toLowerCase().includes(e.name.toLowerCase()),a=e.challenge>=t.challenge;return n&&a}},dt=function(e){return L.map((function(t){return{key:t,name:H[t],value:e[t]}}))},jt=function(e){return U.map((function(t){return{key:t,name:G[t],value:e[t]}}))},ut=function(e){return q.map((function(t){return{key:t,name:G[t],value:e[t]}}))},bt=function(e){return z.map((function(t){return{key:t,name:G[t],value:e[t]}}))},mt=n(263),xt=n(264),ht=n(265),Ot=n(266),ft=n(267),pt=n(268),gt=function(e){var t=e.title,n=e.stats;return Object(Ee.jsx)(mt.a,{component:Ve.a,children:Object(Ee.jsxs)(xt.a,{"aria-label":"stats table",children:[Object(Ee.jsx)(ht.a,{children:Object(Ee.jsx)(Ot.a,{children:Object(Ee.jsx)(ft.a,{sx:{backgroundColor:"common.black",color:"common.white"},colSpan:2,children:t})})}),Object(Ee.jsx)(pt.a,{children:n.map((function(e){return Object(Ee.jsxs)(Ot.a,{children:[Object(Ee.jsx)(ft.a,{component:"th",scope:"row",children:e.name}),Object(Ee.jsxs)(ft.a,{align:"right",children:[e.value,"%"]})]},e.name)}))})]})})},vt=n(235),yt=n(236),kt=n(269),Ct=n(233),wt=n(270),St=n(271),Mt=n(272),Wt=function(e){var t=e.open,n=e.title,a=e.content,c=e.handleClose,r=e.handleConfirm,i=e.disabled;return Object(Ee.jsxs)(kt.a,{open:t,onClose:c,"aria-labelledby":"form-dialog-title",children:[Object(Ee.jsx)(Ct.a,{id:"form-dialog-title",children:n}),Object(Ee.jsx)(wt.a,{children:Object(Ee.jsx)(St.a,{children:a})}),Object(Ee.jsxs)(Mt.a,{children:[Object(Ee.jsx)(W.a,{onClick:c,color:"primary",children:"Cancel"}),Object(Ee.jsx)(W.a,{onClick:r,color:"primary",disabled:i,children:"Confirm"})]})]})},Pt=n(7),At=n(13),Et=n(52),Dt=n(275),Bt=n(241),Ft=function(e){var t=e.title,n=e.stats,a=e.min,c=e.max,r=e.handleChange;return Object(Ee.jsxs)(Be.a,{my:3,children:[Object(Ee.jsx)(St.a,{variant:"subtitle1",component:"h5",gutterBottom:!0,children:t}),Object(Ee.jsx)(Je.a,{container:!0,spacing:2,children:n.map((function(e){return Object(Ee.jsx)(Je.a,{item:!0,xs:6,md:4,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:e.key,label:e.name,type:"number",value:e.value,onChange:r,required:!0,inputProps:{min:a,max:c}},e.key)},e.key)}))})]})},Rt=n(252),It=n(242),Tt=n(234),Lt=Object($.b)("skills/fetchSkills",function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ut=Object($.b)("skills/fetchSkillImagePath",function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We.child(t.id).child(t.icon).getDownloadURL();case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),Nt=Object($.b)("skills/saveSkill",function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=Ae.push(),!t.image){e.next=5;break}return e.next=5,We.child(n.key).child(t.image.name).put(t.image);case 5:return e.next=7,n.set(t.skill);case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),qt=Object($.b)("skills/updateSkill",function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.image||!t.oldImage){e.next=4;break}return e.next=4,We.child(t.id).child(t.oldImage).delete();case 4:if(!t.image){e.next=7;break}return e.next=7,We.child(t.id).child(t.image.name).put(t.image);case 7:return e.next=9,Ae.child(t.id).update(t.skill);case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()),zt=Object($.b)("skills/deleteSkill",function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.icon){e.next=4;break}return e.next=4,We.child(t.id).child(t.icon).delete();case 4:return e.next=6,Ae.child(t.id).remove();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),Ht=function(e){return e.skills},Gt=Object(Ke.a)(Ht,(function(e){var t=e.skills;return function(e){return t.find((function(t){return t.id===e}))}})),Vt=Object(Ke.a)(Ht,(function(e){var t=e.skillImagePaths;return function(e){var n;return null===(n=t.find((function(t){return t.id===e})))||void 0===n?void 0:n.imagePath}})),Jt=Object($.c)({name:"skills",initialState:{skills:[],skillImagePaths:[],status:"idle"},reducers:{},extraReducers:function(e){e.addCase(Lt.pending,(function(e){e.status="loading"})),e.addCase(Lt.fulfilled,(function(e,t){e.status="succeeded",e.skills=t.payload})),e.addCase(Lt.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),e.addCase(Ut.pending,(function(e){e.status="loading"})),e.addCase(Ut.fulfilled,(function(e,t){var n={id:t.meta.arg.id,imagePath:t.payload};e.status="succeeded",e.skillImagePaths=e.skillImagePaths.filter((function(e){return e.id!==n.id})).concat(n)})),e.addCase(Ut.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),e.addCase(Nt.pending,(function(e){e.status="loading"})),e.addCase(Nt.fulfilled,(function(e){e.status="succeeded"})),e.addCase(Nt.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),e.addCase(zt.pending,(function(e){e.status="loading"})),e.addCase(zt.fulfilled,(function(e){e.status="succeeded"})),e.addCase(zt.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),e.addCase(qt.pending,(function(e){e.status="loading"})),e.addCase(qt.fulfilled,(function(e){e.status="succeeded"})),e.addCase(qt.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}).reducer,Kt=n(105),Zt=n.n(Kt),_t=n(72),Qt=n.n(_t),Xt=n(106),Yt=n.n(Xt),$t=function(e){var t=e.skill,n=e.onDeleteSkill,a=E();return Object(Ee.jsxs)(Be.a,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[Object(Ee.jsx)(S.a,{"aria-label":"view",color:"primary",component:He.b,to:"/skills/".concat(t.id),children:Object(Ee.jsx)(Zt.a,{})}),Object(Ee.jsx)(S.a,{"aria-label":"update",color:"secondary",onClick:function(){a(de(t))},children:Object(Ee.jsx)(Yt.a,{})}),Object(Ee.jsx)(S.a,{"aria-label":"delete",color:"warning",onClick:function(){n()},children:Object(Ee.jsx)(Qt.a,{})})]})},en=n(139),tn=n.n(en),nn=n(138),an=n.n(nn),cn=Object(O.createContext)(null),rn=function(e){var t=e.skill,n=function(){var e=Object(O.useContext)(cn);if(!e)throw new Error("No AddSkillsContext.Provider found when calling useAddSkillsContext.");return e}(),a=n.state,c=n.dispatch;return Object(Ee.jsx)(Be.a,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:a.includes(t.id)?Object(Ee.jsx)(S.a,{"aria-label":"remove",color:"warning",onClick:function(){c({type:"REMOVE",payload:t.id})},children:Object(Ee.jsx)(an.a,{})}):Object(Ee.jsx)(S.a,{"aria-label":"add",color:"primary",onClick:function(){c({type:"ADD",payload:t.id})},children:Object(Ee.jsx)(tn.a,{})})})},sn=function(e){var t=e.skill,n=e.type,a=E(),c=Object(O.useContext)(ye),r=Object(O.useState)(!1),i=Object(At.a)(r,2),s=i[0],o=i[1],l=D((function(e){return"loading"===e.skills.status})),d=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a(zt(t)).unwrap();case 3:o(!1),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(Ee.jsxs)(O.Fragment,{children:[Object(Ee.jsxs)(Ot.a,{hover:!0,tabIndex:-1,children:[Object(Ee.jsx)(ft.a,{component:"th",id:"skill-table-".concat(t.name),scope:"row",children:t.name}),Object(Ee.jsx)(ft.a,{children:Q[t.class]}),Object(Ee.jsx)(ft.a,{children:Y[at(t)]}),Object(Ee.jsx)(ft.a,{align:"right",children:t.maxUses}),Object(Ee.jsx)(ft.a,{align:"right",children:t.price}),Object(Ee.jsx)(ft.a,{align:"right",children:t.level}),c&&Object(Ee.jsx)(ft.a,{children:"addSkills"===n?Object(Ee.jsx)(rn,{skill:t}):Object(Ee.jsx)($t,{skill:t,onDeleteSkill:function(){o(!0)}})})]}),Object(Ee.jsx)(Wt,{open:s,title:"Are you sure?",content:"This action will permanently delete ".concat(t.name," from the database."),handleClose:function(){o(!1)},handleConfirm:d,disabled:l})]})},on=n(276),ln=n(251),dn=n(243),jn=n(107),un=n.n(jn),bn=function(e){var t=e.filters,n=e.onChangeFilters,a=e.onChangeSlider;return Object(Ee.jsx)(Be.a,{sx:{p:2},children:Object(Ee.jsxs)(Je.a,{container:!0,spacing:2,alignItems:"center",children:[Object(Ee.jsx)(Je.a,{item:!0,xs:12,md:2,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,size:"small",label:"Search",type:"search",name:"name",value:t.name,onChange:n,InputProps:{endAdornment:Object(Ee.jsx)(on.a,{position:"end",children:Object(Ee.jsx)(un.a,{})})}})}),Object(Ee.jsx)(Je.a,{item:!0,xs:6,md:2,children:Object(Ee.jsxs)(Bt.a,{fullWidth:!0,size:"small",select:!0,label:"Class",name:"class",value:t.class,onChange:n,children:[Object(Ee.jsx)(ln.a,{value:"all",children:"All"}),_.map((function(e){return Object(Ee.jsx)(ln.a,{value:e,children:Q[e]},e)}))]})}),Object(Ee.jsx)(Je.a,{item:!0,xs:6,md:2,children:Object(Ee.jsxs)(Bt.a,{fullWidth:!0,size:"small",select:!0,label:"Type",name:"type",value:t.type,onChange:n,children:[Object(Ee.jsx)(ln.a,{value:"all",children:"All"}),X.map((function(e){return Object(Ee.jsx)(ln.a,{value:e,children:Y[e]},e)}))]})}),Object(Ee.jsxs)(Je.a,{item:!0,xs:6,md:3,children:[Object(Ee.jsx)(M.a,{variant:"body2",children:"Price"}),Object(Ee.jsx)(dn.a,{size:"small",name:"price",value:t.price,onChange:a,valueLabelDisplay:"auto",step:100,min:100,max:R})]}),Object(Ee.jsxs)(Je.a,{item:!0,xs:6,md:3,children:[Object(Ee.jsx)(M.a,{variant:"body2",children:"Level"}),Object(Ee.jsx)(dn.a,{size:"small",name:"level",value:t.level,onChange:a,valueLabelDisplay:"auto",step:1,min:0,max:9})]})]})})},mn=[{id:"name",label:"Name"},{id:"class",label:"Class"},{id:"type",label:"Type"},{id:"maxUses",align:"right",label:"Max Uses"},{id:"price",align:"right",label:"Value"},{id:"level",align:"right",label:"Level"}],xn=function(e){var t=e.order,n=e.orderBy,a=e.onRequestSort,c=Object(O.useContext)(ye);return Object(Ee.jsx)(ht.a,{children:Object(Ee.jsxs)(Ot.a,{children:[mn.map((function(e){return Object(Ee.jsx)(ft.a,{align:e.align,sortDirection:n===e.id&&t,children:Object(Ee.jsxs)(Rt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),children:[e.label,n===e.id?Object(Ee.jsx)(Be.a,{component:"span",sx:Tt.a,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var c})),c&&Object(Ee.jsx)(ft.a,{align:"right",children:"Actions"})]})})},hn={name:"",class:"all",type:"all",price:1e4,level:9},On=function(e){var t=e.type,n=void 0===t?"default":t,a=D((function(e){return e.skills.skills})),c=Object(O.useState)("asc"),r=Object(At.a)(c,2),i=r[0],s=r[1],o=Object(O.useState)("name"),l=Object(At.a)(o,2),d=l[0],j=l[1],u=Object(O.useState)(0),b=Object(At.a)(u,2),m=b[0],x=b[1],h=Object(O.useState)(25),f=Object(At.a)(h,2),p=f[0],g=f[1],v=Object(O.useState)(hn),y=Object(At.a)(v,2),k=y[0],C=y[1],w=m>0?Math.max(0,(1+m)*p-a.length):0;return Object(Ee.jsx)(O.Fragment,{children:Object(Ee.jsx)(Be.a,{sx:{width:"100%"},children:Object(Ee.jsxs)(Ve.a,{sx:{width:"100%",mb:2},children:[Object(Ee.jsx)(bn,{filters:k,onChangeFilters:function(e){var t=e.target,n=t.name,a=t.value;C(Object(Pt.a)(Object(Pt.a)({},k),{},Object(B.a)({},n,a)))},onChangeSlider:function(e,t){var n=e.target.name;C(Object(Pt.a)(Object(Pt.a)({},k),{},Object(B.a)({},n,t)))}}),Object(Ee.jsx)(mt.a,{children:Object(Ee.jsxs)(xt.a,{sx:{minWidth:750},"aria-labelledby":"tableTitle",children:[Object(Ee.jsx)(xn,{order:i,orderBy:d,onRequestSort:function(e,t){s(d===t&&"asc"===i?"desc":"asc"),j(t)}}),Object(Ee.jsxs)(pt.a,{children:[a.slice().filter(it(k)).sort(rt(i,d)).slice(m*p,m*p+p).map((function(e){return Object(Ee.jsx)(sn,{skill:e,type:n},e.id)})),w>0&&Object(Ee.jsx)(Ot.a,{style:{height:53*w},children:Object(Ee.jsx)(ft.a,{colSpan:6})})]})]})}),Object(Ee.jsx)(It.a,{rowsPerPageOptions:[5,10,25],component:"div",count:a.length,rowsPerPage:p,page:m,onPageChange:function(e,t){x(t)},onRowsPerPageChange:function(e){g(parseInt(e.target.value,10)),x(0)}})]})})})},fn=function(e,t){switch(t.type){case"ADD":return e.concat(t.payload);case"REMOVE":return e.filter((function(e){return e!==t.payload}));case"RESET":return t.payload;default:throw Error("Unknown action")}},pn=function(e){var t=e.skills,n=e.onSetSkills,a=E(),c=D((function(e){return e.modals.addSkillsModalOpen})),r=Object(O.useReducer)(fn,t),i=Object(At.a)(r,2),s=i[0],o=i[1],l={state:s,dispatch:o};Object(O.useEffect)((function(){c&&o({type:"RESET",payload:t})}),[c,t]);var d=function(){a(xe())};return Object(Ee.jsxs)(kt.a,{open:c,onClose:d,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"lg",children:[Object(Ee.jsx)(Ct.a,{id:"form-dialog-title",children:"Add Skills"}),Object(Ee.jsx)(wt.a,{children:Object(Ee.jsx)(cn.Provider,{value:l,children:Object(Ee.jsx)(On,{type:"addSkills"})})}),Object(Ee.jsxs)(Mt.a,{children:[Object(Ee.jsx)(W.a,{onClick:d,color:"primary",children:"Cancel"}),Object(Ee.jsx)(W.a,{onClick:function(){n(s),a(xe())},color:"primary",children:"Confirm"})]})]})},gn=n(5),vn=n(277),yn=n(278),kn=n(279),Cn=n(73),wn=n.n(Cn),Sn=["expand"],Mn=Object(gn.a)((function(e){e.expand;var t=Object(Et.a)(e,Sn);return Object(Ee.jsx)(S.a,Object(Pt.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}})),Wn=function(e){var t=e.id,n=e.onRemoveSkill,a=Object(A.c)(Gt)(t),c=Object(O.useState)(!1),r=Object(At.a)(c,2),i=r[0],s=r[1];return a?Object(Ee.jsxs)(vn.a,{variant:"outlined",children:[Object(Ee.jsxs)(yn.a,{children:[Object(Ee.jsx)(M.a,{sx:{fontSize:14},color:"textSecondary",children:Y[at(a)]}),Object(Ee.jsx)(M.a,{variant:"h5",children:a.name})]}),Object(Ee.jsxs)(kn.a,{disableSpacing:!0,children:[Object(Ee.jsx)(S.a,{"aria-label":"remove skill",color:"warning",onClick:function(){n(t)},children:Object(Ee.jsx)(Qt.a,{fontSize:"small"})}),Object(Ee.jsx)(Mn,{expand:i,onClick:function(){s(!i)},"aria-expanded":i,"aria-label":"show more",children:Object(Ee.jsx)(wn.a,{fontSize:"small"})})]}),Object(Ee.jsx)(Ue.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(Ee.jsx)(yn.a,{children:Object(Ee.jsx)(M.a,{children:a.description})})})]}):null},Pn=["id"],An={challenge:1,resistances:(Ce={},Object(B.a)(Ce,l.Slashing,0),Object(B.a)(Ce,l.Crushing,0),Object(B.a)(Ce,l.Piercing,0),Object(B.a)(Ce,l.Fire,0),Object(B.a)(Ce,l.Cold,0),Object(B.a)(Ce,l.Lighting,0),Object(B.a)(Ce,l.Radiant,0),Object(B.a)(Ce,l.Necrotic,0),Object(B.a)(Ce,l.Poison,0),Object(B.a)(Ce,l.Acid,0),Ce),description:"",name:"",portrait:"",skills:[],stats:{strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10}},En={monster:An,image:null},Dn=function(){var e=E(),t=D((function(e){return e.modals.monsterModal.open})),n=D((function(e){return e.modals.monsterModal.monster})),a=D((function(e){return"loading"===e.monsters.status})),c=Object(O.useState)(En),r=Object(At.a)(c,2),i=r[0],s=r[1],o=Object(O.useMemo)((function(){return n&&function(e){return e.id,Object(Et.a)(e,Pn)}(n)}),[n]),l=n?"Update Monster":"Add Monster",d=n?"Updating ".concat(null===n||void 0===n?void 0:n.name):"Add a new monster to the database.",j=i.monster.skills.length>0;Object(O.useEffect)((function(){s({monster:o||An,image:null})}),[o]);var u=function(){e(le())},b=function(e){var t=e.currentTarget,n=t.name,a=t.type,c=t.value,r=t.valueAsNumber,o="number"===a?r:c;s(Object(Pt.a)(Object(Pt.a)({},i),{},{monster:Object(Pt.a)(Object(Pt.a)({},i.monster),{},Object(B.a)({},n,o))}))},m=function(){var t=Object(k.a)(y.a.mark((function t(a){var c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a.preventDefault(),j){t.next=5;break}return e(ie({message:"Please add at least 1 skill."})),t.abrupt("return");case 5:if(!n){t.next=11;break}return c=Object(Pt.a)(Object(Pt.a)({},i),{},{id:n.id,oldImage:n.portrait}),t.next=9,e(Xe(c)).unwrap();case 9:t.next=13;break;case 11:return t.next=13,e(Qe(i)).unwrap();case 13:e(le()),s(En),t.next=19;break;case 17:t.prev=17,t.t0=t.catch(0);case 19:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}(),x=function(e){s(Object(Pt.a)(Object(Pt.a)({},i),{},{monster:Object(Pt.a)(Object(Pt.a)({},i.monster),{},{skills:i.monster.skills.filter((function(t){return t!==e}))})}))};return Object(Ee.jsxs)(O.Fragment,{children:[Object(Ee.jsxs)(kt.a,{open:t,onClose:u,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"form-dialog-title",children:[Object(Ee.jsx)(Ct.a,{id:"form-dialog-title",children:l}),Object(Ee.jsxs)("form",{onSubmit:m,children:[Object(Ee.jsxs)(wt.a,{children:[Object(Ee.jsx)(St.a,{children:d}),Object(Ee.jsx)(Be.a,{my:3,children:Object(Ee.jsxs)(Dt.a,{children:[Object(Ee.jsx)("input",{accept:"image/*",style:{display:"none"},id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){var t,n=(null===(t=e.currentTarget.files)||void 0===t?void 0:t.item(0))||null,a=(null===n||void 0===n?void 0:n.name)||"";s(Object(Pt.a)(Object(Pt.a)({},i),{},{image:n,monster:Object(Pt.a)(Object(Pt.a)({},i.monster),{},{portrait:a})}))}}),Object(Ee.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(Ee.jsx)(W.a,{variant:"contained",component:"span",children:"Upload Image"}),i.image&&Object(Ee.jsx)(M.a,{sx:{marginLeft:2,display:"inline"},children:i.image.name})]})]})}),Object(Ee.jsx)(Be.a,{my:3,children:Object(Ee.jsx)(Bt.a,{autoFocus:!0,name:"name",label:"Name",value:i.monster.name,onChange:b,fullWidth:!0,required:!0,inputProps:{minLength:3,maxLength:25}})}),Object(Ee.jsx)(Be.a,{my:3,children:Object(Ee.jsx)(Bt.a,{autoFocus:!0,name:"description",label:"Description",value:i.monster.description,onChange:b,fullWidth:!0,multiline:!0,minRows:4,inputProps:{maxLength:200}})}),Object(Ee.jsx)(Ft,{title:"Stats (1-30)",stats:dt(i.monster.stats),min:1,max:30,handleChange:function(e){var t=e.currentTarget,n=t.name,a=t.valueAsNumber;s(Object(Pt.a)(Object(Pt.a)({},i),{},{monster:Object(Pt.a)(Object(Pt.a)({},i.monster),{},{stats:Object(Pt.a)(Object(Pt.a)({},i.monster.stats),{},Object(B.a)({},n,a))})}))}}),Object(Ee.jsx)(Ft,{title:"Resistances (%)",stats:jt(i.monster.resistances),min:-1e3,max:100,handleChange:function(e){var t=e.currentTarget,n=t.name,a=t.valueAsNumber;s(Object(Pt.a)(Object(Pt.a)({},i),{},{monster:Object(Pt.a)(Object(Pt.a)({},i.monster),{},{resistances:Object(Pt.a)(Object(Pt.a)({},i.monster.resistances),{},Object(B.a)({},n,a))})}))}}),Object(Ee.jsxs)(Be.a,{my:3,children:[Object(Ee.jsx)(St.a,{variant:"subtitle1",component:"h5",gutterBottom:!0,children:"Difficulty Rating (1-30)"}),Object(Ee.jsx)(Je.a,{container:!0,spacing:2,children:Object(Ee.jsx)(Je.a,{item:!0,xs:6,md:4,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"challenge",label:"Rating",type:"number",value:i.monster.challenge,onChange:b,required:!0,inputProps:{min:0,max:30}})})})]}),Object(Ee.jsxs)(Be.a,{my:3,children:[Object(Ee.jsx)(St.a,{variant:"subtitle1",component:"h5",gutterBottom:!0,children:"Skills"}),Object(Ee.jsx)(Je.a,{container:!0,spacing:1,children:j?i.monster.skills.map((function(e){return Object(Ee.jsx)(Je.a,{item:!0,xs:12,md:6,children:Object(Ee.jsx)(Wn,{id:e,onRemoveSkill:x})},e)})):Object(Ee.jsx)(Je.a,{item:!0,xs:12,children:Object(Ee.jsx)(M.a,{children:"Please add some skills!"})})})]})]}),Object(Ee.jsxs)(Mt.a,{children:[Object(Ee.jsx)(W.a,{variant:"contained",onClick:function(){e(me())},color:"secondary",children:"Add Skills"}),Object(Ee.jsx)(W.a,{onClick:u,color:"primary",children:"Cancel"}),Object(Ee.jsx)(W.a,{type:"submit",color:"primary",disabled:a,children:"Save"})]})]})]}),Object(Ee.jsx)(pn,{skills:i.monster.skills,onSetSkills:function(e){s(Object(Pt.a)(Object(Pt.a)({},i),{},{monster:Object(Pt.a)(Object(Pt.a)({},i.monster),{},{skills:e})}))}})]})},Bn=function(){var e=E(),t=D((function(e){return e.modals.loginModalOpen})),n=Object(O.useState)(!1),a=Object(At.a)(n,2),c=a[0],r=a[1],i=Object(O.useRef)(null),s=Object(O.useRef)(null),o=function(){e(ae())},l=function(){var t=Object(k.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),t.next=4,Me.signInWithEmailAndPassword(i.current.value,s.current.value);case 4:r(!1),e(ae()),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),r(!1),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(Ee.jsxs)(kt.a,{open:t,onClose:o,"aria-labelledby":"form-dialog-title",children:[Object(Ee.jsx)(Ct.a,{id:"form-dialog-title",children:"Login"}),Object(Ee.jsxs)(wt.a,{children:[Object(Ee.jsx)(St.a,{children:"Please enter your email and password to login."}),Object(Ee.jsx)(Bt.a,{inputRef:i,autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0}),Object(Ee.jsx)(Bt.a,{inputRef:s,margin:"dense",id:"standard-basic",label:"Password",type:"password",fullWidth:!0,required:!0})]}),Object(Ee.jsxs)(Mt.a,{children:[Object(Ee.jsx)(W.a,{onClick:o,color:"primary",children:"Cancel"}),Object(Ee.jsx)(W.a,{onClick:l,color:"primary",disabled:c,children:"Login"})]})]})},Fn=n(22),Rn=Object(O.createContext)(null),In=function(){var e=Object(O.useContext)(Rn);if(!e)throw new Error("No EffectContext.Provider found when calling useEffectContext.");return e},Tn=function(){var e=In(),t=e.state.damageEffectForm,n=e.dispatch,a=function(e){var a=e.target,c=a.name,r=a.type,i=a.value,s=a.valueAsNumber,o="number"===r?s:i;n({type:"UPDATE",payload:Object(Pt.a)(Object(Pt.a)({},t),{},Object(B.a)({},c,o))})};return Object(Ee.jsxs)(O.Fragment,{children:[Object(Ee.jsxs)(Be.a,{my:3,children:[Object(Ee.jsx)(St.a,{variant:"subtitle1",component:"h5",gutterBottom:!0,children:"Effect Properties"}),Object(Ee.jsxs)(Je.a,{container:!0,spacing:2,children:[Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,select:!0,margin:"dense",label:"Modifier",name:"modifier",value:t.modifier,onChange:a,children:L.map((function(e){return Object(Ee.jsx)(ln.a,{value:e,children:H[e]},e)}))})}),Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,select:!0,margin:"dense",label:"Damage Type",name:"damageType",value:t.damageType,onChange:a,children:U.map((function(e){return Object(Ee.jsx)(ln.a,{value:e,children:G[e]},e)}))})})]})]}),Object(Ee.jsx)(Be.a,{my:3,children:Object(Ee.jsxs)(Je.a,{container:!0,spacing:2,children:[Object(Ee.jsx)(Je.a,{item:!0,xs:6,md:4,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"min",label:"Minimum Roll (1-".concat(I,")"),type:"number",value:t.min,onChange:a,required:!0,inputProps:{min:1,max:I}})}),Object(Ee.jsx)(Je.a,{item:!0,xs:6,md:4,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"max",label:"Maximum Roll (1-".concat(I,")"),type:"number",value:t.max,onChange:a,required:!0,inputProps:{min:1,max:I}})}),Object(Ee.jsx)(Je.a,{item:!0,xs:6,md:4,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"multiplier",label:"Multiplier (0-".concat(T,")"),type:"number",value:t.multiplier,onChange:a,required:!0,inputProps:{min:0,max:T,step:".01"}})})]})})]})},Ln={weaponDamageEffectForm:{type:a.WeaponDamage,multiplier:1},damageEffectForm:{type:a.Damage,damageType:l.Slashing,modifier:o.Strength,multiplier:1,min:1,max:6},healEffectForm:{type:a.Heal,modifier:o.Wisdom,multiplier:1,min:1,max:6},statusEffectForm:{type:a.Status,modifiers:{stats:{},resistances:{}},accuracy:100,duration:5},auxiliaryEffectForm:{type:a.Auxiliary,effect:r.Stun,accuracy:50,duration:3}},Un=function(e,t){if("UPDATE"===t.type){var n=t.payload;switch(n.type){case a.WeaponDamage:return Object(Pt.a)(Object(Pt.a)({},e),{},{weaponDamageEffectForm:n});case a.Damage:return Object(Pt.a)(Object(Pt.a)({},e),{},{damageEffectForm:n});case a.Heal:return Object(Pt.a)(Object(Pt.a)({},e),{},{healEffectForm:n});case a.Status:return Object(Pt.a)(Object(Pt.a)({},e),{},{statusEffectForm:n});case a.Auxiliary:return Object(Pt.a)(Object(Pt.a)({},e),{},{auxiliaryEffectForm:n})}}if("RESET"===t.type)return Ln;throw Error("Unknown action")},Nn=function(){var e=In(),t=e.state.healEffectForm,n=e.dispatch,a=function(e){var a=e.target,c=a.name,r=a.type,i=a.value,s=a.valueAsNumber,o="number"===r?s:i;n({type:"UPDATE",payload:Object(Pt.a)(Object(Pt.a)({},t),{},Object(B.a)({},c,o))})};return Object(Ee.jsxs)(O.Fragment,{children:[Object(Ee.jsxs)(Be.a,{my:3,children:[Object(Ee.jsx)(St.a,{variant:"subtitle1",component:"h5",gutterBottom:!0,children:"Effect Properties"}),Object(Ee.jsx)(Je.a,{container:!0,spacing:2,children:Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,select:!0,margin:"dense",label:"Modifier",name:"modifier",value:t.modifier,onChange:a,disabled:!0,children:L.map((function(e){return Object(Ee.jsx)(ln.a,{value:e,children:H[e]},e)}))})})})]}),Object(Ee.jsx)(Be.a,{my:3,children:Object(Ee.jsxs)(Je.a,{container:!0,spacing:2,children:[Object(Ee.jsx)(Je.a,{item:!0,xs:6,md:4,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"min",label:"Minimum Roll (1-".concat(I,")"),type:"number",value:t.min,onChange:a,required:!0,inputProps:{min:1,max:I}})}),Object(Ee.jsx)(Je.a,{item:!0,xs:6,md:4,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"max",label:"Maximum Roll (1-".concat(I,")"),type:"number",value:t.max,onChange:a,required:!0,inputProps:{min:1,max:I}})}),Object(Ee.jsx)(Je.a,{item:!0,xs:6,md:4,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"multiplier",label:"Multiplier (0-".concat(T,")"),type:"number",value:t.multiplier,onChange:a,required:!0,inputProps:{min:0,max:T,step:".01"}})})]})})]})},qn=(we={},Object(B.a)(we,o.Strength,0),Object(B.a)(we,o.Dexterity,0),Object(B.a)(we,o.Constitution,0),Object(B.a)(we,o.Intelligence,0),Object(B.a)(we,o.Wisdom,0),Object(B.a)(we,o.Charisma,0),we),zn=(Se={},Object(B.a)(Se,l.Slashing,0),Object(B.a)(Se,l.Crushing,0),Object(B.a)(Se,l.Piercing,0),Object(B.a)(Se,l.Cold,0),Object(B.a)(Se,l.Fire,0),Object(B.a)(Se,l.Lighting,0),Object(B.a)(Se,l.Radiant,0),Object(B.a)(Se,l.Necrotic,0),Object(B.a)(Se,l.Poison,0),Object(B.a)(Se,l.Acid,0),Se),Hn=function(){var e=In(),t=e.state.statusEffectForm,n=e.dispatch,a=Object(O.useState)(Object(Pt.a)(Object(Pt.a)({},qn),t.modifiers.stats)),c=Object(At.a)(a,2),r=c[0],i=c[1],s=Object(O.useState)(Object(Pt.a)(Object(Pt.a)({},zn),t.modifiers.resistances)),o=Object(At.a)(s,2),l=o[0],d=o[1],j=function(e){var a=e.target,c=a.name,r=a.type,i=a.value,s=a.valueAsNumber,o="number"===r?s:i;n({type:"UPDATE",payload:Object(Pt.a)(Object(Pt.a)({},t),{},Object(B.a)({},c,o))})};return Object(Ee.jsxs)(O.Fragment,{children:[Object(Ee.jsxs)(Be.a,{my:3,children:[Object(Ee.jsx)(Ft,{title:"Stats (-30-30)",stats:dt(r),min:-30,max:30,handleChange:function(e){var a=e.currentTarget,c=a.name,s=a.valueAsNumber;i(Object(Pt.a)(Object(Pt.a)({},r),{},Object(B.a)({},c,s)));var o=Object(Pt.a)(Object(Pt.a)({},t.modifiers.stats),{},Object(B.a)({},c,s));Object.keys(o).forEach((function(e){o[e]||delete o[e]})),n({type:"UPDATE",payload:Object(Pt.a)(Object(Pt.a)({},t),{},{modifiers:Object(Pt.a)(Object(Pt.a)({},t.modifiers),{},{stats:o})})})}}),Object(Ee.jsx)(Ft,{title:"Resistances (%)",stats:jt(l),min:-100,max:100,handleChange:function(e){var a=e.currentTarget,c=a.name,r=a.valueAsNumber;d(Object(Pt.a)(Object(Pt.a)({},l),{},Object(B.a)({},c,r)));var i=Object(Pt.a)(Object(Pt.a)({},t.modifiers.resistances),{},Object(B.a)({},c,r));Object.keys(i).forEach((function(e){i[e]||delete i[e]})),n({type:"UPDATE",payload:Object(Pt.a)(Object(Pt.a)({},t),{},{modifiers:Object(Pt.a)(Object(Pt.a)({},t.modifiers),{},{resistances:i})})})}})]}),Object(Ee.jsx)(Be.a,{my:3,children:Object(Ee.jsxs)(Je.a,{container:!0,spacing:2,children:[Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"accuracy",label:"Accuracy (%)",type:"number",value:t.accuracy,onChange:j,required:!0,inputProps:{min:1,max:100}})}),Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"duration",label:"Duration (1-".concat(20,")"),type:"number",value:t.duration,onChange:j,required:!0,inputProps:{min:1,max:20}})})]})})]})},Gn=function(){var e=In(),t=e.state.auxiliaryEffectForm,n=e.dispatch,a=function(e){var a=e.target,c=a.name,r=a.type,i=a.value,s=a.valueAsNumber,o="number"===r?s:i;n({type:"UPDATE",payload:Object(Pt.a)(Object(Pt.a)({},t),{},Object(B.a)({},c,o))})};return Object(Ee.jsxs)(O.Fragment,{children:[Object(Ee.jsxs)(Be.a,{my:3,children:[Object(Ee.jsx)(St.a,{variant:"subtitle1",component:"h5",gutterBottom:!0,children:"Effect Properties"}),Object(Ee.jsx)(Je.a,{container:!0,spacing:2,children:Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,select:!0,margin:"dense",label:"Type",name:"effect",value:t.effect,onChange:a,children:K.map((function(e){return Object(Ee.jsx)(ln.a,{value:e,children:Z[e]},e)}))})})})]}),Object(Ee.jsx)(Be.a,{my:3,children:Object(Ee.jsxs)(Je.a,{container:!0,spacing:2,children:[Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"accuracy",label:"Accuracy (%)",type:"number",value:t.accuracy,onChange:a,required:!0,inputProps:{min:1,max:100}})}),Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"duration",label:"Duration (1-".concat(20,")"),type:"number",value:t.duration,onChange:a,required:!0,inputProps:{min:1,max:20}})})]})})]})},Vn=function(){var e=In(),t=e.state.weaponDamageEffectForm,n=e.dispatch;return Object(Ee.jsx)(O.Fragment,{children:Object(Ee.jsxs)(Be.a,{my:3,children:[Object(Ee.jsx)(St.a,{variant:"subtitle1",component:"h5",gutterBottom:!0,children:"Effect Properties"}),Object(Ee.jsx)(Je.a,{container:!0,spacing:2,children:Object(Ee.jsx)(Je.a,{item:!0,xs:6,md:4,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"multiplier",label:"Multiplier (0-".concat(T,")"),type:"number",value:t.multiplier,onChange:function(e){var a=e.target,c=a.name,r=a.type,i=a.value,s=a.valueAsNumber,o="number"===r?s:i;n({type:"UPDATE",payload:Object(Pt.a)(Object(Pt.a)({},t),{},Object(B.a)({},c,o))})},required:!0,inputProps:{min:0,max:T,step:".01"}})})})]})})},Jn=function(e){var t,n=e.onAddEffect,c=e.onUpdateEffect,r=E(),i=D((function(e){return e.modals.effectModal.open})),s=D((function(e){return e.modals.effectModal.effect})),o=D((function(e){return e.modals.effectModal.index})),l=Object(O.useState)(a.WeaponDamage),d=Object(At.a)(l,2),j=d[0],u=d[1],b=Object(O.useReducer)(Un,Ln),m=Object(At.a)(b,2),x=m[0],h=m[1],f=s?"Update Effect":"Add Effect",p=s?"Update":"Add",g={state:x,dispatch:h};Object(O.useEffect)((function(){s&&(u(s.type),h({type:"UPDATE",payload:s}))}),[s]),Object(O.useEffect)((function(){i||h({type:"RESET"})}),[i]);var v=function(){r(be())};return Object(Ee.jsxs)(kt.a,{open:i,onClose:v,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"form-dialog-title",children:[Object(Ee.jsx)(Ct.a,{id:"form-dialog-title",children:f}),Object(Ee.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault();var i=(t={},Object(B.a)(t,a.WeaponDamage,x.weaponDamageEffectForm),Object(B.a)(t,a.Damage,x.damageEffectForm),Object(B.a)(t,a.Heal,x.healEffectForm),Object(B.a)(t,a.Status,x.statusEffectForm),Object(B.a)(t,a.Auxiliary,x.auxiliaryEffectForm),t)[j];s&&"number"===typeof o?c(i,o):n(i),r(be())},children:[Object(Ee.jsxs)(wt.a,{children:[Object(Ee.jsxs)(Be.a,{mb:3,children:[Object(Ee.jsx)(St.a,{variant:"subtitle1",component:"h5",gutterBottom:!0,children:"Effect Type"}),Object(Ee.jsx)(Je.a,{container:!0,spacing:2,children:Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,select:!0,margin:"dense",label:"Type",name:"effectType",value:j,onChange:function(e){var t=e.target.value;u(t)},children:V.map((function(e,t){return Object(Ee.jsx)(ln.a,{value:e,children:J[e]},t)}))})})})]}),Object(Ee.jsx)(Rn.Provider,{value:g,children:(t={},Object(B.a)(t,a.WeaponDamage,Object(Ee.jsx)(Vn,{})),Object(B.a)(t,a.Damage,Object(Ee.jsx)(Tn,{})),Object(B.a)(t,a.Heal,Object(Ee.jsx)(Nn,{})),Object(B.a)(t,a.Status,Object(Ee.jsx)(Hn,{})),Object(B.a)(t,a.Auxiliary,Object(Ee.jsx)(Gn,{})),t)[j]})]}),Object(Ee.jsxs)(Mt.a,{children:[Object(Ee.jsx)(W.a,{onClick:v,color:"primary",children:"Cancel"}),Object(Ee.jsx)(W.a,{type:"submit",color:"primary",children:p})]})]})]})},Kn=function(e){var t=e.modifiers,n=e.accuracy,a=e.duration,c=t.stats,r=t.resistances;return Object(Ee.jsxs)(Be.a,{component:"ul",sx:{margin:0},children:[Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Accuracy:"," "]}),n,"%"]}),Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Duration:"," "]}),a," turns"]}),c&&Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsx)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:"Stat Modifiers"}),Object(Ee.jsx)(Be.a,{component:"ul",children:Object.keys(c).map((function(e){return Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:[H[e],":"," "]}),c[e]]},e)}))})]}),r&&Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsx)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:"Resistance Modifiers"}),Object(Ee.jsx)(Be.a,{component:"ul",children:Object.keys(r).map((function(e){return Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:[G[e],":"," "]}),r[e],"%"]},e)}))})]})]})},Zn=function(e){var t=e.damageType,n=e.modifier,a=e.multiplier,c=e.min,r=e.max;return Object(Ee.jsxs)(Be.a,{component:"ul",sx:{margin:0},children:[Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Damage Type:"," "]}),G[t]]}),Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Modifier:"," "]}),H[n]]}),Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Multiplier:"," "]}),"x",a]}),Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Damage:"," "]}),c,"-",r]})]})},_n=function(e){var t=e.modifier,n=e.multiplier,a=e.min,c=e.max;return Object(Ee.jsxs)(Be.a,{component:"ul",sx:{margin:0},children:[Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Modifier:"," "]}),H[t]]}),Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Multiplier:"," "]}),"x",n]}),Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Health:"," "]}),a,"-",c]})]})},Qn=function(e){var t=e.effect,n=e.accuracy,a=e.duration;return Object(Ee.jsxs)(Be.a,{component:"ul",sx:{margin:0},children:[Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Accuracy:"," "]}),n,"%"]}),Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Duration:"," "]}),a," turns"]}),Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Effect:"," "]}),Z[t]]})]})},Xn=function(e){var t=e.multiplier;return Object(Ee.jsx)(Be.a,{component:"ul",sx:{margin:0},children:Object(Ee.jsxs)(M.a,{component:"li",variant:"body2",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Multiplier:"," "]}),"x",t]})})},Yn=function(e){var t=e.effect,n=e.index,c=e.onRemove,r=E();return Object(Ee.jsxs)(vn.a,{variant:"outlined",children:[Object(Ee.jsxs)(yn.a,{children:[Object(Ee.jsx)(M.a,{sx:{fontSize:14},color:"textSecondary",gutterBottom:!0,children:J[t.type]}),function(){switch(t.type){case a.WeaponDamage:return Object(Ee.jsx)(Xn,Object(Pt.a)({},t));case a.Damage:return Object(Ee.jsx)(Zn,Object(Pt.a)({},t));case a.Heal:return Object(Ee.jsx)(_n,Object(Pt.a)({},t));case a.Status:return Object(Ee.jsx)(Kn,Object(Pt.a)({},t));case a.Auxiliary:return Object(Ee.jsx)(Qn,Object(Pt.a)({},t));default:return null}}()]}),Object(Ee.jsxs)(kn.a,{children:[Object(Ee.jsx)(S.a,{"aria-label":"Edit effect",color:"secondary",onClick:function(){r(ue({effect:t,index:n}))},children:Object(Ee.jsx)(vt.a,{fontSize:"small"})}),Object(Ee.jsx)(S.a,{"aria-label":"Delete effect",color:"warning",onClick:function(){c(t,n)},children:Object(Ee.jsx)(yt.a,{fontSize:"small"})})]})]})},$n=["id"],ea={name:"",description:"",icon:"",class:s.Common,effects:[],price:0,maxUses:0,level:0,target:c.Enemy},ta={skill:ea,image:null},na=function(){var e=E(),t=D((function(e){return e.modals.skillModal.open})),n=D((function(e){return e.modals.skillModal.skill})),a=D((function(e){return"loading"===e.skills.status})),c=Object(O.useState)(ta),r=Object(At.a)(c,2),i=r[0],s=r[1],o=Object(O.useMemo)((function(){return n&&function(e){return e.id,Object(Et.a)(e,$n)}(n)}),[n]),l=n?"Update Skill":"Add Skill",d=n?"Updating ".concat(null===n||void 0===n?void 0:n.name):"Add a new skill to the database.",j=i.skill.effects.length>0;Object(O.useEffect)((function(){s({skill:o||ea,image:null})}),[o]);var u=function(){e(je())},b=function(e){var t=e.target,n=t.name,a=t.type,c=t.value,r=t.valueAsNumber,o="number"===a?r:c;s(Object(Pt.a)(Object(Pt.a)({},i),{},{skill:Object(Pt.a)(Object(Pt.a)({},i.skill),{},Object(B.a)({},n,o))}))},m=function(e,t){var n=Object(Fn.a)(i.skill.effects);n.splice(t,1),s(Object(Pt.a)(Object(Pt.a)({},i),{},{skill:Object(Pt.a)(Object(Pt.a)({},i.skill),{},{effects:n})}))},x=function(){var t=Object(k.a)(y.a.mark((function t(a){var c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a.preventDefault(),j){t.next=5;break}return e(ie({message:"Please add at least 1 effect."})),t.abrupt("return");case 5:if(!n){t.next=11;break}return c=Object(Pt.a)(Object(Pt.a)({},i),{},{id:n.id,oldImage:n.icon}),t.next=9,e(qt(c)).unwrap();case 9:t.next=13;break;case 11:return t.next=13,e(Nt(i)).unwrap();case 13:e(je()),s(ta),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(Ee.jsxs)(O.Fragment,{children:[Object(Ee.jsxs)(kt.a,{open:t,onClose:u,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"form-dialog-title",children:[Object(Ee.jsx)(Ct.a,{id:"form-dialog-title",children:l}),Object(Ee.jsxs)("form",{onSubmit:x,children:[Object(Ee.jsxs)(wt.a,{children:[Object(Ee.jsx)(St.a,{children:d}),Object(Ee.jsx)(Be.a,{my:3,children:Object(Ee.jsxs)(Dt.a,{children:[Object(Ee.jsx)("input",{accept:"image/*",style:{display:"none"},id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){var t,n=(null===(t=e.currentTarget.files)||void 0===t?void 0:t.item(0))||null,a=(null===n||void 0===n?void 0:n.name)||"";s(Object(Pt.a)(Object(Pt.a)({},i),{},{image:n,skill:Object(Pt.a)(Object(Pt.a)({},i.skill),{},{icon:a})}))}}),Object(Ee.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(Ee.jsx)(W.a,{variant:"contained",component:"span",children:"Upload Image"}),i.image&&Object(Ee.jsx)(M.a,{sx:{marginLeft:2,display:"inline"},children:i.image.name})]})]})}),Object(Ee.jsx)(Be.a,{my:3,children:Object(Ee.jsx)(Bt.a,{autoFocus:!0,name:"name",label:"Name",value:i.skill.name,onChange:b,fullWidth:!0,required:!0,inputProps:{minLength:3,maxLength:25}})}),Object(Ee.jsx)(Be.a,{my:3,children:Object(Ee.jsx)(Bt.a,{autoFocus:!0,name:"description",label:"Description",value:i.skill.description,onChange:b,fullWidth:!0,multiline:!0,minRows:4,inputProps:{maxLength:200}})}),Object(Ee.jsxs)(Be.a,{my:3,children:[Object(Ee.jsx)(St.a,{variant:"subtitle1",component:"h5",gutterBottom:!0,children:"Skill Type"}),Object(Ee.jsx)(Je.a,{container:!0,spacing:2,children:Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,select:!0,margin:"dense",label:"Class",name:"class",value:i.skill.class,onChange:b,children:_.map((function(e){return Object(Ee.jsx)(ln.a,{value:e,children:Q[e]},e)}))})})})]}),Object(Ee.jsxs)(Be.a,{my:3,children:[Object(Ee.jsx)(St.a,{variant:"subtitle1",component:"h5",gutterBottom:!0,children:"Skill Properties"}),Object(Ee.jsxs)(Je.a,{container:!0,spacing:2,children:[Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsxs)(Bt.a,{fullWidth:!0,select:!0,margin:"dense",name:"target",label:"Target",value:i.skill.target,onChange:b,required:!0,children:[Object(Ee.jsx)(ln.a,{value:"self",children:"Self"}),Object(Ee.jsx)(ln.a,{value:"enemy",children:"Enemy"})]})}),Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"level",label:"Level (0-".concat(9,")"),type:"number",value:i.skill.level,onChange:b,required:!0,inputProps:{min:0,max:9}})}),Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"price",label:"Price (0-".concat(R,")"),type:"number",value:i.skill.price,onChange:b,required:!0,inputProps:{min:0,max:R}})}),Object(Ee.jsx)(Je.a,{item:!0,xs:6,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,margin:"dense",name:"maxUses",label:"Max Uses (0-".concat(20,")"),type:"number",value:i.skill.maxUses,onChange:b,required:!0,inputProps:{min:0,max:20}})})]})]}),Object(Ee.jsxs)(Be.a,{my:3,children:[Object(Ee.jsx)(St.a,{variant:"subtitle1",component:"h5",gutterBottom:!0,children:"Skill Effects"}),Object(Ee.jsx)(Je.a,{container:!0,spacing:1,children:j?i.skill.effects.map((function(e,t){return Object(Ee.jsx)(Je.a,{item:!0,xs:12,sm:6,children:Object(Ee.jsx)(Yn,{effect:e,index:t,onRemove:m})},t)})):Object(Ee.jsx)(Je.a,{item:!0,xs:12,children:Object(Ee.jsx)(M.a,{children:"Please add some effects!"})})})]})]}),Object(Ee.jsxs)(Mt.a,{children:[Object(Ee.jsx)(W.a,{variant:"contained",onClick:function(){e(ue({}))},color:"secondary",children:"Add Effect"}),Object(Ee.jsx)(W.a,{onClick:u,color:"primary",children:"Cancel"}),Object(Ee.jsx)(W.a,{type:"submit",color:"primary",disabled:a,children:"Save"})]})]})]}),Object(Ee.jsx)(Jn,{onAddEffect:function(e){s(Object(Pt.a)(Object(Pt.a)({},i),{},{skill:Object(Pt.a)(Object(Pt.a)({},i.skill),{},{effects:i.skill.effects.concat(e)})}))},onUpdateEffect:function(e,t){s(Object(Pt.a)(Object(Pt.a)({},i),{},{skill:Object(Pt.a)(Object(Pt.a)({},i.skill),{},{effects:i.skill.effects.map((function(n,a){return t===a?e:n}))})}))}})]})},aa=function(){var e=E(),t=D((function(e){return e.modals.errorModal})),n=t.open,a=t.title,c=t.message,r=function(){e(se())};return Object(Ee.jsxs)(kt.a,{open:n,onClose:r,"aria-labelledby":"form-dialog-title",children:[Object(Ee.jsx)(Ct.a,{id:"form-dialog-title",children:a||"Error"}),Object(Ee.jsx)(wt.a,{children:Object(Ee.jsx)(St.a,{children:c||"Something went wrong!"})}),Object(Ee.jsx)(Mt.a,{children:Object(Ee.jsx)(W.a,{onClick:r,color:"primary",children:"Confirm"})})]})},ca=n(280),ra=["expand"],ia=Object(gn.a)((function(e){e.expand;var t=Object(Et.a)(e,ra);return Object(Ee.jsx)(S.a,Object(Pt.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}})),sa=Object(gn.a)("img")({width:"40px"}),oa=function(e){var t=e.id,n=E(),a=Object(A.c)(Gt)(t),c=Object(A.c)(Vt)(t),r=Object(O.useState)(!1),i=Object(At.a)(r,2),s=i[0],o=i[1];Object(O.useEffect)((function(){(null===a||void 0===a?void 0:a.icon)&&n(Ut(a))}),[n,a]);return a?Object(Ee.jsxs)(vn.a,{variant:"outlined",children:[Object(Ee.jsx)(ca.a,{avatar:c?Object(Ee.jsx)(sa,{src:c,alt:a.name}):Object(Ee.jsx)(Be.a,{sx:{height:40,width:40,bgcolor:"background.default"}}),title:a.name,subheader:Y[at(a)],action:Object(Ee.jsx)(ia,{expand:s,onClick:function(){o(!s)},"aria-expanded":s,"aria-label":"show more",children:Object(Ee.jsx)(wn.a,{})})}),Object(Ee.jsx)(Ue.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(Ee.jsxs)(yn.a,{children:[Object(Ee.jsx)(M.a,{gutterBottom:!0,children:a.description}),Object(Ee.jsxs)(Be.a,{component:"ul",sx:{margin:0},children:[Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Class:"," "]}),Q[a.class]]}),Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Target:"," "]}),a.target]}),Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Level:"," "]}),a.level]}),Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Value:"," "]}),a.price,"g"]}),Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Max Uses:"," "]}),a.maxUses]})]})]})})]}):null},la=function(){var e=E(),t=Object(ze.f)().id,n=Object(O.useContext)(ye),a=Object(A.c)(et)(t),c=Object(A.c)(tt)(t),r=D((function(e){return e.modals.confirmationModalOpen})),i=D((function(e){return"loading"===e.monsters.status}));if(Object(O.useEffect)((function(){(null===a||void 0===a?void 0:a.portrait)&&e(_e(a))}),[e,a]),!a)return null;var s,o=function(){var t=Object(k.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(ce());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(){var t=Object(k.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(Ye(a)).unwrap();case 3:e(re()),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)(Be.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",marginBottom:2},children:[Object(Ee.jsx)(M.a,{variant:"h2",children:a.name}),n&&Object(Ee.jsxs)(Be.a,{sx:{display:"flex"},children:[Object(Ee.jsx)(S.a,{"aria-label":"add",color:"secondary",onClick:function(){e(oe(a))},children:Object(Ee.jsx)(vt.a,{fontSize:"large"})}),Object(Ee.jsx)(S.a,{"aria-label":"add",color:"warning",onClick:o,children:Object(Ee.jsx)(yt.a,{fontSize:"large"})})]})]}),c&&Object(Ee.jsx)(Be.a,{component:"img",sx:{marginBottom:3,maxWidth:"100%"},src:c,alt:a.name}),Object(Ee.jsxs)(Be.a,{marginBottom:4,children:[Object(Ee.jsx)(M.a,{variant:"body2",color:"textSecondary",component:"h5",gutterBottom:!0,children:"Description"}),Object(Ee.jsx)(M.a,{variant:"h5",paragraph:!0,children:a.description||"No description available."}),Object(Ee.jsx)(Fe.a,{})]}),Object(Ee.jsxs)(Be.a,{marginBottom:4,children:[Object(Ee.jsx)(M.a,{variant:"body2",color:"textSecondary",component:"h5",gutterBottom:!0,children:"Attributes"}),Object(Ee.jsx)(Ve.a,{sx:{marginBottom:3},children:Object(Ee.jsxs)(Be.a,{sx:{display:"flex",justifyContent:"space-around",flexWrap:{xs:"wrap",lg:"nowrap"},gridGap:16,padding:2},children:[dt(a.stats).map((function(e){return Object(Ee.jsxs)(O.Fragment,{children:[Object(Ee.jsxs)(Be.a,{sx:{textAlign:"center",flex:1},children:[Object(Ee.jsx)(M.a,{children:e.name}),Object(Ee.jsx)(M.a,{variant:"h5",component:"p",children:e.value})]}),Object(Ee.jsx)(Fe.a,{sx:{display:{xs:"none",lg:"block"}},orientation:"vertical",flexItem:!0})]},e.key)})),Object(Ee.jsxs)(Be.a,{sx:{textAlign:"center",flex:1},children:[Object(Ee.jsx)(M.a,{color:"primary",children:"Challenge"}),Object(Ee.jsx)(M.a,{color:"primary",variant:"h5",component:"p",children:a.challenge})]})]})}),Object(Ee.jsx)(Fe.a,{})]}),Object(Ee.jsxs)(Be.a,{marginBottom:4,children:[Object(Ee.jsx)(M.a,{variant:"body2",color:"textSecondary",component:"h5",gutterBottom:!0,children:"Resistances"}),Object(Ee.jsxs)(Je.a,{container:!0,spacing:3,sx:{marginBottom:3},children:[Object(Ee.jsx)(Je.a,{item:!0,xs:12,sm:6,md:4,children:Object(Ee.jsx)(gt,{title:"Physical",stats:(s=a.resistances,N.map((function(e){return{key:e,name:G[e],value:s[e]}})))})}),Object(Ee.jsx)(Je.a,{item:!0,xs:12,sm:6,md:4,children:Object(Ee.jsx)(gt,{title:"Elemental",stats:ut(a.resistances)})}),Object(Ee.jsx)(Je.a,{item:!0,xs:12,sm:6,md:4,children:Object(Ee.jsx)(gt,{title:"Auxillary",stats:bt(a.resistances)})})]}),Object(Ee.jsx)(Fe.a,{})]}),Object(Ee.jsxs)(Be.a,{marginBottom:4,children:[Object(Ee.jsx)(M.a,{variant:"body2",color:"textSecondary",component:"h5",gutterBottom:!0,children:"Skills"}),Object(Ee.jsx)(Je.a,{container:!0,spacing:2,children:a.skills.map((function(e){return Object(Ee.jsx)(Je.a,{item:!0,xs:12,md:6,lg:3,children:Object(Ee.jsx)(oa,{id:e},e)},e)}))})]}),Object(Ee.jsx)(Wt,{open:r,title:"Are you sure?",content:"This action will permanently delete ".concat(a.name," from the database."),handleClose:function(){e(re())},handleConfirm:l,disabled:i})]})},da=function(e){var t=e.monster,n=e.onDeleteMonster,a=E();return Object(Ee.jsxs)(Be.a,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[Object(Ee.jsx)(S.a,{"aria-label":"view",color:"primary",component:He.b,to:"/monsters/".concat(t.id),children:Object(Ee.jsx)(Zt.a,{})}),Object(Ee.jsx)(S.a,{"aria-label":"update",color:"secondary",onClick:function(){a(oe(t))},children:Object(Ee.jsx)(Yt.a,{})}),Object(Ee.jsx)(S.a,{"aria-label":"delete",color:"warning",onClick:function(){n()},children:Object(Ee.jsx)(Qt.a,{})})]})},ja=function(e){var t=e.monster,n=E(),a=Object(O.useContext)(ye),c=Object(O.useState)(!1),r=Object(At.a)(c,2),i=r[0],s=r[1],o=D((function(e){return"loading"===e.monsters.status})),l=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(Ye(t)).unwrap();case 3:s(!1),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(Ee.jsxs)(O.Fragment,{children:[Object(Ee.jsxs)(Ot.a,{hover:!0,tabIndex:-1,children:[Object(Ee.jsx)(ft.a,{component:"th",id:"monster-table-".concat(t.name),scope:"row",children:t.name}),L.map((function(e){return Object(Ee.jsx)(ft.a,{align:"right",children:t.stats[e]},e)})),Object(Ee.jsx)(ft.a,{align:"right",children:t.challenge}),a&&Object(Ee.jsx)(ft.a,{children:Object(Ee.jsx)(da,{monster:t,onDeleteMonster:function(){s(!0)}})})]}),Object(Ee.jsx)(Wt,{open:i,title:"Are you sure?",content:"This action will permanently delete ".concat(t.name," from the database."),handleClose:function(){s(!1)},handleConfirm:l,disabled:o})]})},ua=function(e){var t=e.filters,n=e.onChangeFilters,a=e.onChangeSlider;return Object(Ee.jsx)(Be.a,{sx:{p:2},children:Object(Ee.jsxs)(Je.a,{container:!0,spacing:2,alignItems:"center",children:[Object(Ee.jsx)(Je.a,{item:!0,xs:12,md:3,children:Object(Ee.jsx)(Bt.a,{fullWidth:!0,size:"small",label:"Search",type:"search",name:"name",value:t.name,onChange:n,InputProps:{endAdornment:Object(Ee.jsx)(on.a,{position:"end",children:Object(Ee.jsx)(un.a,{})})}})}),Object(Ee.jsxs)(Je.a,{item:!0,xs:12,md:3,children:[Object(Ee.jsx)(M.a,{variant:"body2",children:"Challenge"}),Object(Ee.jsx)(dn.a,{size:"small",name:"challenge",value:t.challenge,onChange:a,valueLabelDisplay:"auto",step:1,min:1,max:30})]})]})})},ba=[{id:"name",label:"Name"},{id:o.Strength,align:"right",label:"Strength"},{id:o.Dexterity,align:"right",label:"Dexterity"},{id:o.Constitution,align:"right",label:"Constitution"},{id:o.Intelligence,align:"right",label:"Intelligence"},{id:o.Wisdom,align:"right",label:"Wisdom"},{id:o.Charisma,align:"right",label:"Charisma"},{id:"challenge",align:"right",label:"Challenge"}],ma=function(e){var t=e.order,n=e.orderBy,a=e.onRequestSort,c=Object(O.useContext)(ye);return Object(Ee.jsx)(ht.a,{children:Object(Ee.jsxs)(Ot.a,{children:[ba.map((function(e){return Object(Ee.jsx)(ft.a,{align:e.align,sortDirection:n===e.id&&t,children:Object(Ee.jsxs)(Rt.a,{active:n===e.id,direction:n===e.id?t:"asc",onClick:(c=e.id,function(e){a(e,c)}),children:[e.label,n===e.id?Object(Ee.jsx)(Be.a,{component:"span",sx:Tt.a,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var c})),c&&Object(Ee.jsx)(ft.a,{align:"right",children:"Actions"})]})})},xa={name:"",challenge:30},ha=function(){var e=D((function(e){return e.monsters.monsters})),t=Object(O.useState)("asc"),n=Object(At.a)(t,2),a=n[0],c=n[1],r=Object(O.useState)("name"),i=Object(At.a)(r,2),s=i[0],o=i[1],l=Object(O.useState)(0),d=Object(At.a)(l,2),j=d[0],u=d[1],b=Object(O.useState)(25),m=Object(At.a)(b,2),x=m[0],h=m[1],f=Object(O.useState)(xa),p=Object(At.a)(f,2),g=p[0],v=p[1],y=j>0?Math.max(0,(1+j)*x-e.length):0;return Object(Ee.jsx)(O.Fragment,{children:Object(Ee.jsx)(Be.a,{sx:{width:"100%"},children:Object(Ee.jsxs)(Ve.a,{sx:{width:"100%",mb:2},children:[Object(Ee.jsx)(ua,{filters:g,onChangeFilters:function(e){var t=e.target,n=t.name,a=t.value;v(Object(Pt.a)(Object(Pt.a)({},g),{},Object(B.a)({},n,a)))},onChangeSlider:function(e,t){var n=e.target.name;v(Object(Pt.a)(Object(Pt.a)({},g),{},Object(B.a)({},n,t)))}}),Object(Ee.jsx)(mt.a,{children:Object(Ee.jsxs)(xt.a,{sx:{minWidth:750},"aria-labelledby":"tableTitle",children:[Object(Ee.jsx)(ma,{order:a,orderBy:s,onRequestSort:function(e,t){c(s===t&&"asc"===a?"desc":"asc"),o(t)}}),Object(Ee.jsxs)(pt.a,{children:[e.slice().filter(lt(g)).sort(ot(a,s)).slice(j*x,j*x+x).map((function(e){return Object(Ee.jsx)(ja,{monster:e},e.id)})),y>0&&Object(Ee.jsx)(Ot.a,{style:{height:53*y},children:Object(Ee.jsx)(ft.a,{colSpan:6})})]})]})}),Object(Ee.jsx)(It.a,{rowsPerPageOptions:[5,10,25],component:"div",count:e.length,rowsPerPage:x,page:j,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){h(parseInt(e.target.value,10)),u(0)}})]})})})},Oa=function(){var e=Object(O.useContext)(ye),t=E();return Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)(Be.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:1,marginBottom:2},children:[Object(Ee.jsx)(M.a,{variant:"h2",children:"Monsters"}),e&&Object(Ee.jsx)(W.a,{variant:"contained",onClick:function(){t(oe())},children:"Add Monster"})]}),Object(Ee.jsx)(ha,{})]})},fa=n(253),pa=function(e){var t=e.children;return Object(Ee.jsxs)("div",{style:{display:"flex"},children:[Object(Ee.jsx)(De,{}),Object(Ee.jsx)(Ge,{}),Object(Ee.jsxs)(fa.a,{sx:{flexGrow:1,padding:3},maxWidth:"lg",children:[Object(Ee.jsx)(Be.a,{sx:function(e){return e.mixins.toolbar}}),t]})]})},ga=function(){return Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(M.a,{variant:"h2",gutterBottom:!0,children:"Settings"}),Object(Ee.jsx)(M.a,{children:"Coming soon"})]})},va=function(e){return Object(Ee.jsx)(mt.a,{component:Ve.a,children:Object(Ee.jsx)(xt.a,{"aria-label":"skill properties table",children:Object(Ee.jsxs)(pt.a,{children:[Object(Ee.jsxs)(Ot.a,{children:[Object(Ee.jsx)(ft.a,{component:"th",scope:"row",sx:{fontWeight:"medium"},children:"Class"}),Object(Ee.jsx)(ft.a,{align:"right",children:Q[e.class]})]}),Object(Ee.jsxs)(Ot.a,{children:[Object(Ee.jsx)(ft.a,{component:"th",scope:"row",sx:{fontWeight:"medium"},children:"Target"}),Object(Ee.jsx)(ft.a,{align:"right",children:e.target})]}),Object(Ee.jsxs)(Ot.a,{children:[Object(Ee.jsx)(ft.a,{component:"th",scope:"row",sx:{fontWeight:"medium"},children:"Level"}),Object(Ee.jsx)(ft.a,{align:"right",children:e.level})]}),Object(Ee.jsxs)(Ot.a,{children:[Object(Ee.jsx)(ft.a,{component:"th",scope:"row",sx:{fontWeight:"medium"},children:"Price"}),Object(Ee.jsx)(ft.a,{align:"right",children:e.price})]}),Object(Ee.jsxs)(Ot.a,{children:[Object(Ee.jsx)(ft.a,{component:"th",scope:"row",sx:{fontWeight:"medium",border:0},children:"Max Uses"}),Object(Ee.jsx)(ft.a,{align:"right",sx:{border:0},children:e.maxUses})]})]})})})},ya=function(e){var t=e.modifiers,n=e.accuracy,a=e.duration,c=t.stats,r=t.resistances;return Object(Ee.jsxs)(Be.a,{component:"ul",sx:{margin:0},children:[Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Accuracy:"," "]}),n,"%"]}),Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Duration:"," "]}),a," turns"]}),c&&Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsx)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:"Stat Modifiers"}),Object(Ee.jsx)(Be.a,{component:"ul",children:Object.keys(c).map((function(e){return Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:[H[e],":"," "]}),c[e]]},e)}))})]}),r&&Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsx)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:"Resistance Modifiers"}),Object(Ee.jsx)(Be.a,{component:"ul",children:Object.keys(r).map((function(e){return Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:[G[e],":"," "]}),r[e],"%"]},e)}))})]})]})},ka=function(e){var t=e.damageType,n=e.modifier,a=e.multiplier,c=e.min,r=e.max;return Object(Ee.jsxs)(Be.a,{component:"ul",sx:{margin:0},children:[Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Damage Type:"," "]}),G[t]]}),Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Modifier:"," "]}),H[n]]}),Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Multiplier:"," "]}),"x",a]}),Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Damage:"," "]}),c,"-",r]})]})},Ca=function(e){var t=e.modifier,n=e.multiplier,a=e.min,c=e.max;return Object(Ee.jsxs)(Be.a,{component:"ul",sx:{margin:0},children:[Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Modifier:"," "]}),H[t]]}),Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Multiplier:"," "]}),"x",n]}),Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Health:"," "]}),a,"-",c]})]})},wa=function(e){var t=e.effect,n=e.accuracy,a=e.duration;return Object(Ee.jsxs)(Be.a,{component:"ul",sx:{margin:0},children:[Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Accuracy:"," "]}),n,"%"]}),Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Duration:"," "]}),a," turns"]}),Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Effect:"," "]}),Z[t]]})]})},Sa=function(e){var t=e.multiplier;return Object(Ee.jsx)(Be.a,{component:"ul",sx:{margin:0},children:Object(Ee.jsxs)(M.a,{component:"li",children:[Object(Ee.jsxs)(Be.a,{component:"span",sx:{fontWeight:"medium"},children:["Multiplier:"," "]}),"x",t]})})},Ma=["expand"],Wa=Object(gn.a)((function(e){e.expand;var t=Object(Et.a)(e,Ma);return Object(Ee.jsx)(S.a,Object(Pt.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}})),Pa=function(e){var t=Object(O.useState)(!1),n=Object(At.a)(t,2),c=n[0],r=n[1];return Object(Ee.jsxs)(vn.a,{variant:"outlined",children:[Object(Ee.jsx)(ca.a,{title:J[e.type],action:Object(Ee.jsx)(Wa,{expand:c,onClick:function(){r(!c)},"aria-expanded":c,"aria-label":"show more",children:Object(Ee.jsx)(wn.a,{})})}),Object(Ee.jsx)(Ue.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(Ee.jsx)(yn.a,{children:function(){switch(e.type){case a.WeaponDamage:return Object(Ee.jsx)(Sa,Object(Pt.a)({},e));case a.Damage:return Object(Ee.jsx)(ka,Object(Pt.a)({},e));case a.Heal:return Object(Ee.jsx)(Ca,Object(Pt.a)({},e));case a.Status:return Object(Ee.jsx)(ya,Object(Pt.a)({},e));case a.Auxiliary:return Object(Ee.jsx)(wa,Object(Pt.a)({},e));default:return null}}()})})]})},Aa=Object(gn.a)("img")({width:"64px"}),Ea=function(){var e=E(),t=Object(ze.f)().id,n=Object(O.useContext)(ye),a=Object(A.c)(Gt)(t),c=Object(A.c)(Vt)(t),r=D((function(e){return e.modals.confirmationModalOpen})),i=D((function(e){return"loading"===e.skills.status}));if(Object(O.useEffect)((function(){(null===a||void 0===a?void 0:a.icon)&&e(Ut(a))}),[e,a]),!a)return null;var s=function(){var t=Object(k.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(ce());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(k.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(zt(a)).unwrap();case 3:e(re()),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)(Be.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",marginBottom:2},children:[Object(Ee.jsx)(M.a,{variant:"h2",children:a.name}),n&&Object(Ee.jsxs)(Be.a,{sx:{display:"flex"},children:[Object(Ee.jsx)(S.a,{"aria-label":"add",color:"secondary",onClick:function(){e(de(a))},children:Object(Ee.jsx)(vt.a,{fontSize:"large"})}),Object(Ee.jsx)(S.a,{"aria-label":"add",color:"warning",onClick:s,children:Object(Ee.jsx)(yt.a,{fontSize:"large"})})]})]}),Object(Ee.jsxs)(Be.a,{sx:{marginBottom:4},children:[Object(Ee.jsxs)(Be.a,{sx:{display:"flex",alignItems:"flex-start",gap:2,marginBottom:3},children:[c&&Object(Ee.jsx)(Aa,{src:c,alt:a.name}),Object(Ee.jsxs)(Be.a,{children:[Object(Ee.jsx)(M.a,{variant:"body2",color:"textSecondary",component:"h5",gutterBottom:!0,children:"Description"}),Object(Ee.jsx)(M.a,{variant:"h5",paragraph:!0,children:a.description||"No description available."})]})]}),Object(Ee.jsx)(Fe.a,{})]}),Object(Ee.jsxs)(Be.a,{sx:{marginBottom:4},children:[Object(Ee.jsx)(M.a,{variant:"body2",color:"textSecondary",component:"h5",gutterBottom:!0,children:"Properties"}),Object(Ee.jsx)(Je.a,{container:!0,spacing:3,marginBottom:3,children:Object(Ee.jsx)(Je.a,{item:!0,xs:12,md:6,lg:3,children:Object(Ee.jsx)(va,Object(Pt.a)({},a))})}),Object(Ee.jsx)(Fe.a,{})]}),Object(Ee.jsxs)(Be.a,{children:[Object(Ee.jsx)(M.a,{variant:"body2",color:"textSecondary",component:"h5",gutterBottom:!0,children:"Effects"}),Object(Ee.jsx)(Je.a,{container:!0,spacing:2,children:a.effects.map((function(e,t){return Object(Ee.jsx)(Je.a,{item:!0,xs:12,md:6,lg:3,children:Object(Ee.jsx)(Pa,Object(Pt.a)({},e))},"".concat(e.type,"-").concat(t))}))})]}),Object(Ee.jsx)(Wt,{open:r,title:"Are you sure?",content:"This action will permanently delete ".concat(a.name," from the database."),handleClose:function(){e(re())},handleConfirm:o,disabled:i})]})},Da=function(){var e=Object(O.useContext)(ye),t=E();return Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)(Be.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:1,marginBottom:2},children:[Object(Ee.jsx)(M.a,{variant:"h2",children:"Skills"}),e&&Object(Ee.jsx)(W.a,{variant:"contained",onClick:function(){t(de())},children:"Add Skill"})]}),Object(Ee.jsx)(On,{})]})},Ba=function(){return Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(M.a,{variant:"h2",gutterBottom:!0,children:"Weapons"}),Object(Ee.jsx)(M.a,{children:"Coming soon"})]})},Fa=function(){return Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(M.a,{variant:"h2",gutterBottom:!0,children:"Armour"}),Object(Ee.jsx)(M.a,{children:"Coming soon"})]})},Ra=function(){return Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(M.a,{variant:"h2",gutterBottom:!0,children:"Classes"}),Object(Ee.jsx)(M.a,{children:"Coming soon"})]})},Ia=function(){return Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(M.a,{variant:"h2",gutterBottom:!0,children:"Dashboard"}),Object(Ee.jsx)(M.a,{children:"Coming soon"})]})};var Ta=function(){return Object(Ee.jsxs)(He.a,{basename:"/monster-cms",children:[Object(Ee.jsx)(pa,{children:Object(Ee.jsxs)(ze.c,{children:[Object(Ee.jsx)(ze.a,{exact:!0,path:"/",component:Ia}),Object(Ee.jsx)(ze.a,{path:"/settings",component:ga}),Object(Ee.jsx)(ze.a,{path:"/monsters/:id",component:la}),Object(Ee.jsx)(ze.a,{path:"/monsters",component:Oa}),Object(Ee.jsx)(ze.a,{path:"/skills/:id",component:Ea}),Object(Ee.jsx)(ze.a,{path:"/skills",component:Da}),Object(Ee.jsx)(ze.a,{path:"/weapons",component:Ba}),Object(Ee.jsx)(ze.a,{path:"/armour",component:Fa}),Object(Ee.jsx)(ze.a,{path:"/classes",component:Ra})]})}),Object(Ee.jsx)(Bn,{}),Object(Ee.jsx)(Dn,{}),Object(Ee.jsx)(na,{}),Object(Ee.jsx)(aa,{})]})},La=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,281)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},Ua=Object($.a)({reducer:{modals:he,sidedrawer:ve,monsters:nt,skills:Jt}}),Na=n(245),qa=n(237),za=n(140),Ha=Object(za.a)({palette:{background:{default:"#212121",paper:"#424242"},primary:{main:"#90caf9"},secondary:{main:"#f48fb1"},error:{main:"#f44336"},warning:{main:"#ff9800"},info:{main:"#2196f3"},success:{main:"#4caf50"},mode:"dark"}}),Ga=function(e){var t=e.children,n=Object(O.useState)(null),a=Object(At.a)(n,2),c=a[0],r=a[1];return Object(O.useEffect)((function(){return Me.onAuthStateChanged((function(e){r(e)}))}),[]),Object(Ee.jsx)(ye.Provider,{value:c,children:t})},Va=function(e){var t=e.children,n=E();return Object(O.useEffect)((function(){Pe.orderByChild("name").on("value",(function(e){var t=[];e.forEach((function(e){var n=Object(Pt.a)(Object(Pt.a)({},e.val()),{},{id:e.key});t.push(n)})),n(Ze(t))}))}),[n]),Object(O.useEffect)((function(){Ae.orderByChild("name").on("value",(function(e){var t=[];e.forEach((function(e){var n=Object(Pt.a)(Object(Pt.a)({},e.val()),{},{id:e.key});t.push(n)})),n(Lt(t))}))}),[n]),Object(Ee.jsx)(O.Fragment,{children:t})};g.a.render(Object(Ee.jsx)(f.a.StrictMode,{children:Object(Ee.jsx)(A.a,{store:Ua,children:Object(Ee.jsx)(Ga,{children:Object(Ee.jsx)(Na.a,{theme:Ha,children:Object(Ee.jsxs)(Va,{children:[Object(Ee.jsx)(qa.a,{}),Object(Ee.jsx)(Ta,{})]})})})})}),document.getElementById("root")),La()}},[[174,1,2]]]);
//# sourceMappingURL=main.aff02b11.chunk.js.map